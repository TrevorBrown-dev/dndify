{"version":3,"sources":["models/items/ItemType.ts","components/misc/LinkedHeader.tsx","components/misc/WikiReference.tsx","components/CreateCharacter/Section.tsx","components/CreateCharacter/Alignment.tsx","components/CreateCharacter/Background.tsx","components/CreateCharacter/Backstory.tsx","components/CreateCharacter/CharacterDescription.tsx","components/Modal.tsx","models/items/Rarity.ts","components/misc/TripleCheckBox.tsx","models/dice/computeDice.ts","models/dice/parseExpression.ts","models/dice/parseStat.ts","models/dice/dice.tsx","components/CreateCharacter/Items/RollablePropertyModal.tsx","components/CreateCharacter/Items/ItemCard.tsx","components/CreateCharacter/Items/RollableProperty.tsx","components/CreateCharacter/Items/Items.tsx","components/SaveUploadCharacter.tsx","components/Sidebar.tsx","components/CreateCharacter/CharacterInfo.tsx","components/CreateCharacter/MiniStats.tsx","models/money.ts","components/CreateCharacter/OtherProficiencies.tsx","components/CreateCharacter/SavingThrows.tsx","components/CreateCharacter/Skills.tsx","components/CreateCharacter/Header.tsx","components/CreateCharacter/Race.tsx","components/CreateCharacter/Class.tsx","components/CreateCharacter/HitDice.tsx","components/misc/HeartContainer.tsx","components/CreateCharacter/Health.tsx","components/CreateCharacter/CreateSidebar.tsx","components/CreateCharacter/index.ts","components/CreateCharacter/CreateCharacter.tsx","components/svg/DnDAndSVG.tsx","components/Home/index.ts","components/Home/Home.tsx","components/LoadCharacter/LoadCharacter.tsx","models/savingThrows.ts","models/proficiencies.ts","models/character.ts","models/classes.ts","models/stats.ts","models/items/items.ts","Testing.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ItemType","LinkedHeader","id","title","children","myRef","useRef","className","ref","style","display","userSelect","cursor","onClick","current","scrollIntoView","WikiReference","href","target","rel","Section","icon","header","wikiReference","useState","visible","setVisible","marginRight","v","Alignment","character","useEffect","document","querySelectorAll","forEach","el","textContent","toLowerCase","alignment","classList","add","remove","handleClick","event","content","currentTarget","setAlignment","oldContent","Background","type","placeholder","value","background","onChange","e","setBackground","Backstory","width","overflow","backstory","hideToolbar","preview","textareaProps","wrap","padding","setBackstory","paddingTop","Markdown","source","CharacterDescription","handleChange","name","setDescription","oldDesc","console","log","description","els","placeholderMap","age","weight","skin","height","eyes","hair","key","push","htmlFor","substr","toUpperCase","renderInputs","Modal","active","setActive","stopPropagation","useModal","useCallback","a","Rarity","ItemTypes","CheckState","Rarities","mapRarity","rarity","diceRegex","parseExpression","diceExpr","report","expression","reports","parsedExpr","replaceAll","ex","rep","dice","match","diceReport","numOfDice","magnitude","rolls","filteredRolls","expr","split","length","high","shift","highestN","parseInt","expr2","size","diceArr","i","Math","floor","random","sortedCopy","sort","b","splice","min","reduce","computeDice","toString","stat","stats","modifier","parseStat","evaluate","error","alert","useDice","roll","diceString","DiceRoller","setDiceString","val","setVal","RollablePropertyModal","weaponProps","selectedProp","setSelectedProp","mapWeaponProps","map","wp","index","magnitudeType","defaultItem","cost","ARTIFACT","ItemCard","item","toggleOpen","modal","itemType","color","COMMON","WEAPON","textAlign","RollableEditRow","rollableProps","setItem","filter","rp","RollableEditForm","initialValues","rpVals","setRpVals","wps","RollablePropertyForm","props","rows","setRows","undefined","r","mapItemTypes","SelectItemType","defaultValue","SelectRarity","blankItem","Items","marginTop","toggleRpInfo","rpModal","resize","position","top","items","addItem","SaveUploadCharacter","inputRef","characterData","JSON","stringify","serialize","element","createElement","file","Blob","URL","createObjectURL","download","body","appendChild","click","handleSaveClick","files","read","FileReader","readAsBinaryString","onloadend","result","char","parse","deserialize","hidden","Sidebar","CharacterInfo","classes","race","c","level","renderInfo","MiniStats","fontSize","marginBottom","mod","short_name","proficiency","bottom","left","Money","icons","TripleCheckBoxLegend","justifyContent","TripleCheckBox","setValue","off","checkState","setCheckState","cycleState","oldState","state","on","superOn","Proficiency","onDelete","proficiencies","otherProficiencies","proficiencyLevel","setProficiencyLevel","wordBreak","hyphens","OtherProficiencies","proficiencyText","setProficiencyText","setProficiencies","removeProficiency","oldProfs","oldName","addProficiency","onKeyDown","SavingThrows","renderStats","savingThrows","getProficiencyValue","preventDefault","querySelector","marginLeft","mapProficiencies","governingSkill","substring","Skills","StatHeaders","onStatHeaderClick","rollStats","buildHeaders","Header","autoComplete","setName","Race","setRace","Class","includes","toggleClass","HitDice","paddingBottom","opacity","disabled","paddingRight","paddingLeft","setLevel","hitDice","setDice","HeartContainer","focus","focusInput","hp","abs","setHP","Health","CreateSidebar","links","setLinks","elements","setElements","l","getElementById","to","CreateCharacter","onDrop","dataTransfer","onDragOver","DnDAndSVG","fill","stroke","strokeWidth","xmlns","viewBox","x","y","d","clipPath","Home","gridColumn","animationDuration","LoadCharacter","backgroundColor","ProficiencyLevels","blankProficiencies","Acrobatics","none","Arcana","Athletics","Deception","History","Insight","Intimidation","Investigation","Medicine","Nature","Perception","Performance","Persuasion","Religion","Stealth","Survival","useProficiencies","profs","_setProficiencies","prof","incomingProficiencies","exportedProficiencies","useCharacter","_classes","_setClasses","some","oc","_setClassProperty","oldClasses","addClass","removeClass","cl","totalLevel","useClasses","statModels","_setStats","incomingStat","oldStats","s","find","startsWith","useStats","incoming","_setSavingThrows","oldSavingThrows","getProficiencyLevel","found","incomingSavingThrows","oldThrows","useSavingThrows","money","m","setMoney","addMoney","amount","oldMoney","removeMoney","useMoney","setItems","removeItem","findIndex","useItems","_proficiency","ceil","Testing","toggleActive","App","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c83aa0fb.chunk.js","sourcesContent":["export enum ItemType {\r\n    WEAPON,\r\n    ARMOR,\r\n    AMMUNITION,\r\n    TOOL,\r\n    POISON,\r\n    POTION,\r\n    AVENTURING_GEAR,\r\n    GEMSTONE,\r\n    HOLY_SYMBOL,\r\n    ARCANE_FOCUS,\r\n    DRUIDIC_FOCUS,\r\n    MOUNT,\r\n    VEHICLE,\r\n    EQUIPMENT_PACK,\r\n}\r\n\r\n//TODO: Map ItemType to FontAwesome icon.\r\ninterface ItemTypeDetails {\r\n    name: string,\r\n    icon: string\r\n}\r\nexport const ItemTypes: ItemTypeDetails[] = [\r\n        {\r\n            name:\"Weapon\",\r\n            icon: \"fas fa-sword\"\r\n        },\r\n        {\r\n            name: \"Armor\",\r\n            icon: \"fas fa-helmet-battle\",\r\n        },\r\n        {\r\n            name: \"Ammunition\",\r\n            icon: \"fas fa-bow-arrow\"\r\n        },\r\n        {\r\n            name: \"Tool\",    \r\n            icon: \"fas fa-hammer\",\r\n        },\r\n        {\r\n            name: \"Poison\",\r\n            icon: \"fas fa-flask-poison\",\r\n        },\r\n        {\r\n            name: \"Potion\",\r\n            icon: \"fas fa-flask-potion\",\r\n        },\r\n        {\r\n            name: \"Adventuring Gear\",\r\n            icon: \"fas fa-cog\",\r\n\r\n        },\r\n        {\r\n            name: \"Gemstone\",\r\n            icon: \"fas fa-gem\",\r\n\r\n        },\r\n        {\r\n            name: \"Holy Symbol\",\r\n            icon: \"fas fa-cross\",\r\n        },\r\n        {\r\n            name: \"Arcane Focus\",\r\n            icon: \"fas fa-hand-holding-magic\"\r\n        },\r\n        {\r\n            name: \"Druidic Focus\",\r\n            icon: \"fas fa-acorn\",\r\n        },\r\n        {\r\n            name: \"Mount\",\r\n            icon: \"fas fa-horse-head\",\r\n\r\n        },\r\n        {\r\n            name: \"Vehicle\",\r\n            icon: \"far fa-wagon-covered\",\r\n\r\n        },\r\n        {\r\n            name: \"Equipment Pack\",\r\n            icon: \"fas fa-sack\"\r\n        }\r\n    ];\r\nexport const mapItemType = (itemType: ItemType): ItemTypeDetails => {\r\n    return ItemTypes[itemType];\r\n};","import { useRef } from \"react\";\r\n\r\ninterface LinkedHeaderProps {\r\n    children: React.ReactNode;\r\n    id: string;\r\n    title?: string;\r\n}\r\n\r\nexport const LinkedHeader: React.FC<LinkedHeaderProps> = ({ id, title, children }) => {\r\n    const myRef = useRef<HTMLHeadingElement>(null);\r\n    return (\r\n        <h1 id={id} title={title || id} className=\"header\" ref={myRef} style={{ display: \"inline-block\", userSelect: 'none', cursor: 'pointer' }} onClick={\r\n            () => myRef?.current?.scrollIntoView()\r\n        }>\r\n            <span className=\"link\">\r\n                {children || \"\"}\r\n            </span>\r\n        </h1 >\r\n    );\r\n}\r\n","interface WikiReferenceProps {\r\n    href: string\r\n    title?: string;\r\n}\r\nexport const WikiReference: React.FC<WikiReferenceProps> = ({ href, title }) => {\r\n    return <a href={href} target=\"_blank\" rel=\"noreferrer noopener\"><i title={title || \"Wiki Reference\"} className=\"far fa-question-circle info hoverable\"></i></a>;\r\n}","import React, { useState } from 'react';\r\nimport { LinkedHeader } from '../misc/LinkedHeader';\r\nimport { WikiReference } from '../misc/WikiReference';\r\ninterface SectionProps {\r\n    children: React.ReactNode;\r\n    id: string;\r\n    title: string;\r\n    icon: string;\r\n    header: string;\r\n    wikiReference: string;\r\n}\r\nexport const Section: React.FC<SectionProps> = ({ children, id, title, icon, header, wikiReference }) => {\r\n    const [visible, setVisible] = useState(true);\r\n    return (\r\n        <section className={`create-header create-${id}`}>\r\n            <header>\r\n                <LinkedHeader id={id} title={title}>\r\n                    <i className={icon} style={{ marginRight: '1em' }}></i>\r\n                    {header}\r\n                </LinkedHeader>\r\n                <WikiReference href={wikiReference} />\r\n                <i className={`button-collapse color-primary-hover pointer fas fa-chevron-down ${visible ? 'rotate reverse' : 'rotate'}`} onClick={() => setVisible((v) => !v)}></i>\r\n            </header>\r\n            {visible && <div className='create-body'>{children}</div>}\r\n        </section>\r\n    );\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { CharacterProps } from \".\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const Alignment: React.FC<CharacterProps> = ({ character }) => {\r\n    useEffect(() => {\r\n        document.querySelectorAll('.create-alignment .alignment').forEach(el => {\r\n            if (el.textContent?.toLowerCase() === character.alignment.toLowerCase()) {\r\n                el.classList.add('active');\r\n            } else el.classList.remove('active');\r\n        }, [character.alignment]);\r\n    })\r\n    const handleClick: React.MouseEventHandler<HTMLDivElement> = (event) => {\r\n        const target = event.currentTarget;\r\n        const content = target.textContent;\r\n        if (!content) return;\r\n        character.setAlignment((oldContent) => (oldContent === content) ? \"\" : content);\r\n\r\n    }\r\n    return (\r\n        <Section header=\"Alignment\" icon=\"fas fa-eclipse\" id=\"aligment\" title=\"Alignment\" wikiReference=\"https://dnd5e.info/beyond-1st-level/alignment/\">\r\n            <div className=\"create-alignment\">\r\n                <div className=\"alignment\" onClick={handleClick}>Lawful Good</div>\r\n                <div className=\"alignment\" onClick={handleClick}>Neutral Good</div>\r\n                <div className=\"alignment\" onClick={handleClick}>Chaotic Good</div>\r\n\r\n                <div className=\"alignment\" onClick={handleClick}>Lawful Neutral</div>\r\n                <div className=\"alignment\" onClick={handleClick}>True Neutral</div>\r\n                <div className=\"alignment\" onClick={handleClick}>Chaotic Neutral</div>\r\n\r\n                <div className=\"alignment\" onClick={handleClick}>Lawful Evil</div>\r\n                <div className=\"alignment\" onClick={handleClick}>Neutral Evil</div>\r\n                <div className=\"alignment\" onClick={handleClick}>Chaotic Evil</div>\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import { CharacterProps } from \".\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const Background: React.FC<CharacterProps> = ({ character }) => {\r\n    return (\r\n        <Section id=\"background\" title=\"Background\" header=\"Background\" icon=\"fas fa-scroll\" wikiReference=\"http://dnd5e.wikidot.com/#toc13\">\r\n            <div className=\"background-select\">\r\n                <input type=\"text\" className=\"race-input\" placeholder={\"Acolyte\"} value={character.background} onChange={(e) => character.setBackground(e.target.value)} />\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import { CharacterProps } from \".\";\r\nimport { Section } from \"./Section\";\r\nimport MDEditor from '@uiw/react-md-editor';\r\n\r\nexport const Backstory: React.FC<CharacterProps> = ({ character }) => {\r\n\r\n    return (\r\n        <Section header=\"Backstory\" title=\"Backstory\" id=\"backstory\" icon=\"fas fa-book\" wikiReference=\"https://arcaneeye.com/dm-tools-5e/dnd-character-backstory-template/\">\r\n            <div className=\"sec-backstory center-content\">\r\n\r\n                <p>Write your backstory here! You can use markdown syntax to make it look pretty!</p>\r\n                <p>\r\n                    <a href=\"https://www.markdownguide.org/basic-syntax/\" className=\"color-primary\">\r\n                        Markdown Reference\r\n                    </a>\r\n                </p>\r\n\r\n                <div className=\"md-container\" style={{ width: '70%', overflow: 'hidden' }}>\r\n                    <MDEditor value={character.backstory} hideToolbar={true} preview={\"edit\"}\r\n\r\n                        textareaProps={\r\n                            {\r\n                                placeholder: '# In the Beginning...',\r\n                                wrap: \"hard\",\r\n                                style: { padding: 'inherit' }\r\n                            }\r\n                        }\r\n                        onChange={(value) => character.setBackstory(value || \"\")}\r\n                    />\r\n\r\n                    <fieldset className=\"preview center-content\" style={{ paddingTop: '0em' }}>\r\n                        <legend><span>Preview</span></legend>\r\n                        {(character.backstory === \"\") ? <div className=\"placeholder wmde-markdown\"><h1>In the Beginning...</h1></div> : <MDEditor.Markdown source={character.backstory} />}\r\n                    </fieldset>\r\n                </div>\r\n\r\n            </div>\r\n        </Section >\r\n    )\r\n}","import { CharacterProps } from \".\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const CharacterDescription: React.FC<CharacterProps> = ({ character }) => {\r\n    const handleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n        const { name, value } = e.target;\r\n        character.setDescription((oldDesc) => ({ ...oldDesc, [name]: value }));\r\n        console.log(character.description);\r\n    }\r\n\r\n    const renderInputs = (): JSX.Element[] => {\r\n        const els: JSX.Element[] = [];\r\n        const placeholderMap: { [key: string]: string } = {\r\n            age: '50',\r\n            weight: '110lbs',\r\n            skin: 'Grey',\r\n            height: `6'4\"`,\r\n            eyes: 'Green',\r\n            hair: 'Brown'\r\n        }\r\n        for (let key in character.description) {\r\n            els.push(\r\n                <div className=\"center-grid-justified\" key={key} >\r\n                    <div className=\"left\">\r\n                        <label htmlFor={key}>{`${key.substr(0, 1).toUpperCase()}${key.substr(1).toLowerCase()}`}: </label>\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <input type=\"text\" name={key} id={key} placeholder={placeholderMap[key]} value={character.description[key]} onChange={handleChange} />\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        return els;\r\n    }\r\n\r\n\r\n    return (\r\n        <Section wikiReference=\"https://da-dd.fandom.com/wiki/Creating_a_Character\" id=\"character-description\" title=\"Description\" header=\"Description\" icon=\"fas fa-binoculars\">\r\n            <div className=\"create-description-inputs\">\r\n                {renderInputs()}\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import React, { useCallback, useState } from 'react';\r\ninterface ModalProps {\r\n    active: boolean;\r\n    setActive: (active: boolean) => void;\r\n}\r\nconst Modal: React.FC<ModalProps> = ({ children, active, setActive }) => {\r\n    return active ? (\r\n        <>\r\n            <div\r\n                className=\"modal\"\r\n                onClick={(e) => {\r\n                    setActive(false);\r\n                }}>\r\n                <div\r\n                    className=\"modal-content\"\r\n                    onClick={(e) => e.stopPropagation()}>\r\n                    <i\r\n                        onClick={(e) => {\r\n                            setActive(false);\r\n                        }}\r\n                        className=\"far fa-times close-button hoverable-half color-primary-hover\"></i>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </>\r\n    ) : (\r\n        <></>\r\n    );\r\n};\r\ntype ModalTuple = [() => void, JSX.Element];\r\nexport const useModal = (children: React.ReactNode): ModalTuple => {\r\n    const [active, setActive] = useState(false);\r\n    const toggleActive = useCallback(() => {\r\n        setActive((a) => !a);\r\n    }, [setActive]);\r\n\r\n    return [\r\n        toggleActive,\r\n        <Modal active={active} setActive={setActive}>\r\n            {children}\r\n        </Modal>,\r\n    ];\r\n};\r\n","\r\nexport enum Rarity {\r\n    COMMON,\r\n    UNCOMMON,\r\n    RARE,\r\n    VERY_RARE,\r\n    LEGENDARY,\r\n    ARTIFACT,\r\n}\r\nexport const Rarities = ['Common', 'Uncommon', 'Rare', 'Very Rare', 'Legendary', 'Artifact'];\r\nexport const mapRarity = (rarity: Rarity): string => {\r\n    console.log(\"HMMM\",rarity, Rarities[rarity]);\r\n    const map = Rarities[rarity]\r\n        return map;\r\n};","import { useCallback, useEffect, useState } from \"react\";\r\nexport enum CheckState {\r\n    off = 0,\r\n    on = 1,\r\n    superOn = 2\r\n}\r\n\r\n\r\ninterface TripleCheckBoxProps {\r\n    id?: string;\r\n    className?: string;\r\n    style?: React.CSSProperties;\r\n    name?: string;\r\n    value?: 0 | 1 | 2;\r\n    setValue?: (value: number) => void;\r\n    onStateChange?: (newState: CheckState) => void;\r\n\r\n\r\n}\r\nconst icons = [\"far fa-circle\", \"fas fa-dot-circle\", \"fas fa-circle\"];\r\n\r\n\r\ninterface TripleCheckBoxProficiencyProps {\r\n    style?: React.CSSProperties;\r\n}\r\nexport const TripleCheckBoxLegend: React.FC<TripleCheckBoxProficiencyProps> = ({ style }) => {\r\n    return (\r\n\r\n        <div style={{ ...style, display: 'flex', justifyContent: 'space-around', width: '100%', padding: '0em 4em' }}>\r\n            <div><i className={icons[0]}></i> <span>No Proficiency</span></div>\r\n            <div><i className={icons[1]}></i> <span>Single Proficiency</span></div>\r\n            <div><i className={icons[2]}></i> <span>Double Proficiency</span></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const TripleCheckBox: React.FC<TripleCheckBoxProps> = ({ id, className, name, style, value, setValue }) => {\r\n    const [checkState, setCheckState] = useState<CheckState>(value || CheckState.off);\r\n    useEffect(() => {\r\n        setCheckState(value as unknown as CheckState);\r\n    }, [value, setCheckState])\r\n    const cycleState = useCallback(() => {\r\n        setCheckState(oldState => {\r\n            //Initial State\r\n            let state: CheckState = CheckState.off;\r\n            //Cycle the states between 0 1 or 2 (off, on, or superOn)\r\n            switch (oldState) {\r\n                case CheckState.off:\r\n                    state = CheckState.on;\r\n                    break;\r\n                case 1:\r\n                    state = CheckState.superOn;\r\n                    break;\r\n                case 2:\r\n                default:\r\n                    state = CheckState.off;\r\n                    break;\r\n            }\r\n            if (setValue)\r\n                setValue(state);\r\n\r\n            //Apply the state locally\r\n            return state;\r\n        });\r\n    }, [setCheckState, setValue]);\r\n\r\n\r\n    return (\r\n\r\n        <div className={`${className} checkbox`} onClick={(e) => {\r\n            e.stopPropagation();\r\n            cycleState()\r\n        }} style={style}>\r\n            <input type=\"checkbox\" name={name} style={{ cursor: 'pointer', display: 'none' }} id={id} />\r\n            <i className={`${icons[checkState]} triple-check-box`} style={{ cursor: 'pointer' }}></i>\r\n\r\n        </div>\r\n    );\r\n}","/*\r\n    This file should be reworked.\r\n   Features needed: The abillity to chain operations\r\n   a map of possible operators\r\n\r\n   So there are three types of operands:\r\n   dice, stat modifiers and plain numbers\r\n   so a dice operands looks like this:\r\n       h:xdy\r\n   ex: 2:4d8\r\n   h -> the highest number of dice to take\r\n   x -> the number of total dice to roll\r\n   y -> the size of the dice\r\n\r\n   A stat operand can be any of the following:\r\n   str, wis, dex, int, con, cha\r\n\r\n   Then finally there are plain old numbers:\r\n   3, 54, 69\r\n\r\n   Plan:\r\n   given the dice string 4:2d6 + str * 2\r\n   we would first go through and compute all of the non-number operands. The dice would\r\n   get rolled and computed, and the stats would be looked up and replaced with their numbers\r\n*/\r\nexport const diceRegex = /((\\d+:)?\\d+d\\d+)/g;\r\nexport const diceRegexNoCap = /(?:\\d+:)?\\d+d\\d+/;\r\n\r\nexport interface DiceReport {\r\n    diceExpr: string;\r\n    highestN?: number;\r\n    lowestN?: number;\r\n    numOfDice: number;\r\n    magnitude: number;\r\n    rolls: number[];\r\n    filteredRolls: number[];\r\n    value: number;\r\n}\r\nexport const computeDice = (dice: string): DiceReport => {\r\n    dice = dice.toLowerCase();\r\n\r\n    const match = dice.match(diceRegex);\r\n    const diceReport: DiceReport = {\r\n        diceExpr: dice,\r\n        numOfDice: -1,\r\n        magnitude: -1,\r\n        rolls: [],\r\n        filteredRolls: [],\r\n        value: -1,\r\n    };\r\n    if (!(match && match[0] === dice)) return diceReport;\r\n    //The dice string is guarenteed to be in proper format now\r\n\r\n    const expr = dice.split(':');\r\n    if (expr.length > 1) {\r\n        const high = expr.shift();\r\n        if (high) diceReport.highestN = parseInt(high);\r\n    }\r\n    const expr2 = expr[0].split('d');\r\n    diceReport.numOfDice = parseInt(expr2[0]);\r\n    diceReport.magnitude = parseInt(expr2[1]);\r\n    const rollDice = (size: number) => {\r\n        const min = 1;\r\n        size = Math.floor(size);\r\n        return Math.floor(Math.random() * (size - min + 1) + min); //The maximum is inclusive and the minimum is inclusive\r\n    };\r\n\r\n    const diceArr: number[] = [];\r\n    for (let i = 0; i < diceReport.numOfDice; i++) {\r\n        diceArr.push(rollDice(diceReport.magnitude));\r\n    }\r\n\r\n    diceReport.rolls = diceArr;\r\n    diceReport.filteredRolls = diceReport.rolls;\r\n\r\n    if (diceReport.highestN) {\r\n        const sortedCopy = [...diceReport.rolls].sort((a, b) => a + b);\r\n        diceReport.filteredRolls = sortedCopy.splice(0, Math.min(diceReport.highestN, sortedCopy.length));\r\n    }\r\n    diceReport.value = diceReport.filteredRolls.reduce((a, b) => a + b);\r\n    return diceReport;\r\n};\r\n","import { evaluate } from 'mathjs';\r\nimport { iCharacter } from '../character';\r\nimport { computeDice, diceRegex, DiceReport } from './computeDice';\r\nimport { parseStat } from './parseStat';\r\n\r\nexport interface DiceExpressionReport {\r\n    expression: string;\r\n    reports: DiceReport[];\r\n    value: number;\r\n    error?: Error;\r\n}\r\nexport const parseExpression = (diceExpr: string, character: iCharacter): DiceExpressionReport => {\r\n    const statRegex = /(?:con|wis|str|int|cha|dex)[a-zA-Z]*/gi;\r\n    const report: DiceExpressionReport = {\r\n        expression: diceExpr,\r\n        value: 0,\r\n        reports: [],\r\n    };\r\n    try {\r\n        const parsedExpr = diceExpr.replaceAll(diceRegex, (ex) => {\r\n            const rep = computeDice(ex);\r\n            report.reports.push(rep);\r\n            return rep.value.toString();\r\n        }).replaceAll(statRegex, (ex) => {\r\n            ex = ex.substr(0, 3).toLowerCase();\r\n            const stat = parseStat(ex, character);\r\n            console.log(ex, stat)\r\n            return stat + \"\";\r\n        });\r\n        report.value = evaluate(parsedExpr);\r\n    } catch (e) {\r\n        report.error = e;\r\n        alert('Invalid Expression!');\r\n        console.log(e);\r\n    }\r\n\r\n    return report;\r\n};\r\n","import { iCharacter } from \"../character\";\r\n\r\nexport const parseStat = (stat: string, character: iCharacter) => {\r\n    return character.stats.modifier(stat);\r\n}","import { useCallback, useState } from \"react\";\r\nimport { CharacterProps } from \"../../components/CreateCharacter\";\r\nimport { iCharacter } from \"../character\";\r\nimport { DiceExpressionReport, parseExpression } from \"./parseExpression\";\r\n\r\n\r\n\r\ninterface iDice {\r\n    roll: (diceString: string) => DiceExpressionReport;\r\n    DiceRoller: React.FC<CharacterProps>;\r\n}\r\nexport const useDice = (character: iCharacter) => {\r\n\r\n    const roll = useCallback(\r\n        (diceString: string) => parseExpression(diceString, character),\r\n        [character],\r\n    )\r\n\r\n    const DiceRoller: React.FC<CharacterProps> = ({ character }) => {\r\n        const [diceString, setDiceString] = useState(\"\")\r\n        const [val, setVal] = useState(0);\r\n        return (<div>\r\n            <input type=\"text\" value={diceString} onChange={e => setDiceString(e.target.value)} />\r\n            <button onClick={e => setVal(roll(diceString).value)}>Roll</button>\r\n            <span>Value: {val}</span>\r\n\r\n        </div>)\r\n    }\r\n    const obj: iDice = {\r\n        roll,\r\n        DiceRoller\r\n    }\r\n\r\n    return obj;\r\n\r\n}","import { useCallback, useState } from 'react';\r\nimport { iCharacter } from 'src/models/character';\r\nimport { useDice } from 'src/models/dice/dice';\r\nimport { RollableProperty } from 'src/models/items';\r\n/* \r\n    // This isnt working yet and neither is the item form, I think I need to start over with a cleaner approach...\r\n    Finally its starting to work, just needs some more cleanup\r\n*/\r\ninterface RoallablePropertyModalProps {\r\n    weaponProps: RollableProperty[];\r\n    character: iCharacter;\r\n}\r\nexport const RollablePropertyModal: React.FC<RoallablePropertyModalProps> = ({ weaponProps, character }) => {\r\n    const [selectedProp, setSelectedProp] = useState(-1);\r\n    const [diceString, setDiceString] = useState('');\r\n    const { roll } = useDice(character);\r\n    const mapWeaponProps = useCallback(() => {\r\n        return weaponProps.map((wp, index) => {\r\n            const classList = index !== selectedProp ? 'wp-row hoverable color-primary-hover ' : 'wp-row hoverable color-primary color-primary-hover';\r\n            console.log('SELECTED: ', selectedProp);\r\n            return (\r\n                <li className={classList} key={index} onClick={() => setSelectedProp(index)}>\r\n                    <div className='wp-name'>{wp.name}</div>\r\n                    <div className='wp-dice'>{wp.magnitude}</div>\r\n                    <div className='wp-type'>{wp.magnitudeType}</div>\r\n                </li>\r\n            );\r\n        });\r\n    }, [weaponProps, selectedProp, setSelectedProp]);\r\n    const handleClick = () => {\r\n        if (selectedProp === -1) return;\r\n        setDiceString(roll(weaponProps[selectedProp].magnitude).value + '');\r\n    };\r\n    return (\r\n        <div className='weapon-props-modal'>\r\n            <ul id='wp-list'>{mapWeaponProps()}</ul>\r\n            <div id='wp-dice-button'>\r\n                <i className='fas fa-dice-d20 hoverable color-primary-hover' onClick={handleClick}></i>\r\n            </div>\r\n            <div className='wp-output'>\r\n                <h2>{diceString}</h2>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import { useModal } from 'src/components/Modal';\r\nimport { iCharacter } from 'src/models/character';\r\nimport { iItemModel } from '../../../models/items/items';\r\nimport { mapItemType, ItemType } from '../../../models/items/ItemType';\r\nimport { Rarity, mapRarity } from '../../../models/items/Rarity';\r\nimport { RollablePropertyModal } from './RollablePropertyModal';\r\nconst defaultItem: iItemModel = {\r\n    name: 'Diamond Sword',\r\n    cost: '3gp',\r\n    description: `\r\n    Minecraft steve's legendary sword.\r\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam vitae repellat facere quia maiores qui quidem cumque optio accusamus ex at blanditiis explicabo voluptas illo fuga delectus rerum, molestias distinctio!\r\n    Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas sequi, dolor quis in distinctio quia odit dolores saepe error est.\r\n    Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas sequi, dolor quis in distinctio quia odit dolores saepe error est.\r\n    Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas sequi, dolor quis in distinctio quia odit dolores saepe error est.\r\n    `,\r\n    rarity: Rarity.ARTIFACT,\r\n    weight: '20lbs',\r\n};\r\nexport const ItemCard: React.FC<{ item?: iItemModel; character: iCharacter }> = ({ item = defaultItem, character }) => {\r\n    let { name, description, cost, rarity, type, weaponProps, weight } = item;\r\n    console.log('CREATED ITEM', item);\r\n    const [toggleOpen, modal] = useModal(<RollablePropertyModal weaponProps={item.weaponProps || []} character={character} />);\r\n    weaponProps = [];\r\n    weaponProps.push({\r\n        name: 'Attack',\r\n        magnitude: '2d4',\r\n    });\r\n    const colors = ['#3f3f3f', '#0a9900', '#0070dd', '#a335ee', '#ff8000', '#ee3333'];\r\n    return (\r\n        <>\r\n            {modal}\r\n            <div className='item-card-container'>\r\n                <div className='item-card-content'>\r\n                    <header className='header'>\r\n                        <h4 className='name'>{name}</h4>\r\n                        <h5\r\n                            className='rarity'\r\n                            style={{\r\n                                color: colors[rarity || 0],\r\n                            }}\r\n                        >\r\n                            <em>{mapRarity(rarity || Rarity.COMMON)}</em>\r\n                            <span className='weight'>{weight}</span>\r\n                        </h5>\r\n                        <i className={`${mapItemType(type || ItemType.WEAPON).icon} icon`}></i>\r\n                    </header>\r\n                    <div style={{ textAlign: 'center' }}>{cost}</div>\r\n                    <div className='description'>{description}</div>\r\n                    <div>\r\n                        <i\r\n                            className={`fas fa-dice-d20 rollable ${weaponProps && 'hoverable-half color-primary-hover'}`}\r\n                            onClick={toggleOpen}\r\n                            style={{\r\n                                color: weaponProps ? 'black' : '#919191',\r\n                            }}\r\n                        ></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { iItemModel, RollableProperty } from 'src/models/items';\r\ninterface RollableRowProps {\r\n    rollableProps: RollableProperty;\r\n    index: number;\r\n    setItem: (item: React.SetStateAction<iItemModel>) => void;\r\n}\r\nconst RollableEditRow: React.FC<RollableRowProps> = ({ rollableProps, setItem, index }) => {\r\n    const { name, magnitude, magnitudeType } = rollableProps;\r\n    const onRemoveClick = () => {\r\n        setItem((i: iItemModel) => {\r\n            const wp = i.weaponProps || [];\r\n\r\n            return {\r\n                ...i,\r\n                weaponProps: wp.filter((rp, i) => index !== i),\r\n            };\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className='rollable-row'>\r\n            <div id='rr-name'>{name}</div>\r\n            <div id='rr-dice'>{magnitude}</div>\r\n            <div id='rr-type'>{magnitudeType}</div>\r\n            <div id='rr-trash'>\r\n                <i className='fas fa-trash-alt hoverable color-off-primary-hover' onClick={onRemoveClick}></i>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\ninterface ItemFormProps {\r\n    item: iItemModel;\r\n    setItem: (item: React.SetStateAction<iItemModel>) => void;\r\n}\r\n\r\nconst RollableEditForm: React.FC<ItemFormProps> = ({ item, setItem }) => {\r\n    const initialValues = {\r\n        name: '',\r\n        magnitude: '',\r\n        magnitudeType: '',\r\n    };\r\n    const [rpVals, setRpVals] = useState(initialValues);\r\n\r\n    const clearRefs = () => {\r\n        setRpVals(initialValues);\r\n    };\r\n    const getPropsFromRefs = () => {\r\n        return rpVals as RollableProperty;\r\n    };\r\n\r\n    const onAddClick = () => {\r\n        setItem((i: iItemModel) => {\r\n            const wps: RollableProperty[] = i.weaponProps || [];\r\n            return { ...i, weaponProps: [...wps, getPropsFromRefs()] };\r\n        });\r\n        clearRefs();\r\n    };\r\n\r\n    return (\r\n        <div className='rp-form'>\r\n            <div id='rp-name'>\r\n                <input type='text' value={rpVals.name} onChange={(e) => setRpVals((v) => ({ ...v, name: e.target.value }))} placeholder='Name' />\r\n            </div>\r\n            <div id='rp-dice'>\r\n                <input type='text' value={rpVals.magnitude} onChange={(e) => setRpVals((v) => ({ ...v, magnitude: e.target.value }))} placeholder='Dice' />\r\n            </div>\r\n            <div id='rp-type'>\r\n                <input type='text' value={rpVals.magnitudeType} onChange={(e) => setRpVals((v) => ({ ...v, magnitudeType: e.target.value }))} placeholder='Type' />\r\n            </div>\r\n            <div id='rp-add'>\r\n                <i className='far fa-plus-square hoverable' onClick={onAddClick}></i>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const RollablePropertyForm: React.FC<ItemFormProps> = (props) => {\r\n    const { item } = props;\r\n    const { weaponProps } = item;\r\n    const [rows, setRows] = useState<JSX.Element[]>([]);\r\n    useEffect(() => {\r\n        if (!weaponProps || weaponProps === undefined) return;\r\n        const r = weaponProps.map((rp, index) => <RollableEditRow setItem={props.setItem} rollableProps={rp} index={index} key={index} />);\r\n        setRows(r);\r\n    }, [weaponProps, props.setItem]);\r\n    return (\r\n        <div className='rollable-property'>\r\n            <div className='form'>\r\n                <RollableEditForm {...props} />\r\n            </div>\r\n            <div className='list'>{rows}</div>\r\n        </div>\r\n    );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { WikiReference } from 'src/components/misc/WikiReference';\r\nimport { useModal } from 'src/components/Modal';\r\nimport { CharacterProps, Section } from '..';\r\nimport { iItemModel } from '../../../models/items';\r\nimport { ItemType, ItemTypes } from '../../../models/items/ItemType';\r\nimport { Rarities, Rarity } from '../../../models/items/Rarity';\r\nimport { ItemCard } from './ItemCard';\r\nimport { RollablePropertyForm } from './RollableProperty';\r\n\r\n/*\r\n    The item card should take in an item object and render its details.\r\n    \r\n    It should be displayed in a tiled-grid form similar to a equipment card\r\n*/\r\nconst mapItemTypes = (): JSX.Element[] => {\r\n    const els: JSX.Element[] = [];\r\n    ItemTypes.forEach((key, index) => {\r\n        els.push(\r\n            <option key={index} value={index}>\r\n                {key.name}\r\n            </option>\r\n        );\r\n    });\r\n    return els;\r\n};\r\n\r\nconst mapRarityLevels = (): JSX.Element[] => {\r\n    const els: JSX.Element[] = Rarities.map((rarity, index) => {\r\n        return (\r\n            <option key={index} value={index}>\r\n                {rarity}\r\n            </option>\r\n        );\r\n    });\r\n    return els;\r\n};\r\n\r\ninterface SelectProps {\r\n    onChange: React.ChangeEventHandler<HTMLSelectElement>;\r\n    defaultValue: string;\r\n}\r\nconst SelectItemType: React.FC<SelectProps> = (props) => {\r\n    return (\r\n        <select value={props.defaultValue} onChange={props.onChange} name='item-type' id='item-type' style={{ width: '100%', height: '100%' }}>\r\n            <option style={{ color: 'darkgray' }}>Chose a Type...</option>\r\n            {mapItemTypes()}\r\n        </select>\r\n    );\r\n};\r\n\r\nconst SelectRarity: React.FC<SelectProps> = (props) => {\r\n    return (\r\n        <select value={props.defaultValue} onChange={props.onChange} name='item-rarity' id='item-rarity' style={{ width: '100%', height: '100%' }}>\r\n            <option style={{ color: 'darkgray' }}>Chose a Rarity...</option>\r\n            {mapRarityLevels()}\r\n        </select>\r\n    );\r\n};\r\n\r\nconst blankItem = {\r\n    name: '',\r\n    cost: '',\r\n    description: '',\r\n    weight: '',\r\n    rarity: Rarity.COMMON,\r\n    type: ItemType.WEAPON,\r\n    weaponProps: [],\r\n};\r\nexport const Items: React.FC<CharacterProps> = ({ character }) => {\r\n    const [item, setItem] = useState<iItemModel>(blankItem);\r\n    const renderItems = () => {\r\n        return character.items.items.map((item, index) => {\r\n            return <ItemCard character={character} item={item} key={index} />;\r\n        });\r\n    };\r\n\r\n    const handleSubmit = () => {\r\n        if (!item.name) return;\r\n        character.items.addItem(item);\r\n        setItem(blankItem);\r\n    };\r\n    /* \r\n        This form is massive and glitchy this project is spiraling out of control\r\n    */\r\n    const [toggleRpInfo, rpModal] = useModal(\r\n        <>\r\n            <p style={{ marginTop: '2em' }}>\r\n                These are <em>Rollable Properties</em>. You can attach dice to your items and spells. These are predefined values for quick rolling.\r\n            </p>\r\n        </>\r\n    );\r\n    const handleQuestionClick = () => {\r\n        toggleRpInfo();\r\n    };\r\n    return (\r\n        <Section header='Items' id='items' title='Items' wikiReference='https://www.dndbeyond.com/equipment' icon='fas fa-swords'>\r\n            {rpModal}\r\n            <div className='create-sec-items'>\r\n                <div className='item-form'>\r\n                    <div id='name'>\r\n                        <h3>\r\n                            <input\r\n                                type='text'\r\n                                id='item-name'\r\n                                placeholder='Name'\r\n                                onChange={(e) =>\r\n                                    setItem((i) => ({\r\n                                        ...i,\r\n                                        name: e.target.value,\r\n                                    }))\r\n                                }\r\n                                value={item.name}\r\n                            />\r\n                        </h3>\r\n                    </div>\r\n                    <div id='rarity'>\r\n                        <SelectRarity\r\n                            defaultValue={`${item.rarity || ''}`}\r\n                            onChange={(e) =>\r\n                                setItem((i) => ({\r\n                                    ...i,\r\n                                    rarity: e.target.value,\r\n                                }))\r\n                            }\r\n                        />\r\n                    </div>\r\n                    <div id='type'>\r\n                        <SelectItemType\r\n                            defaultValue={`${item.type || ''}`}\r\n                            onChange={(e) => {\r\n                                console.log(e.target.value);\r\n                                setItem((i) => ({\r\n                                    ...i,\r\n                                    type: e.target.value,\r\n                                }));\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div id='weight'>\r\n                        <input\r\n                            type='text'\r\n                            name='item-weight'\r\n                            id='item-weight'\r\n                            placeholder='Weight'\r\n                            onChange={(e) =>\r\n                                setItem((i) => ({\r\n                                    ...i,\r\n                                    weight: e.target.value,\r\n                                }))\r\n                            }\r\n                            value={item.weight}\r\n                        />\r\n                    </div>\r\n                    <div id='cost'>\r\n                        <input\r\n                            type='text'\r\n                            name='item-cost'\r\n                            id='item-cost'\r\n                            onChange={(e) =>\r\n                                setItem((i) => ({\r\n                                    ...i,\r\n                                    cost: e.target.value,\r\n                                }))\r\n                            }\r\n                            placeholder='Cost'\r\n                            value={item.cost}\r\n                        />\r\n                    </div>\r\n                    <div id='desc'>\r\n                        <textarea\r\n                            placeholder='Description'\r\n                            name='item-description'\r\n                            id='item-description'\r\n                            onChange={(e) =>\r\n                                setItem((i) => ({\r\n                                    ...i,\r\n                                    description: e.target.value,\r\n                                }))\r\n                            }\r\n                            style={{\r\n                                display: 'block',\r\n                                width: '100%',\r\n                                height: '100%',\r\n                                padding: '1em',\r\n                                resize: 'none',\r\n                            }}\r\n                            value={item.description}\r\n                        ></textarea>\r\n                    </div>\r\n                    <div id='rollable-property'>\r\n                        <h5 style={{ color: '#1f1f1f', overflow: 'visible' }}>\r\n                            Add Rollable Property\r\n                            <i title={'Wiki Reference'} onClick={handleQuestionClick} className='far fa-question-circle info hoverable-half' style={{ position: 'relative', top: '.1em' }}></i>\r\n                        </h5>\r\n                        <RollablePropertyForm item={item} setItem={setItem} />\r\n                    </div>\r\n                    <div id='submit'>\r\n                        <button\r\n                            className='add-item'\r\n                            style={{\r\n                                display: 'block',\r\n                                width: '100%',\r\n                                height: '100%',\r\n                            }}\r\n                            onClick={(e) => handleSubmit()}\r\n                        >\r\n                            Add Item\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className='item-cards-container'>\r\n                    <fieldset className='item-cards'>\r\n                        <legend>Items</legend>\r\n                        {renderItems()}\r\n                    </fieldset>\r\n                </div>\r\n            </div>\r\n        </Section>\r\n    );\r\n};\r\n","import { useRef } from \"react\";\r\nimport { iCharacter } from \"../models/character\";\r\n\r\ninterface SaveUploadCharacterProps {\r\n    character: iCharacter\r\n}\r\nexport const SaveUploadCharacter: React.FC<SaveUploadCharacterProps> = ({ character }) => {\r\n    const handleSaveClick = () => {\r\n        const characterData = JSON.stringify(character.serialize());\r\n        const element = document.createElement(\"a\");\r\n        const file = new Blob([characterData], { type: 'application/json' });\r\n        element.href = URL.createObjectURL(file);\r\n        element.download = `character-${character.name}.json`;\r\n        document.body.appendChild(element); // Required for this to work in FireFox\r\n        element.click();\r\n\r\n    }\r\n\r\n\r\n\r\n    const handleLoadClick: React.ChangeEventHandler<HTMLInputElement> = (event) => {\r\n        if (!event.target.files) return;\r\n        const file = event.target.files[0];\r\n        if (!file) return;\r\n        const read = new FileReader();\r\n\r\n        read.readAsBinaryString(file);\r\n\r\n        read.onloadend = function () {\r\n            if (typeof read.result === \"string\") {\r\n                const char = JSON.parse(read.result);\r\n                character.deserialize(char);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n    const clickInput = () => {\r\n        if (inputRef.current) {\r\n            inputRef.current.click();\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"upload\">\r\n            <button onClick={() => handleSaveClick()}>Save</button>\r\n            <input type=\"file\" ref={inputRef} onChange={handleLoadClick} hidden />\r\n            <button onClick={() => clickInput()}>Load</button>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\n\r\nexport const Sidebar: React.FC = (props) => {\r\n\r\n\r\n    return (\r\n        <div className=\"page-sidebar-container\">\r\n            <aside className=\"page-sidebar\">\r\n                {props.children}\r\n            </aside>\r\n        </div>\r\n    );\r\n}","import { CharacterProps } from \".\";\r\ninterface CharacterInfoProps extends CharacterProps {\r\n    className?: string;\r\n    style?: React.CSSProperties;\r\n}\r\nexport const CharacterInfo: React.FC<CharacterInfoProps> = ({ character, className, style }) => {\r\n    const renderInfo = () => {\r\n        const { classes } = character.classes;\r\n        const { race } = character;\r\n        const the = () => (classes.length !== 0 || race.length !== 0) ? \"The\" : \"\";\r\n        const hyphen = () => (classes.length !== 0 && race.length !== 0) ? \"-\" : \"\";\r\n\r\n        const mapClasses = (() => {\r\n            return classes.map((c, index) => {\r\n                return (\r\n                    <span key={`header-class-${index}`}>\r\n                        {c.name} {c.level ? <sub className=\"create-level-sub\">{c.level}</sub> : \"\"}{index < classes.length - 1 ? \", \" : \"\"}\r\n                    </span>\r\n                );\r\n            })\r\n        })\r\n        return (\r\n            <div className={className} style={style}>\r\n                {the()} <span>{race}</span> {hyphen()} <span>{mapClasses()}</span>\r\n            </div>\r\n        );\r\n    }\r\n    return (renderInfo());\r\n}","import { CharacterProps } from \".\";\r\nimport { SaveUploadCharacter } from \"../SaveUploadCharacter\";\r\nimport { Sidebar } from \"../Sidebar\";\r\nimport { CharacterInfo } from \"./CharacterInfo\";\r\n\r\nexport const MiniStats: React.FC<CharacterProps> = ({ character }) => {\r\n\r\n    const renderStats = (): JSX.Element[] => {\r\n        const { stats } = character.stats;\r\n        return stats.map(({ name, value, short_name }) => {\r\n            const mod = character.stats.modifier(name);\r\n            const modifier = (mod >= 0) ? `+${mod}` : mod\r\n            return (\r\n                <div className=\"center-grid-justified\" key={`mini-level-${name}`} style={(value !== 0) ? {} : { display: 'none' }}>\r\n                    <div className=\"left\" style={{ marginRight: \".4em\" }}>{name}: </div>\r\n                    <div className=\"right\">{value}<sub>({modifier})</sub></div>\r\n                </div>\r\n\r\n            )\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <Sidebar>\r\n            <div className=\"mini-stats\" style={{ height: '100vh', position: 'relative' }}>\r\n                <h3>{character.name}</h3>\r\n                <sub><CharacterInfo character={character} style={{ fontSize: '.8em', marginBottom: '.5em' }} /></sub>\r\n                <div className=\"mini-stats-stats\">\r\n                    {renderStats()}\r\n                    {\r\n                        (character.proficiency !== 1) ? <span>Proficiency: +{character.proficiency}</span> : \"\"\r\n\r\n                    }\r\n                </div>\r\n\r\n                <div style={{\r\n                    position: 'absolute', bottom: '1em', left: '25%'\r\n                }}>\r\n\r\n                    <SaveUploadCharacter character={character} />\r\n                </div>\r\n            </div>\r\n        </Sidebar>\r\n    )\r\n}","import { useCallback, useState } from \"react\";\r\nexport enum Money {\r\n    COPPER,\r\n    SILVER,\r\n    ELECTRUM,\r\n    GOLD,\r\n    PLATINUM\r\n}\r\n\r\nconst mapMoney = (money: Money): [string, string] => {\r\n    const map: [string,string][] = [['Copper', 'CP'], ['Silver', 'SP'], ['Electrum', 'EP'], ['Gold', 'GP'], ['Platinum', 'PP']]\r\n    return map[money];\r\n}\r\nexport type iMoneyModel = [number,number,number,number,number]\r\nexport type iMoney = ReturnType<typeof useMoney>;\r\n    export const useMoney = (m: iMoneyModel) => {\r\n        const [money, setMoney] = useState<iMoneyModel>(m || [0, 0, 0, 0, 0]);\r\n        const _modifyMoney = useCallback((money: Money, amount: number) => {\r\n            setMoney((oldMoney) => {\r\n                oldMoney[money] += amount;\r\n                return oldMoney;\r\n            })\r\n        }, [setMoney])\r\n        const addMoney = useCallback((money: Money, amount: number) => {\r\n            setMoney((oldMoney) => {\r\n                oldMoney[money] += Math.abs(amount);\r\n                return oldMoney;\r\n            })\r\n        }, [setMoney])\r\n        const removeMoney = useCallback((money: Money, amount: number) => {\r\n            setMoney((oldMoney) => {\r\n                oldMoney[money] += Math.abs(amount) * -1;\r\n                return oldMoney;\r\n            })\r\n        }, [setMoney])\r\n\r\n        const serialize = useCallback(() => money, [money]);\r\n        const deserialize = useCallback((money: iMoneyModel) => setMoney(money), [setMoney]);\r\n\r\n        const obj = {\r\n            money,\r\n            addMoney,\r\n            removeMoney, \r\n            serialize,\r\n            deserialize\r\n            \r\n        }\r\n        \r\n        return obj;\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { CharacterProps } from \".\";\r\nimport { CheckState, TripleCheckBox, TripleCheckBoxLegend } from \"../misc/TripleCheckBox\";\r\nimport { Section } from \"./Section\";\r\n\r\ninterface ProficiencyProps extends CharacterProps {\r\n    name: string;\r\n    onDelete: (name: string) => void;\r\n}\r\nconst Proficiency: React.FC<ProficiencyProps> = ({ name, onDelete, character }) => {\r\n    /* \r\n        // TODO: I need to add observers to the checkboxes. These need to update the character model appropriately.\r\n    */\r\n    const { proficiencies } = character.otherProficiencies;\r\n    const key = name;\r\n    return (\r\n        <div className=\"center-grid-justified \">\r\n            <div className=\"left\">\r\n                <div className=\"center-grid-justified hoverable color-primary-hover\">\r\n                    <div className=\"left\" style={{ marginRight: '1em' }}><TripleCheckBox id={`tp-${name}`}\r\n                        value={proficiencies[key]?.proficiencyLevel as unknown as CheckState}\r\n                        setValue={(value) => {\r\n                            character.otherProficiencies.setProficiencyLevel(key, value);\r\n                        }}\r\n                    /></div>\r\n                    <div className=\"right\"><label htmlFor={`tp-${name}`} style={{ wordBreak: 'break-word', hyphens: 'auto' }}>{name}</label></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"right\">\r\n                <i className=\"fas fa-trash-alt hoverable color-primary-hover pointer\" title=\"Add\" onClick={() => { onDelete(name) }}></i>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const OtherProficiencies: React.FC<CharacterProps> = ({ character }) => {\r\n    const [proficiencyText, setProficiencyText] = useState(\"\");\r\n    const [proficiencies, setProficiencies] = useState<JSX.Element[]>([]);\r\n\r\n    useEffect(() => {\r\n        const { proficiencies } = character.otherProficiencies;\r\n        const onDelete = (name: string) => {\r\n            character.otherProficiencies.removeProficiency(name);\r\n            setProficiencies((oldProfs => oldProfs.filter(oldName => oldName.key !== name)));\r\n        }\r\n        //rerender\r\n        const els: JSX.Element[] = [];\r\n        for (const key in proficiencies) {\r\n            els.push(\r\n                <Proficiency character={character} name={key} onDelete={onDelete} key={key} />\r\n            )\r\n        }\r\n        setProficiencies(els);\r\n        // // !I think I need to rework how profs get rendered for this to work\r\n\r\n    }, [character, character.otherProficiencies, character.otherProficiencies.proficiencies])\r\n\r\n\r\n\r\n\r\n\r\n    const handleChange = (value: string) => {\r\n        if (value === \"\") return;\r\n        character.otherProficiencies.addProficiency(value);\r\n        //since we add to the character we can add a useeffect hook\r\n\r\n        setProficiencyText(\"\");\r\n    }\r\n\r\n    const handleKeyDown: React.KeyboardEventHandler<HTMLInputElement> = (e) => {\r\n        if (e.key === 'Enter') {\r\n            handleChange(proficiencyText);\r\n        }\r\n\r\n    }\r\n    return (\r\n        <Section id=\"other-proficiencies\" icon=\"fas fa-toolbox\" title=\"Other Proficiencies\" header=\"Other Proficiencies\" wikiReference=\"https://5thsrd.org/character/languages/\">\r\n            <div style={{ width: '100%', marginBottom: '2em' }}>\r\n                <TripleCheckBoxLegend />\r\n                <div className=\"add-other-proficiency\">\r\n\r\n                    <input type=\"text\" placeholder=\"Elvish\" value={proficiencyText} onChange={(e) => setProficiencyText(e.target.value)} onKeyDown={handleKeyDown} /><i className=\"far fa-plus-square hoverable-half color-primary-hover\" onClick={() => handleChange(proficiencyText)} ></i>\r\n                </div>\r\n                <div className=\"other-proficiency-list\">\r\n                    {proficiencies}\r\n                </div>\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import React, { useCallback } from \"react\";\r\nimport { CharacterProps } from \".\";\r\nimport { iCharacter } from \"../../models/character\";\r\nimport { CheckState, TripleCheckBox, TripleCheckBoxLegend } from \"../misc/TripleCheckBox\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const SavingThrows: React.FC<CharacterProps> = ({ character }) => {\r\n\r\n\r\n    const renderStats = useCallback((character: iCharacter) => {\r\n        const padding: React.CSSProperties = { marginRight: '.5em' };\r\n        const { savingThrows } = character.savingThrows;\r\n        const els = [];\r\n        for (const name in savingThrows) {\r\n            const proficiencyLevel = savingThrows[name];\r\n            const mod = character.savingThrows.getProficiencyValue(name, character);\r\n            const modifier = (mod >= 0) ? `+${mod}` : mod;\r\n            els.push(\r\n                <div className=\"center-grid-justified centered hoverable-half color-off-primary-hover no-select\" key={`saving-throw-${name}`}\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                        (e.currentTarget.querySelector('.checkbox') as HTMLDivElement)?.click();\r\n                    }}\r\n                >\r\n                    <div className=\"center-grid-justified\">\r\n                        <div className=\"left\">\r\n                            <TripleCheckBox name={name} id={`checkbox-${name}`} style={{ ...padding }}\r\n                                value={proficiencyLevel as unknown as CheckState}\r\n\r\n                                setValue={(value) => {\r\n                                    character.savingThrows.setProficiencyLevel(name, value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"right\">\r\n                            <label htmlFor={`checkbox-${name}`}>{name}</label>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"right\" style={{ marginLeft: '.2em' }}>\r\n                        <span style={{ fontSize: \".7em\" }}>({modifier})</span>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return els;\r\n    }, []);\r\n\r\n    return (\r\n        <Section id=\"saving-throws\" title=\"Saving Throws\" header=\"Saving Throws\" icon=\"fas fa-shield-virus\" wikiReference=\"https://roll20.net/compendium/dnd5e/Ability%20Scores#toc_35\">\r\n            <div style={{ width: '100%' }}>\r\n                <TripleCheckBoxLegend style={{ marginBottom: '.5em' }} />\r\n                <div className=\"create-sec-saving-throws\">\r\n                    {renderStats(character)}\r\n                </div>\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import React from \"react\"\r\nimport { iCharacter } from \"../../models/character\"\r\nimport { CheckState, TripleCheckBox, TripleCheckBoxLegend } from \"../misc/TripleCheckBox\"\r\nimport { Section } from \"./Section\"\r\n\r\n\r\n\r\n\r\ninterface ProficienciesProps {\r\n    character: iCharacter\r\n}\r\n\r\nconst mapProficiencies = (character: iCharacter) => {\r\n    const padding: React.CSSProperties = { marginRight: '.5em' };\r\n    const { proficiencies } = character.proficiencies;\r\n    const els: JSX.Element[] = [];\r\n    for (let key in proficiencies) {\r\n        const { proficiencyLevel, governingSkill } = proficiencies[key];\r\n        const gs = (governingSkill) ? character.stats.modifier(governingSkill) : 0;\r\n        const mod = gs + (proficiencyLevel * character.proficiency);\r\n        const modifier = (mod >= 0) ? `+${mod}` : mod;\r\n        els.push(\r\n            <div className=\"center-grid-justified hoverable color-off-primary-hover\" key={`tpk-${key}`}\r\n                onClick={(e) => {\r\n                    (e.currentTarget.querySelector('.checkbox') as HTMLDivElement)?.click();\r\n                }}\r\n            >\r\n                <div className=\"left\">\r\n                    <div className=\"center-grid-justified\">\r\n                        <div className=\"left\">\r\n\r\n                            <TripleCheckBox id={`tp-${key}`} name={`tp-${key}`} style={padding}\r\n                                value={proficiencies[key].proficiencyLevel as unknown as CheckState}\r\n                                setValue={(value) => {\r\n                                    character.proficiencies.setProficiencyLevel(key, value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"right\" style={{ width: '14ch' }} >\r\n                            <label style={{ display: 'inline-block' }} htmlFor={`tp-${key}`} onClick={e => e.preventDefault()}>{key}</label>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"right\" >\r\n                    <div className=\"center-grid-justified\">\r\n                        <div className=\"left\">\r\n                            <div className=\"create-proficiencies-subheader\" style={{ marginRight: '.2em' }}>{governingSkill?.substring(0, 3)}</div>\r\n\r\n                        </div>\r\n                        <div className=\"right\">\r\n\r\n                            <span style={{ fontSize: \".7em\", userSelect: 'none' }}>({modifier})</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return els;\r\n}\r\n\r\n\r\n\r\nexport const Skills: React.FC<ProficienciesProps> = ({ character }) => {\r\n    return (\r\n        <Section id=\"skills\" title=\"Skills\" header=\"Skills\" icon=\"fas fa-plus\" wikiReference=\"https://roll20.net/compendium/dnd5e/Ability%20Scores#toc_3\">\r\n            <div style={{ width: '100%' }}>\r\n                <TripleCheckBoxLegend style={{ marginBottom: '.5em' }} />\r\n                <div className=\"center-content\">\r\n                    <div className=\"create-sec-proficiencies\">\r\n                        {mapProficiencies(character)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Section>\r\n    )\r\n}","import React from \"react\";\r\nimport { CharacterProps } from \".\";\r\nimport { iCharacter } from \"../../models/character\";\r\nimport { iStatModel } from \"../../models/stats\";\r\nimport { useDice } from \"../../models/dice/dice\";\r\nimport { CharacterInfo } from \"./CharacterInfo\";\r\n\r\n\r\n\r\nconst StatHeaders: React.FC<CharacterProps> = ({ character }) => {\r\n    const dice = useDice(character);\r\n\r\n\r\n    const onStatHeaderClick = (stat: iStatModel) => {\r\n        character.stats.setValue({ ...stat, value: dice.roll(\"3:4d6\").value});\r\n    }\r\n    const rollStats = (character: iCharacter) => {\r\n        const { stats } = character.stats;\r\n        stats.forEach(stat => {\r\n            character.stats.setValue({ ...stat, value: dice.roll('3:4d6').value });\r\n        });\r\n    }\r\n    const buildHeaders = (character: iCharacter) => {\r\n        const { stats } = character.stats;\r\n        return stats.map(stat => {\r\n            const { value, name, short_name } = stat;\r\n            const modifier = character.stats.modifier(name);\r\n            return (\r\n                <div className=\"stat-header-wrapper\" key={`header-${name}`}>\r\n                    <div className=\"stat-header\" title={stat.name} onClick={() => onStatHeaderClick(stat)}>\r\n                        <div className=\"stat-name\">{short_name || name}</div>\r\n                        <div className=\"stat-value\">{value}<sub style={{ color: \"#000\" }}>({(modifier >= 0) ? `+${modifier}` : modifier})</sub></div>\r\n                    </div>\r\n                    <input type=\"number\" key={name} style={{ width: '5ch' }} value={value} onChange={(e) => { character.stats.setValue({ ...stat, value: parseInt(e.target.value) || 0 }) }} />\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"stat-headers\">\r\n            <i className=\"fas fa-dice stat-dice\" title=\"Roll all Stats\" onClick={() => rollStats(character)}></i>\r\n            {buildHeaders(character)}\r\n        </div>\r\n    );\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport const Header: React.FC<CharacterProps> = ({ character }) => {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <section className=\"create-header\">\r\n            <div className=\"name\">\r\n                <h1 id=\"name\" title=\"Name\"><input type=\"text\" autoComplete=\"off\" className=\"create-char-name\" placeholder=\"Name\" name=\"char-name\" id=\"char-name\" value={character.name} onChange={(e) => character.setName(e.target.value)} /></h1>\r\n            </div>\r\n            <div className=\"classes\">\r\n                {<CharacterInfo character={character} />}\r\n\r\n\r\n            </div>\r\n            <StatHeaders character={character} />\r\n        </section>\r\n\r\n\r\n    );\r\n}","import React from \"react\";\r\nimport { iCharacter } from \"../../models/character\";\r\nimport { Section } from \"./Section\";\r\ninterface CreateCharacterRaceProps {\r\n    character: iCharacter\r\n}\r\nexport const Race: React.FC<CreateCharacterRaceProps> = ({ character }) => {\r\n    return (\r\n        <Section id=\"race\" title=\"Race\" header=\"Race\" icon=\"fas fa-users\" wikiReference=\"http://dnd5e.wikidot.com/race\">\r\n            <div className=\"race-select\">\r\n                <input type=\"text\" className=\"race-input\" placeholder={\"Human\"} value={character.race} onChange={(e) => character.setRace(e.target.value)} />\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import React from \"react\";\r\nimport { iCharacter } from \"../../models/character\";\r\nimport { Section } from \"./\";\r\n\r\ninterface CreateCharacterClassProps {\r\n    character: iCharacter;\r\n}\r\nexport const Class: React.FC<CreateCharacterClassProps> = ({ character }) => {\r\n    /*\r\n        We need a solid module for handling these classes.\r\n        A class needs to be attached to the character model as an array of strings\r\n    */\r\n    const classes = [\r\n        'Artificer', 'Barbarian', 'Bard',\r\n        'Blood Hunter', 'Cleric', 'Druid', 'Fighter',\r\n        'Monk', 'Paladin', 'Ranger', 'Rogue',\r\n        'Sorcerer', 'Warlock', 'Wizard'\r\n    ]\r\n\r\n\r\n    const renderClasses = () => {\r\n        return classes.map((c) => {\r\n            return (\r\n                <div key={`class-${c}`} className={'class ' + (character.classes.includes(c) ? 'selected' : '')} onClick={() => character.classes.toggleClass(c)}>\r\n                    <h3>{c}</h3>\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Section id=\"class\" title=\"Class\" header=\"Class\" icon=\"fas fa-magic\" wikiReference=\"http://dnd5e.wikidot.com/#toc20\">\r\n            <div className=\"class-select\">\r\n                {renderClasses()}\r\n            </div>\r\n        </Section>\r\n    )\r\n}","import React from \"react\";\r\nimport { CharacterProps } from \".\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const HitDice: React.FC<CharacterProps> = ({ character }) => {\r\n    //Map over classes, for each class, render a hit dice row\r\n    const renderHitDiceInputs = (): JSX.Element[] => {\r\n        const { classes } = character.classes;\r\n        return classes.map(c => {\r\n            return (\r\n                <div className=\"center-grid-justified\" key={`hd-container-${c.name}`}>\r\n                    <div className=\"left\">\r\n                        <label htmlFor={`hd-level-${c.name}`}>{c.name}: </label>\r\n                    </div>\r\n\r\n                    <div className=\"right\">\r\n                        <input type=\"number\" id={`hd-dice-${c.name}`} className=\"hit-dice-input\" style={{ textAlign: 'right', paddingRight: '.15em' }} placeholder=\"LV\" min=\"1\"\r\n                            value={c.level}\r\n                            onChange={(e) => character.classes.setLevel(c.name, parseInt(e.target.value))}\r\n                        />d\r\n                            <input type=\"number\" className=\"hit-dice-input\"\r\n                            style={{ textAlign: 'left', paddingLeft: '.15em' }}\r\n                            placeholder=\"HD\" min=\"0\"\r\n                            value={c.hitDice || \"\"}\r\n                            onChange={(e) => character.classes.setDice(c.name, parseInt(e.target.value))} />\r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    const renderPlaceholder = () => {\r\n        return (\r\n            <div className=\"center-grid-justified\" key={`hd-container-fighter`} style={{ color: '#555', opacity: '0.5' }} title=\"Choose a class first!\">\r\n                <div className=\"left\">\r\n                    <label htmlFor={`hd-level-\"placeholder`}>Fighter: </label>\r\n                </div>\r\n\r\n                <div className=\"right\">\r\n                    <input disabled type=\"number\" id={`hd-dice-fighter`} className=\"hit-dice-input\" style={{ textAlign: 'right', paddingRight: '.15em' }} placeholder=\"LV\" min=\"1\"\r\n                        value={1}\r\n\r\n                    />d\r\n                            <input disabled type=\"number\" className=\"hit-dice-input\"\r\n                        style={{ textAlign: 'left', paddingLeft: '.15em' }}\r\n                        placeholder=\"HD\" min=\"0\"\r\n                        value={\"\"} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Section id=\"dice\" title=\"Hit Dice\" header=\"Hit Dice\" icon=\"fa fa-dice-d20\" wikiReference=\"https://dungeonsdragons.fandom.com/wiki/Hit_dice\">\r\n            <div style={{ fontSize: \"1.6em\", paddingBottom: '1em' }}>\r\n                {(character.classes.classes.length === 0) ? renderPlaceholder() : renderHitDiceInputs()}\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import { useRef } from \"react\";\r\nimport { iCharacter } from \"../../models/character\";\r\n\r\ninterface HeartContainerProps {\r\n    character: iCharacter;\r\n    size?: string;\r\n\r\n}\r\nexport const HeartContainer: React.FC<HeartContainerProps> = ({ character, size }) => {\r\n    const onHPChange = (value: number) => {\r\n        character.setHP(value);\r\n    }\r\n    const ref = useRef<HTMLInputElement>(null);\r\n    const focusInput = () => {\r\n        ref.current?.focus();\r\n    }\r\n    return (\r\n        <div className=\"hp-heart-container\" style={{ fontSize: size || '5em' }} onClick={(e) => focusInput()}>\r\n            <div className=\"hp-heart-content hoverable color-primary-hover\">\r\n                <div className=\"label\">\r\n                    <span>HP</span>\r\n                </div>\r\n                <div>\r\n\r\n                    <div className=\"heart\">\r\n                        <i className=\"far fa-heart\"></i>\r\n                    </div>\r\n                    <div className=\"input\">\r\n                        <input type=\"number\" ref={ref} placeholder=\"-\" min=\"0\" value={character.hp || \"\"} className=\"hp-input\" onChange={(e) => onHPChange(Math.abs(parseInt(e.target.value)))} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { CharacterProps } from \".\";\r\nimport { HeartContainer } from \"../misc/HeartContainer\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const Health: React.FC<CharacterProps> = ({ character }) => {\r\n    return (\r\n        <Section id=\"health\" title=\"Health\" header=\"Health\" icon=\"fas fa-heart\" wikiReference=\"https://dungeonsdragons.fandom.com/wiki/Hit_points\">\r\n            <HeartContainer character={character} size=\"2em\" />\r\n        </Section>\r\n    );\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Sidebar } from \"../Sidebar\";\r\n\r\nexport const CreateSidebar: React.FC = () => {\r\n    const [links, setLinks] = useState<JSX.Element[]>();\r\n    const [elements, setElements] = useState<NodeListOf<HTMLHeadingElement>>();\r\n    useEffect(() => {\r\n        setElements(document.querySelectorAll('.create-header h1.header'));\r\n    }, [])\r\n    useEffect(() => {\r\n        if (!elements) return;\r\n        const l: [string, string][] = [];\r\n        elements.forEach(({ id, title }) => l.push([id, title]));\r\n\r\n        setLinks(l.map(([id, title]) => {\r\n            const handleClick: React.MouseEventHandler<HTMLAnchorElement> = (event) => {\r\n                const el = document.getElementById(id);\r\n                el?.scrollIntoView();\r\n            }\r\n            return (\r\n                <span onClick={handleClick} key={`hlink-${id}`}>\r\n                    <div className=\"create-sidebar-link\">\r\n                        {title}\r\n                    </div>\r\n                </span>\r\n            );\r\n        }))\r\n    }, [elements])\r\n    return (\r\n        <Sidebar>\r\n            <Link to=\"/\">\r\n                <button className=\"back-button\"><i className=\"fas fa-angle-double-left\"></i></button>\r\n            </Link>\r\n            <div className=\"header-links\">\r\n                {links}\r\n\r\n            </div>\r\n        </Sidebar>\r\n    );\r\n}","import { iCharacter } from '../../models/character';\r\nimport { CreateCharacter } from './CreateCharacter';\r\nexport interface CharacterProps {\r\n    character: iCharacter;\r\n}\r\nexport * from './Section';\r\nexport * from './Header';\r\nexport * from './Race';\r\nexport * from './Class';\r\nexport * from './HitDice';\r\nexport * from './Health';\r\nexport * from './Skills';\r\nexport * from './CreateSidebar';\r\nexport * from './Background';\r\nexport * from './Alignment';\r\nexport default CreateCharacter;\r\n","import React from \"react\";\r\nimport { CharacterProps, Class, CreateSidebar, Header, Health, HitDice, Race } from \"./\";\r\nimport { Alignment } from \"./Alignment\";\r\nimport { Background } from \"./Background\";\r\nimport { Backstory } from \"./Backstory\";\r\nimport { CharacterDescription } from \"./CharacterDescription\";\r\nimport { Items } from \"./Items\";\r\nimport { MiniStats } from \"./MiniStats\";\r\nimport { OtherProficiencies } from \"./OtherProficiencies\";\r\nimport { SavingThrows } from \"./SavingThrows\";\r\nimport { Skills } from \"./Skills\";\r\n\r\n\r\n\r\nexport const CreateCharacter: React.FC<CharacterProps> = ({ character }) => {\r\n\r\n  /* \r\n    Render the stats\r\n    Create inputs for the stats,\r\n    create a button to roll the stats automatically\r\n    Save button\r\n  */\r\n\r\n  const handleDrop: React.DragEventHandler<HTMLElement> = (event) => {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    try {\r\n      const file = event.dataTransfer.files[0];\r\n      const read = new FileReader();\r\n\r\n      read.readAsBinaryString(file);\r\n\r\n      read.onloadend = function () {\r\n        if (typeof read.result === \"string\") {\r\n          const char = JSON.parse(read.result);\r\n          character.deserialize(char);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.log(\"Invalid file dropped!\")\r\n    }\r\n  }\r\n  const handleDrag: React.DragEventHandler<HTMLElement> = (event) => {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <CreateSidebar />\r\n      <main className=\"page-main\" onDrop={handleDrop} onDragOver={handleDrag} >\r\n        <div className=\"create-character\">\r\n          <Header character={character} />\r\n          <div className=\"create-main\">\r\n            <Race character={character} />\r\n            <Alignment character={character} />\r\n            <Background character={character} />\r\n            <Class character={character} />\r\n            <HitDice character={character} />\r\n            <Health character={character} />\r\n            <SavingThrows character={character} />\r\n            <Skills character={character} />\r\n            <Items character={character} />\r\n            <OtherProficiencies character={character} />\r\n            <CharacterDescription character={character} />\r\n            <Backstory character={character} />\r\n\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <MiniStats character={character} />\r\n    </>\r\n  );\r\n}","interface DnDAndSVGProps {\r\n    fill?: string;\r\n    stroke?: string;\r\n    strokeWidth?: string;\r\n    size?: string;\r\n    style?: React.CSSProperties;\r\n}\r\nexport const DnDAndSVG: React.FC<DnDAndSVGProps> = ({ fill, stroke, strokeWidth, size, style }) => {\r\n    return (\r\n        <svg className=\"hoverable dnd-logo\" xmlns=\"http://www.w3.org/2000/svg\" style={{ width: size, height: 'auto' }} viewBox=\"0 0 48 48\">\r\n            <defs>\r\n                <clipPath id=\"fill-clip\">\r\n\r\n                    <rect x=\"0\" y=\"0\" width=\"200\" height=\"600\" className=\"animate-upwards\" style={style || {}} />\r\n\r\n                </clipPath>\r\n            </defs>\r\n\r\n            <g strokeWidth={strokeWidth} stroke={stroke} fill={'transparent'}>\r\n                <path d=\"M35.25,31.001C36.283,31.724,37,33,37,34c0,1.25-0.25,2.125-1.125,3c0,0,0.125,0.125,0.75,0.125 c3.5,0,4.375-1.944,4.375-2.625c0-2-2-2.5-2-2.5c0.625-0.015,1.218,0.034,1.806,0.185c1.683,0.431,2.943,1.374,3.729,2.924 c0.306,0.604,0.456,1.206,0.464,1.794c0.016,1.159-0.5,2.346-1.625,3.346C41.525,41.894,38.125,42,38,42 c0.329,0.363,1.25,1.125,2.625,1.125C41.25,43.125,42,43,42,43c-0.036,0.047-0.75,0.875-2.64,1.576 C38.584,44.835,37.798,44.988,37,45c-0.47,0.007-0.943-0.035-1.42-0.132c-1.906-0.386-3.215-1.502-4.036-3.206 C31.27,41.094,31,39.875,31,39.625c-0.618,0.604-0.977,1.337-1,2.125c0.125,1.625,1.013,2.232,1,2.25c-0.144-0.059-3-0.625-3-4.625 c-0.013-0.642,0.003-1.161,0-1.75c-0.005-1.031-0.475-1.89-1.282-2.555c-1.359-1.12-2.723-2.236-4.093-3.343 c-0.935-0.756-1.518-1.686-1.531-2.901c-0.008-0.758-0.367-1.313-0.959-1.76c-0.372-0.281-0.749-0.561-1.086-0.88 c-0.595-0.564-0.706-1.262-0.503-2.047c0.035,0.029,0.064,0.041,0.068,0.059c0.233,0.944,0.953,1.287,1.831,1.429 c0.471,0.076,0.951,0.109,1.416,0.208c0.488,0.105,0.765,0.449,0.877,0.92c0.069,0.291,0.124,0.586,0.192,0.877 c0.131,0.561,0.416,0.795,0.997,0.832c0.382,0.024,0.765,0.043,1.146,0.081c0.597,0.06,1.115,0.299,1.578,0.676 c1.614,1.314,3.236,2.619,4.851,3.931C31.917,33.488,32.625,34,33.375,34c0.875,0,2-0.625,2-1.875 C35.375,31.375,35.25,31.001,35.25,31.001z\" /><path d=\"M25.891 36.073c-1.139-.939-2.284-1.872-3.431-2.802-.641 1.039-3.108 4.728-6.589 4.728-1.726 0-3.306-1.013-4.121-2.592-.49-.95-.75-2.052-.75-3.031 0-4.25 2.675-6.575 2.739-6.658-.726-.179-1.273-.103-1.864.29-.598.398-1.679 1.077-1.758 1.119C10 27.125 10 27.125 10 27l.375-2.5C9.799 24.694 8.5 25.375 7 26.875c-.75.75-1.357 1.416-1.357 1.416C5.25 26.875 5.875 24.375 5.997 23.5 6.069 22.99 5.872 23 5.872 23c-.25 0-.997.765-1.372 1.156-1.159 1.206-1.895 2.584-2.31 4.208C2.112 28.672 2.063 29.063 2 29.375 2.024 29.383 2.625 28.5 3.125 28.5c.25 0 .265.383.257.518-.013.209-.084.418-.15.621C2.768 31.074 2.503 32.525 2.492 34c-.005.676.044 1.356.151 2.042.183 1.167.467 2.021.981 3.083.726 1.5 2.033 2.812 2.125 2.875-.063-.214-.188-.505-.209-.67-.042-.319-.107-.647-.072-.962.044-.396.39-.486.678-.206.129.126 1.545 1.465 2.38 2.011 1.893 1.236 3.89 1.82 5.974 1.827 1.083.004 2.189-.148 3.317-.444 1.632-.429 3.072-1.223 4.356-2.295 1.645-1.372 2.912-3.132 3.921-4.989C26.028 36.205 25.969 36.137 25.891 36.073zM31.32 22.083c-1.992 1.314-3.654 3.497-5.105 5.364-.01.013-.016.027-.023.04.451.164.881.4 1.28.725.533.434 1.067.865 1.601 1.298.043-.087.083-.166.118-.239.989-2.037 2.183-4.476 3.696-6.181 1.478-1.666 4.073-2.181 5.999-1.251.24.116.434.167.624.16.194-.007.384-.073.615-.193 1.506-.778 3.133-1.17 4.829-1.159C45.288 20.65 46 20.75 46 20.75c-.625-.625-1.444-1.26-2.156-1.661C42.519 18.344 41.157 18 39.75 18c-2 0-3 .624-3.535.624-.215 0-.32-.058-.394-.156-.065-.085-.04-.276.01-.395C36.125 17.5 36.934 17.045 37 17c-.625 0-2.003.741-2.796 1.355-.533.412-1.062.829-1.599 1.236-.108.082-.238.147-.368.185-.353.103-.533-.071-.429-.414.047-.154.119-.304.199-.444.129-.227.275-.445.425-.683-3.807 2.391-4.459 5.671-4.432 5.641 1.118-1.216 2.382-2.165 3.875-2.875 1.495-.711 3.125-1.125 5-1.125 0 0 .125.101.125.125 0 0-.75 0-1.545.237C33.954 20.583 32.592 21.243 31.32 22.083z\" /><path d=\"M16.75,11.25c0,0.5,0.132,0.997,0.275,1.413c0.372,1.086,1.086,1.964,1.899,2.76 c0.802,0.785,1.649,1.525,2.467,2.294c0.825,0.775,1.542,1.63,1.968,2.686c0.241,0.597,0.36,1.216,0.266,1.858 c-0.026,0.179,0.04,0.265,0.199,0.333c0.406,0.173,0.664,0.46,0.686,0.915c0.01,0.215,0.144,0.181,0.273,0.114 c0.716-0.372,1.045-0.935,1.091-0.997c0.082,0.171,0.127,0.383,0.125,0.625c-0.012,1.346-1.205,3.555-2.328,3.995 c0.015-0.098,0.026-0.177,0.04-0.256c0.158-0.888-0.284-1.616-1.153-1.906c-0.587-0.196-1.072-0.2-1.685-0.209 c-0.094-0.001-0.357,0-0.5,0c0.047-0.108,0.393-0.823,0.47-1.101c0.11-0.395-0.034-0.677-0.439-0.766 c-0.439-0.097-0.896-0.158-1.345-0.156c-1.032,0.005-2.055,0.129-3.059,0.372c-0.14,0.034-0.366,0.106-0.503,0.151 c0.875,0,2,0.375,2,0.375s-0.5,1-0.5,1.625c0,0.5,0.25,0.875,0.5,0.875S17.886,26.082,18,26c-0.023,0.136-0.161,0.855-0.18,1.193 C17.791,27.724,18,28,18.625,28c0.125,0,0.25,0,0.375,0c-0.25,0.875-2.132,2.027-3.25,2c-0.074-0.002-0.143-0.009-0.208-0.022 C16,29.75,16.69,28.875,16.69,28.501l-1.492,0.19c0,0,0.509-0.635,0.672-0.954c0.423-0.825,0.47-1.668-0.09-2.456 c-0.473-0.666-1.239-0.951-2.03-1.03c-1.25,0-1.9,0.35-2,0.375c0.569-1.24,1.381-2.005,2.625-2.625c-1-0.5-2-0.625-2-0.625 c1-0.625,2.5-1.125,3.625-1.375c-0.125,0-0.437,0.004-0.5,0c-3.75,0-5.219,1.938-5.25,2c0.605,0.104,1,0.125,1.75,0.375 c0,0-2,0.375-5,2.625c0.02-0.113,0.375-0.875,0.375-1.625c0-2.625-3.324-2.099-3.375-2.125c0.081-0.073,0.75-0.625,2.863-1.645 c0.396-0.214,1.512-0.73,1.512-1.355c0-0.875-1.735-2.15-1.875-2.25c1.375,0,2.147,0.129,3.25,0.375 c-0.588-1.004-0.752-2.05-0.486-3.088c0.426,0.8,1.038,1.428,1.784,1.92c0.686,0.453,1.409,0.852,2.111,1.282 c0.532,0.326,1.084,0.628,1.576,1.005c0.378,0.29,0.677,0.681,1.008,1.028c0.055,0.058,0.099,0.126,0.149,0.189 c0.029-0.014,0.057-0.028,0.086-0.042c-0.079-0.197-0.142-0.402-0.239-0.591c-0.393-0.765-0.974-1.378-1.693-1.852 c-0.295-0.195-0.456-0.426-0.513-0.753c-0.171-0.969-0.175-1.919,0.011-2.85C13.645,12.121,14.25,11,14.25,11v0.125 c0.034,1.325,0.538,2.386,1.375,3.375c0.878,1.037,2.027,1.805,3.017,2.73c1.733,1.645,2.471,2.568,2.608,2.77 c0,0-0.051-0.214-0.082-0.283c-0.476-1.091-1.247-1.97-2.11-2.778c-0.75-0.702-1.512-1.393-2.275-2.082 c-0.276-0.25-0.439-0.547-0.483-0.91C16.125,12.5,16.737,11.259,16.75,11.25z M19,20c0,0,0.08,0.497,0.199,0.743 C19.75,21.875,21,22,21,22s0-0.875-1.25-1.75C19.381,19.992,19,20,19,20z\" /><path d=\"M8,12.625C8.25,11.375,9,10,9,10s0.463,1.573,1.25,2.625c0.389,0.52,0.909,1.098,1.514,1.497 c0.114,0.075,0.229,0.149,0.346,0.222c-0.022-0.674,0.031-1.334,0.159-1.974c0.109-0.545,0.492-1.328,0.73-1.784V10.5 C13,8.567,14.343,7,16,7s3,1.567,3,3.5c0,1.377-0.111,2.059-0.271,2.5c-0.014,0.037-0.028,0.071-0.042,0.106 c0.131,0.212,0.287,0.426,0.465,0.645c0.011,0.013,0.02,0.026,0.031,0.039c0.187,0.226,0.4,0.459,0.65,0.704 c0.471,0.461,0.976,0.922,1.463,1.367c0.33,0.301,0.66,0.602,0.985,0.908c0.079,0.074,0.142,0.147,0.217,0.221 C24.042,15.314,25,13.142,25,11c0-5-4.029-8-9-8s-9,3.125-9,8c0,1.216,0.318,2.439,0.865,3.58C7.829,14.041,7.892,13.167,8,12.625z\" />\r\n            </g>\r\n            <g strokeWidth={strokeWidth} stroke={stroke} fill={fill || 'transparent'} clipPath=\"url(#fill-clip)\">\r\n                <path d=\"M35.25,31.001C36.283,31.724,37,33,37,34c0,1.25-0.25,2.125-1.125,3c0,0,0.125,0.125,0.75,0.125 c3.5,0,4.375-1.944,4.375-2.625c0-2-2-2.5-2-2.5c0.625-0.015,1.218,0.034,1.806,0.185c1.683,0.431,2.943,1.374,3.729,2.924 c0.306,0.604,0.456,1.206,0.464,1.794c0.016,1.159-0.5,2.346-1.625,3.346C41.525,41.894,38.125,42,38,42 c0.329,0.363,1.25,1.125,2.625,1.125C41.25,43.125,42,43,42,43c-0.036,0.047-0.75,0.875-2.64,1.576 C38.584,44.835,37.798,44.988,37,45c-0.47,0.007-0.943-0.035-1.42-0.132c-1.906-0.386-3.215-1.502-4.036-3.206 C31.27,41.094,31,39.875,31,39.625c-0.618,0.604-0.977,1.337-1,2.125c0.125,1.625,1.013,2.232,1,2.25c-0.144-0.059-3-0.625-3-4.625 c-0.013-0.642,0.003-1.161,0-1.75c-0.005-1.031-0.475-1.89-1.282-2.555c-1.359-1.12-2.723-2.236-4.093-3.343 c-0.935-0.756-1.518-1.686-1.531-2.901c-0.008-0.758-0.367-1.313-0.959-1.76c-0.372-0.281-0.749-0.561-1.086-0.88 c-0.595-0.564-0.706-1.262-0.503-2.047c0.035,0.029,0.064,0.041,0.068,0.059c0.233,0.944,0.953,1.287,1.831,1.429 c0.471,0.076,0.951,0.109,1.416,0.208c0.488,0.105,0.765,0.449,0.877,0.92c0.069,0.291,0.124,0.586,0.192,0.877 c0.131,0.561,0.416,0.795,0.997,0.832c0.382,0.024,0.765,0.043,1.146,0.081c0.597,0.06,1.115,0.299,1.578,0.676 c1.614,1.314,3.236,2.619,4.851,3.931C31.917,33.488,32.625,34,33.375,34c0.875,0,2-0.625,2-1.875 C35.375,31.375,35.25,31.001,35.25,31.001z\" /><path d=\"M25.891 36.073c-1.139-.939-2.284-1.872-3.431-2.802-.641 1.039-3.108 4.728-6.589 4.728-1.726 0-3.306-1.013-4.121-2.592-.49-.95-.75-2.052-.75-3.031 0-4.25 2.675-6.575 2.739-6.658-.726-.179-1.273-.103-1.864.29-.598.398-1.679 1.077-1.758 1.119C10 27.125 10 27.125 10 27l.375-2.5C9.799 24.694 8.5 25.375 7 26.875c-.75.75-1.357 1.416-1.357 1.416C5.25 26.875 5.875 24.375 5.997 23.5 6.069 22.99 5.872 23 5.872 23c-.25 0-.997.765-1.372 1.156-1.159 1.206-1.895 2.584-2.31 4.208C2.112 28.672 2.063 29.063 2 29.375 2.024 29.383 2.625 28.5 3.125 28.5c.25 0 .265.383.257.518-.013.209-.084.418-.15.621C2.768 31.074 2.503 32.525 2.492 34c-.005.676.044 1.356.151 2.042.183 1.167.467 2.021.981 3.083.726 1.5 2.033 2.812 2.125 2.875-.063-.214-.188-.505-.209-.67-.042-.319-.107-.647-.072-.962.044-.396.39-.486.678-.206.129.126 1.545 1.465 2.38 2.011 1.893 1.236 3.89 1.82 5.974 1.827 1.083.004 2.189-.148 3.317-.444 1.632-.429 3.072-1.223 4.356-2.295 1.645-1.372 2.912-3.132 3.921-4.989C26.028 36.205 25.969 36.137 25.891 36.073zM31.32 22.083c-1.992 1.314-3.654 3.497-5.105 5.364-.01.013-.016.027-.023.04.451.164.881.4 1.28.725.533.434 1.067.865 1.601 1.298.043-.087.083-.166.118-.239.989-2.037 2.183-4.476 3.696-6.181 1.478-1.666 4.073-2.181 5.999-1.251.24.116.434.167.624.16.194-.007.384-.073.615-.193 1.506-.778 3.133-1.17 4.829-1.159C45.288 20.65 46 20.75 46 20.75c-.625-.625-1.444-1.26-2.156-1.661C42.519 18.344 41.157 18 39.75 18c-2 0-3 .624-3.535.624-.215 0-.32-.058-.394-.156-.065-.085-.04-.276.01-.395C36.125 17.5 36.934 17.045 37 17c-.625 0-2.003.741-2.796 1.355-.533.412-1.062.829-1.599 1.236-.108.082-.238.147-.368.185-.353.103-.533-.071-.429-.414.047-.154.119-.304.199-.444.129-.227.275-.445.425-.683-3.807 2.391-4.459 5.671-4.432 5.641 1.118-1.216 2.382-2.165 3.875-2.875 1.495-.711 3.125-1.125 5-1.125 0 0 .125.101.125.125 0 0-.75 0-1.545.237C33.954 20.583 32.592 21.243 31.32 22.083z\" /><path d=\"M16.75,11.25c0,0.5,0.132,0.997,0.275,1.413c0.372,1.086,1.086,1.964,1.899,2.76 c0.802,0.785,1.649,1.525,2.467,2.294c0.825,0.775,1.542,1.63,1.968,2.686c0.241,0.597,0.36,1.216,0.266,1.858 c-0.026,0.179,0.04,0.265,0.199,0.333c0.406,0.173,0.664,0.46,0.686,0.915c0.01,0.215,0.144,0.181,0.273,0.114 c0.716-0.372,1.045-0.935,1.091-0.997c0.082,0.171,0.127,0.383,0.125,0.625c-0.012,1.346-1.205,3.555-2.328,3.995 c0.015-0.098,0.026-0.177,0.04-0.256c0.158-0.888-0.284-1.616-1.153-1.906c-0.587-0.196-1.072-0.2-1.685-0.209 c-0.094-0.001-0.357,0-0.5,0c0.047-0.108,0.393-0.823,0.47-1.101c0.11-0.395-0.034-0.677-0.439-0.766 c-0.439-0.097-0.896-0.158-1.345-0.156c-1.032,0.005-2.055,0.129-3.059,0.372c-0.14,0.034-0.366,0.106-0.503,0.151 c0.875,0,2,0.375,2,0.375s-0.5,1-0.5,1.625c0,0.5,0.25,0.875,0.5,0.875S17.886,26.082,18,26c-0.023,0.136-0.161,0.855-0.18,1.193 C17.791,27.724,18,28,18.625,28c0.125,0,0.25,0,0.375,0c-0.25,0.875-2.132,2.027-3.25,2c-0.074-0.002-0.143-0.009-0.208-0.022 C16,29.75,16.69,28.875,16.69,28.501l-1.492,0.19c0,0,0.509-0.635,0.672-0.954c0.423-0.825,0.47-1.668-0.09-2.456 c-0.473-0.666-1.239-0.951-2.03-1.03c-1.25,0-1.9,0.35-2,0.375c0.569-1.24,1.381-2.005,2.625-2.625c-1-0.5-2-0.625-2-0.625 c1-0.625,2.5-1.125,3.625-1.375c-0.125,0-0.437,0.004-0.5,0c-3.75,0-5.219,1.938-5.25,2c0.605,0.104,1,0.125,1.75,0.375 c0,0-2,0.375-5,2.625c0.02-0.113,0.375-0.875,0.375-1.625c0-2.625-3.324-2.099-3.375-2.125c0.081-0.073,0.75-0.625,2.863-1.645 c0.396-0.214,1.512-0.73,1.512-1.355c0-0.875-1.735-2.15-1.875-2.25c1.375,0,2.147,0.129,3.25,0.375 c-0.588-1.004-0.752-2.05-0.486-3.088c0.426,0.8,1.038,1.428,1.784,1.92c0.686,0.453,1.409,0.852,2.111,1.282 c0.532,0.326,1.084,0.628,1.576,1.005c0.378,0.29,0.677,0.681,1.008,1.028c0.055,0.058,0.099,0.126,0.149,0.189 c0.029-0.014,0.057-0.028,0.086-0.042c-0.079-0.197-0.142-0.402-0.239-0.591c-0.393-0.765-0.974-1.378-1.693-1.852 c-0.295-0.195-0.456-0.426-0.513-0.753c-0.171-0.969-0.175-1.919,0.011-2.85C13.645,12.121,14.25,11,14.25,11v0.125 c0.034,1.325,0.538,2.386,1.375,3.375c0.878,1.037,2.027,1.805,3.017,2.73c1.733,1.645,2.471,2.568,2.608,2.77 c0,0-0.051-0.214-0.082-0.283c-0.476-1.091-1.247-1.97-2.11-2.778c-0.75-0.702-1.512-1.393-2.275-2.082 c-0.276-0.25-0.439-0.547-0.483-0.91C16.125,12.5,16.737,11.259,16.75,11.25z M19,20c0,0,0.08,0.497,0.199,0.743 C19.75,21.875,21,22,21,22s0-0.875-1.25-1.75C19.381,19.992,19,20,19,20z\" /><path d=\"M8,12.625C8.25,11.375,9,10,9,10s0.463,1.573,1.25,2.625c0.389,0.52,0.909,1.098,1.514,1.497 c0.114,0.075,0.229,0.149,0.346,0.222c-0.022-0.674,0.031-1.334,0.159-1.974c0.109-0.545,0.492-1.328,0.73-1.784V10.5 C13,8.567,14.343,7,16,7s3,1.567,3,3.5c0,1.377-0.111,2.059-0.271,2.5c-0.014,0.037-0.028,0.071-0.042,0.106 c0.131,0.212,0.287,0.426,0.465,0.645c0.011,0.013,0.02,0.026,0.031,0.039c0.187,0.226,0.4,0.459,0.65,0.704 c0.471,0.461,0.976,0.922,1.463,1.367c0.33,0.301,0.66,0.602,0.985,0.908c0.079,0.074,0.142,0.147,0.217,0.221 C24.042,15.314,25,13.142,25,11c0-5-4.029-8-9-8s-9,3.125-9,8c0,1.216,0.318,2.439,0.865,3.58C7.829,14.041,7.892,13.167,8,12.625z\" />\r\n            </g>\r\n        </svg>\r\n    );\r\n}","import { Home } from './Home';\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DnDAndSVG } from \"../svg/DnDAndSVG\";\r\n\r\nexport const Home: React.FC = () => {\r\n    return (\r\n        <div className=\"center-content\" style={{ height: '100vh', gridColumn: \"1/-1\" }}>\r\n            <DnDAndSVG size=\"50vh\" stroke=\"black\" style={{ animationDuration: \"1s\" }} fill=\"#E40712\" strokeWidth=\"0.5\" />\r\n            <div className=\"flex between\" style={{ width: \"60%\" }}>\r\n                <Link to=\"/create\">\r\n                    <button>\r\n                        Create Character\r\n                    </button>\r\n                </Link>\r\n                <Link to=\"/load\">\r\n                    <button>\r\n                        Load Character\r\n                    </button>\r\n                </Link>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}","// import { useDice } from \"../../models/dice/dice\";\r\nimport { CharacterProps } from \"../CreateCharacter\";\r\nimport { SaveUploadCharacter } from \"../SaveUploadCharacter\";\r\n\r\nexport const LoadCharacter: React.FC<CharacterProps> = ({ character }) => {\r\n    // const { roll, DiceRoller } = useDice(character);\r\n    return (\r\n        <>\r\n            <div>\r\n                <SaveUploadCharacter character={character} />\r\n            </div>\r\n            <main className=\"page-main\" style={{ gridColumn: \"2/-1\" }}>\r\n                <div className=\"load-page-container\">\r\n                    {/* \r\n                        I need to design this page properly. It should be\r\n                        streamlined in such a way that the information is\r\n                        interactive, easy to read, and easily accessible.\r\n                    */}\r\n\r\n                    <div className=\"load-character-grid\">\r\n                        <div className=\"load-character-main\">\r\n                            <header className=\"load-player-header\" style={{ backgroundColor: 'hotpink' }}>\r\n                                Header\r\n                            </header>\r\n                            main\r\n                        </div>\r\n                        <aside className=\"load-character-sidebar\">\r\n                            aside\r\n                        </aside>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </>\r\n    );\r\n\r\n}","import { useCallback, useState } from 'react';\r\nimport { iCharacter, iSerializable } from './character';\r\nimport { iStatModel } from './stats';\r\nexport enum ProficiencyLevels {\r\n    none = 0,\r\n    single = 1,\r\n    double = 2,\r\n}\r\n\r\nexport interface iSavingThrowModel {\r\n    [key: string]: ProficiencyLevels;\r\n}\r\n\r\nexport interface iSavingThrows extends iSerializable<iSavingThrowModel> {\r\n    savingThrows: iSavingThrowModel;\r\n    setProficiencyLevel: (name: string, proficiencyLevel: ProficiencyLevels) => void;\r\n    getProficiencyLevel: (name: string) => ProficiencyLevels;\r\n    getProficiencyValue: (name: string, character: iCharacter) => number;\r\n}\r\n\r\nexport const useSavingThrows = (stats: iStatModel[]): iSavingThrows => {\r\n    const incoming: iSavingThrowModel = {};\r\n    stats.forEach((stat) => {\r\n        incoming[stat.name] = 0;\r\n    });\r\n    //Variables\r\n    const [savingThrows, _setSavingThrows] = useState<iSavingThrowModel>(incoming);\r\n\r\n    //Functions\r\n    const setProficiencyLevel = useCallback(\r\n        (name: string, proficiencyLevel: ProficiencyLevels) => {\r\n            _setSavingThrows((oldSavingThrows) => {\r\n                return { ...oldSavingThrows, [name]: proficiencyLevel };\r\n            });\r\n        },\r\n        [_setSavingThrows]\r\n    );\r\n\r\n    const getProficiencyLevel = useCallback(\r\n        (name: keyof iSavingThrowModel): ProficiencyLevels => {\r\n            let found;\r\n            if (savingThrows !== undefined) found = savingThrows[name];\r\n            return found || ProficiencyLevels.none;\r\n        },\r\n        [savingThrows]\r\n    );\r\n\r\n    const getProficiencyValue = useCallback(\r\n        (name: string, character: iCharacter) => {\r\n            const { stats, proficiency } = character;\r\n            const statFound = stats.modifier(name);\r\n            return statFound + proficiency * getProficiencyLevel(name);\r\n        },\r\n        [getProficiencyLevel]\r\n    );\r\n\r\n    //Serialization\r\n    const serialize = useCallback(() => savingThrows, [savingThrows]);\r\n    const deserialize = useCallback(\r\n        (incomingSavingThrows: iSavingThrowModel) => {\r\n            _setSavingThrows((oldThrows) => ({ ...oldThrows, ...incomingSavingThrows }));\r\n        },\r\n        [_setSavingThrows]\r\n    );\r\n\r\n    //Assemble Object\r\n    const outputSavingThrows: iSavingThrows = {\r\n        savingThrows,\r\n        setProficiencyLevel,\r\n        getProficiencyLevel,\r\n        getProficiencyValue,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n\r\n    return outputSavingThrows;\r\n};\r\n","import { useCallback, useState } from 'react';\r\nimport { iSerializable } from './character';\r\nimport { ProficiencyLevels } from './savingThrows';\r\nexport const blankProficiencies = () => {\r\n    const names: iProficienciesModel = {\r\n        Acrobatics: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Dexterity',\r\n        },\r\n        'Animal Handling': {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Wisdom',\r\n        },\r\n        Arcana: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Intelligence',\r\n        },\r\n        Athletics: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Strength',\r\n        },\r\n        Deception: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Charisma',\r\n        },\r\n        History: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Intelligence',\r\n        },\r\n        Insight: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Wisdom',\r\n        },\r\n        Intimidation: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Charisma',\r\n        },\r\n        Investigation: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Intelligence',\r\n        },\r\n        Medicine: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Wisdom',\r\n        },\r\n        Nature: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Intelligence',\r\n        },\r\n        Perception: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Wisdom',\r\n        },\r\n        Performance: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Charisma',\r\n        },\r\n        Persuasion: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Charisma',\r\n        },\r\n        Religion: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Intelligence',\r\n        },\r\n        'Sleight of Hand': {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Dexterity',\r\n        },\r\n        Stealth: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Dexterity',\r\n        },\r\n        Survival: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Wisdom',\r\n        },\r\n    };\r\n    return names;\r\n};\r\n\r\ninterface ProficiencyModel {\r\n    proficiencyLevel: ProficiencyLevels;\r\n    governingSkill?: string;\r\n}\r\nexport interface iProficienciesModel {\r\n    [key: string]: ProficiencyModel;\r\n}\r\n\r\nexport interface iProficiencies extends iSerializable<iProficienciesModel> {\r\n    proficiencies: iProficienciesModel;\r\n    setProficiencyLevel: (key: keyof iProficienciesModel, value: ProficiencyLevels) => void;\r\n    addProficiency: (prof: keyof iProficienciesModel) => void;\r\n    removeProficiency: (name: string) => void;\r\n}\r\nexport const useProficiencies = (profs: iProficienciesModel = blankProficiencies()) => {\r\n    const [proficiencies, _setProficiencies] = useState<iProficienciesModel>(profs);\r\n\r\n    const removeProficiency = useCallback(\r\n        (name: string) => {\r\n            _setProficiencies((oldProfs) => {\r\n                delete oldProfs[name];\r\n                return oldProfs;\r\n            });\r\n        },\r\n        [_setProficiencies]\r\n    );\r\n\r\n    const addProficiency = useCallback(\r\n        (prof: keyof iProficienciesModel) => {\r\n            _setProficiencies((oldProfs) => ({ ...oldProfs, [prof]: { proficiencyLevel: 1 } }));\r\n        },\r\n        [_setProficiencies]\r\n    );\r\n    const setProficiencyLevel = useCallback(\r\n        (key: keyof iProficienciesModel, value: ProficiencyLevels) => {\r\n            _setProficiencies((profs) => {\r\n                return {\r\n                    ...profs,\r\n                    [key]: {\r\n                        ...profs[key],\r\n                        proficiencyLevel: value,\r\n                    },\r\n                };\r\n            });\r\n        },\r\n        [_setProficiencies]\r\n    );\r\n\r\n    // eslint-disable-next-line\r\n    const serialize = useCallback(() => proficiencies, [proficiencies]);\r\n    const deserialize = useCallback((incomingProficiencies: iProficienciesModel) => _setProficiencies(incomingProficiencies), [_setProficiencies]);\r\n\r\n    const exportedProficiencies: iProficiencies = {\r\n        proficiencies,\r\n        setProficiencyLevel,\r\n        addProficiency,\r\n        removeProficiency,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n    return exportedProficiencies;\r\n};\r\n","import { useCallback, useState } from 'react';\r\nimport { iClassModel, useClasses } from './classes';\r\nimport { iItemModel, useItems } from './items/items';\r\nimport { iMoney, iMoneyModel, useMoney } from './money';\r\nimport { blankProficiencies, iProficienciesModel, useProficiencies } from './proficiencies';\r\nimport { iSavingThrowModel, useSavingThrows } from './savingThrows';\r\nimport { iStatModel, useStats } from './stats';\r\nexport interface iSerializable<T> {\r\n    serialize: () => T;\r\n    deserialize: (model: T) => void;\r\n}\r\n\r\nexport interface Description {\r\n    [key: string]: string;\r\n}\r\n\r\nconst blankDescription = (): Description => ({\r\n    age: '',\r\n    height: '',\r\n    weight: '',\r\n    eyes: '',\r\n    skin: '',\r\n    hair: '',\r\n});\r\n\r\nexport interface iCharacterModel {\r\n    name: string;\r\n    race: string;\r\n    background: string;\r\n    alignment: string;\r\n    backstory: string;\r\n    money: iMoneyModel;\r\n    description: Description;\r\n    hp: number;\r\n    items: iItemModel[];\r\n    stats: iStatModel[];\r\n    classes: iClassModel[];\r\n    savingThrows: iSavingThrowModel;\r\n    proficiencies: iProficienciesModel;\r\n    otherProficiencies: iProficienciesModel;\r\n}\r\nexport type iCharacter = ReturnType<typeof useCharacter> & iSerializable<iCharacterModel>;\r\nexport const blankCharacter = (): iCharacterModel => {\r\n    const char: iCharacterModel = {\r\n        name: '',\r\n        race: '',\r\n        background: '',\r\n        alignment: '',\r\n        backstory: '',\r\n        money: [0, 0, 0, 0, 0],\r\n        items: [],\r\n        description: blankDescription(),\r\n        hp: 0,\r\n        stats: [\r\n            {\r\n                name: 'Strength',\r\n                short_name: 'Str',\r\n                value: 0,\r\n            },\r\n            {\r\n                name: 'Dexterity',\r\n                short_name: 'Dex',\r\n                value: 0,\r\n            },\r\n            {\r\n                name: 'Constitution',\r\n                short_name: 'Con',\r\n                value: 0,\r\n            },\r\n            {\r\n                name: 'Intelligence',\r\n                short_name: 'Int',\r\n                value: 0,\r\n            },\r\n            {\r\n                name: 'Wisdom',\r\n                short_name: 'Wis',\r\n                value: 0,\r\n            },\r\n            {\r\n                name: 'Charisma',\r\n                short_name: 'Cha',\r\n                value: 0,\r\n            },\r\n        ],\r\n        savingThrows: {},\r\n        proficiencies: blankProficiencies(),\r\n        otherProficiencies: {},\r\n        classes: [],\r\n    };\r\n\r\n    return char;\r\n};\r\n\r\nexport const useCharacter = (char: iCharacterModel) => {\r\n    const [background, setBackground] = useState(char.background);\r\n    const [backstory, setBackstory] = useState(char.backstory);\r\n    const [alignment, setAlignment] = useState(char.alignment);\r\n    const [description, setDescription] = useState(char.description);\r\n    const [name, setName] = useState(char.name);\r\n    const [hp, setHP] = useState(char.hp);\r\n    const [race, setRace] = useState(char.race);\r\n    const classes = useClasses(char.classes);\r\n    const stats = useStats(char.stats);\r\n    const savingThrows = useSavingThrows(char.stats);\r\n    const proficiencies = useProficiencies(char.proficiencies);\r\n    const otherProficiencies = useProficiencies(char.otherProficiencies);\r\n    const money: iMoney = useMoney(char.money);\r\n    const items = useItems(char);\r\n    const _proficiency = useCallback(() => {\r\n        return 1 + Math.ceil(classes.totalLevel() / 4);\r\n    }, [classes]);\r\n\r\n    const serialize = useCallback(() => {\r\n        const char: iCharacterModel = {\r\n            name,\r\n            hp,\r\n            race,\r\n            alignment,\r\n            backstory,\r\n            description,\r\n            stats: stats.stats,\r\n            classes: classes.serialize(),\r\n            savingThrows: savingThrows.serialize(),\r\n            proficiencies: proficiencies.serialize(),\r\n            otherProficiencies: otherProficiencies.serialize(),\r\n            items: items.serialize(),\r\n            money: money.serialize(),\r\n            background,\r\n        };\r\n        return char;\r\n    }, [savingThrows, name, description, race, money, items, hp, classes, stats, proficiencies, background, otherProficiencies, alignment, backstory, items, items.items]);\r\n\r\n    const deserialize = useCallback(\r\n        (char: iCharacterModel) => {\r\n            setName(char.name);\r\n            setHP(char.hp);\r\n            setAlignment(char.alignment);\r\n            stats.deserialize(char.stats);\r\n            classes.deserialize(char.classes);\r\n            items.deserialize(char.items);\r\n            setRace(char.race);\r\n            setDescription(char.description);\r\n            setBackstory(char.backstory);\r\n            savingThrows.deserialize(char.savingThrows);\r\n            proficiencies.deserialize(char.proficiencies);\r\n            otherProficiencies.deserialize(char.otherProficiencies);\r\n            money.deserialize(char.money);\r\n            setBackground(char.background);\r\n        },\r\n        [savingThrows, otherProficiencies, proficiencies, setName, stats, classes, setDescription, setAlignment, setBackstory]\r\n    );\r\n\r\n    const character = {\r\n        name,\r\n        hp,\r\n        alignment,\r\n        background,\r\n        backstory,\r\n        description,\r\n        setDescription,\r\n        setBackstory,\r\n        setBackground,\r\n        items,\r\n        setAlignment,\r\n        setName,\r\n        setHP,\r\n        stats,\r\n        race,\r\n        savingThrows,\r\n        get proficiency() {\r\n            return _proficiency();\r\n        },\r\n        get level() {\r\n            return classes.totalLevel();\r\n        },\r\n        proficiencies,\r\n        otherProficiencies,\r\n        setRace,\r\n        classes,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n    return character;\r\n};\r\n","import { useCallback, useState } from 'react';\r\nimport { iSerializable } from './character';\r\nexport interface iClassModel {\r\n    name: string;\r\n    level?: number;\r\n    hitDice?: number;\r\n}\r\nexport interface iClass extends iSerializable<iClassModel[]> {\r\n    classes: iClassModel[];\r\n    addClass: (c: string) => void;\r\n    removeClass: (c: string) => void;\r\n    toggleClass: (c: string) => void;\r\n    setDice: (name: string, hitDice: number) => void;\r\n    setLevel: (name: string, level: number) => void;\r\n    totalLevel: () => number;\r\n    includes: (name: string) => boolean;\r\n}\r\n\r\nexport const useClasses = (_classes: iClassModel[]): iClass => {\r\n    //Variables\r\n    const [classes, _setClasses] = useState<iClassModel[]>(_classes);\r\n\r\n    const includes = useCallback((name: string) => classes.some((oc) => oc.name === name), [classes]);\r\n    const _setClassProperty = useCallback(\r\n        (className: string, key: keyof iClassModel, value: iClassModel[keyof iClassModel]) => {\r\n            _setClasses((oldClasses) =>\r\n                oldClasses.map((c) => {\r\n                    return c.name === className ? { ...c, [key]: value } : c;\r\n                })\r\n            );\r\n        },\r\n        [_setClasses]\r\n    );\r\n    const setDice = useCallback((name: string, hitDice: number) => _setClassProperty(name, 'hitDice', hitDice), [_setClassProperty]);\r\n    const setLevel = useCallback((name: string, level: number) => _setClassProperty(name, 'level', level), [_setClassProperty]);\r\n\r\n    //Functions\r\n    const addClass = useCallback(\r\n        (c: string) => {\r\n            _setClasses((oldClasses) => (!oldClasses.some((oc) => oc.name === c) ? [...oldClasses, { name: c, level: 1 }] : oldClasses));\r\n        },\r\n        [_setClasses]\r\n    );\r\n    const removeClass = useCallback(\r\n        (c: string) => {\r\n            _setClasses((oldClasses) => oldClasses.filter((cl) => cl.name.toLowerCase() !== c.toLowerCase()));\r\n        },\r\n        [_setClasses]\r\n    );\r\n\r\n    const deserialize = useCallback(\r\n        (c: iClassModel[]) => {\r\n            _setClasses(c);\r\n        },\r\n        [_setClasses]\r\n    );\r\n\r\n    const totalLevel = useCallback(() => {\r\n        let level = 0;\r\n        classes.forEach((c) => (level += c.level || 0));\r\n        return level;\r\n    }, [classes]);\r\n\r\n    const serialize = useCallback(() => {\r\n        console.log('SERIALIZED CLASSES', classes);\r\n        return classes;\r\n    }, [classes]);\r\n\r\n    const toggleClass = useCallback(\r\n        (c: string) => {\r\n            if (includes(c)) {\r\n                removeClass(c);\r\n            } else {\r\n                addClass(c);\r\n            }\r\n        },\r\n        [includes, addClass, removeClass]\r\n    );\r\n\r\n    const cl: iClass = {\r\n        classes,\r\n        addClass,\r\n        removeClass,\r\n        toggleClass,\r\n        includes,\r\n        setDice,\r\n        setLevel,\r\n        totalLevel,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n\r\n    return cl;\r\n};\r\n","import { useCallback, useState } from 'react';\r\nexport interface iStatModel {\r\n    name: string;\r\n    short_name?: string;\r\n    value: number;\r\n}\r\n\r\nexport interface iStats {\r\n    stats: iStatModel[];\r\n    modifier: (index: string) => number;\r\n    setValue: (incomingStat: iStatModel) => void;\r\n    deserialize: (stats: iStatModel[]) => void;\r\n}\r\n\r\nexport const useStats = (statModels: iStatModel[]) => {\r\n    const [stats, _setStats] = useState(statModels);\r\n\r\n    const setValue = useCallback(\r\n        (incomingStat: iStatModel) => {\r\n            //find this name in the index array, splice it out and insert it back changed in that place\r\n\r\n            _setStats((oldStats) =>\r\n                oldStats.map((s) => {\r\n                    return s.name === incomingStat.name ? { ...s, ...incomingStat } : s;\r\n                })\r\n            );\r\n        },\r\n        [_setStats]\r\n    );\r\n    const deserialize = useCallback(\r\n        (stats: iStatModel[]) => {\r\n            _setStats(stats);\r\n        },\r\n        [_setStats]\r\n    );\r\n\r\n    const modifier = useCallback(\r\n        (name: string) => {\r\n            const stat = stats.find((stat) => stat.name.toLowerCase().startsWith(name.toLowerCase()));\r\n            if (stat) {\r\n                return Math.floor((stat.value - 10) / 2);\r\n            }\r\n            return 0;\r\n        },\r\n        [stats]\r\n    );\r\n    const stat: iStats = {\r\n        stats,\r\n        setValue,\r\n        modifier,\r\n        deserialize,\r\n    };\r\n\r\n    return stat;\r\n};\r\n","import { useCallback, useState } from 'react';\r\nimport { iCharacterModel } from '../character';\r\nimport { ItemType } from './ItemType';\r\nimport { mapRarity, Rarity } from './Rarity';\r\n/* \r\n    Authored by:\r\n        Trevor Brown\r\n\r\n    The goal of the useItems hook is to contain all of the info repated to\r\n    a users items. This will be done by creating a robust set of interfaces for items\r\n*/\r\n\r\nexport interface RollableProperty {\r\n    name: string;\r\n    magnitude: string;\r\n    magnitudeType?: string; // ? What the fuck does this mean? - It means the damage type (fire, slashing,... etc)\r\n}\r\n\r\n/* \r\n    An item will contain the barebones set of properties needed to encapsulate everything needed to\r\n    define a weapon. A name, description, rarity and a set of rollable properties.\r\n*/\r\n\r\n/* \r\nRollable Properties:\r\nA rollable property is an additional property added onto an item, this could be like the dice for a weapon or\r\nsome sort of effect. Defining rollable properties allows them to be automatically rolled at the click of a button\r\n\r\nTODO: Add \"+- mod\" to useDice ex: + con to add constitution modifier.\r\n*/\r\n\r\nexport interface iItemModel {\r\n    name: string;\r\n    rarity?: Rarity;\r\n    description?: string;\r\n    cost?: string;\r\n    weight?: string;\r\n    type?: ItemType;\r\n    weaponProps?: RollableProperty[];\r\n}\r\n\r\nexport const useItems = (character: iCharacterModel) => {\r\n    const [items, setItems] = useState<iItemModel[]>([]);\r\n    const addItem = useCallback(\r\n        (item: iItemModel) => {\r\n            setItems((items) => [...items, item]);\r\n        },\r\n        [setItems]\r\n    );\r\n\r\n    const removeItem = useCallback(\r\n        (id: string | number) => {\r\n            let index = typeof id === 'string' ? items.findIndex((item) => item.name === id) : id;\r\n\r\n            setItems((items) => {\r\n                items.splice(index, 1);\r\n                return items;\r\n            });\r\n        },\r\n        [setItems, items]\r\n    );\r\n    const serialize = useCallback(() => items, [items]);\r\n    const deserialize = useCallback((items: iItemModel[]) => setItems(items), [setItems]);\r\n\r\n    const obj = {\r\n        items,\r\n        addItem,\r\n        removeItem,\r\n        mapRarity,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n\r\n    return obj;\r\n};\r\n\r\nexport type iItems = ReturnType<typeof useItems>;\r\n","import { useModal } from './components/Modal';\r\n\r\nexport const Testing: React.FC = () => {\r\n    const [toggleActive, Modal] = useModal(\r\n        <>\r\n            <div className=\"item-modal\">\r\n                <div className=\"item-form\">Form</div>\r\n                <div className=\"rollable-prop-form\">rollable</div>\r\n            </div>\r\n        </>\r\n    );\r\n    return (\r\n        <div\r\n            style={{\r\n                background: 'white',\r\n                height: '100vh',\r\n                gridColumn: '1/-1',\r\n            }}>\r\n            <button onClick={() => toggleActive()}>Toggle Active</button>\r\n            {Modal}\r\n            <p>\r\n                Lorem ipsum dolor sit amet, consectetur adipisicing elit.\r\n                Nostrum aliquid quasi exercitationem fugiat rem, quae\r\n                perferendis hic quas, cum eaque quibusdam consectetur similique\r\n                fuga, illo provident ab soluta voluptatem harum. Optio odio modi\r\n                tenetur! Minima inventore ipsa vero vitae commodi quos aliquid\r\n                obcaecati ratione possimus iusto, hic esse minus culpa?\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport CreateCharacter from './components/CreateCharacter';\r\n//Pages\r\nimport Home from './components/Home';\r\nimport { LoadCharacter } from './components/LoadCharacter/LoadCharacter';\r\nimport { blankCharacter, iCharacter, iCharacterModel, useCharacter } from './models/character';\r\nimport './styles/faall.min.css';\r\nimport './styles/style.css';\r\nimport { Testing } from './Testing';\r\n\r\n/*\r\n  GOAL:\r\n  The app will serve as an interactive character sheet for dnd 5e.\r\n  There will be a number of sections. All of the logic for the app will be contained on a single page\r\n\r\n\r\n  PAGES:\r\n    Character Select:\r\n      Here they can load their character json data into the app or create a new one\r\n    Character Create?:\r\n      Possibly unessicarry\r\n\r\n    Character View:\r\n      This is the main page of the app all of the apps logic will be here\r\n\r\n*/\r\n\r\nconst App: React.FC = (props) => {\r\n    const char: iCharacterModel = blankCharacter();\r\n    const character: iCharacter = useCharacter(char);\r\n    return (\r\n        <Router>\r\n            <div className='page-container'>\r\n                <Switch>\r\n                    {/* Create Character Page */}\r\n                    <Route path='/create' exact>\r\n                        <CreateCharacter character={character} />\r\n                    </Route>\r\n\r\n                    <Route path='/load' exact>\r\n                        <LoadCharacter character={character} />\r\n                    </Route>\r\n\r\n                    {/* Home Page */}\r\n                    <Route path='/' exact>\r\n                        <Home />\r\n                    </Route>\r\n                    <Route path='/testing' exact>\r\n                        <Testing />\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <div className=\"theme\">\r\n      <App />\r\n    </div>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}