{"version":3,"sources":["models/items/ItemType.ts","components/misc/LinkedHeader.tsx","components/misc/WikiReference.tsx","components/CreateCharacter/Section.tsx","components/CreateCharacter/Alignment.tsx","components/CreateCharacter/Background.tsx","components/CreateCharacter/Backstory.tsx","components/CreateCharacter/CharacterDescription.tsx","models/feats/feats.ts","components/Modal.tsx","models/items/Rarity.ts","components/misc/TripleCheckBox.tsx","models/dice/computeDice.ts","models/dice/parseExpression.ts","models/dice/parseStat.ts","models/dice/dice.tsx","components/CreateCharacter/Items/RollablePropertyModal.tsx","components/CreateCharacter/Items/ItemCard.tsx","components/CreateCharacter/Items/RollableProperty.tsx","components/CreateCharacter/Items/Items.tsx","components/CreateCharacter/Feats/FeatCard.tsx","components/CreateCharacter/Feats/Feats.tsx","components/Sidebar.tsx","components/CreateCharacter/CharacterInfo.tsx","components/CreateCharacter/MiniStats.tsx","models/spells/SpellLevel.ts","components/CreateCharacter/OtherProficiencies.tsx","components/CreateCharacter/SavingThrows.tsx","components/CreateCharacter/Skills.tsx","models/spells/SpellSchool.ts","models/spells/spells.ts","models/money.ts","components/CreateCharacter/Spells/SpellCard.tsx","components/CreateCharacter/Spells/SpellForm.tsx","components/CreateCharacter/Spells/Spells.tsx","components/CreateCharacter/Header.tsx","components/CreateCharacter/Race.tsx","components/CreateCharacter/Class.tsx","components/CreateCharacter/HitDice.tsx","components/misc/HeartContainer.tsx","components/CreateCharacter/Health.tsx","components/misc/SlidingIconButton.tsx","components/SaveUploadCharacter.tsx","components/CreateCharacter/CreateSidebar.tsx","components/CreateCharacter/index.ts","components/CreateCharacter/CreateCharacter.tsx","components/svg/DnDAndSVG.tsx","components/Home/index.ts","components/Home/Home.tsx","components/LoadCharacter/LoadCharacter.tsx","models/savingThrows.ts","models/proficiencies.ts","models/character.ts","models/classes.ts","models/stats.ts","models/items/items.ts","components/misc/Notification.tsx","Testing.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["ItemType","LinkedHeader","id","title","children","myRef","useRef","className","ref","style","display","userSelect","cursor","onClick","current","scrollIntoView","WikiReference","href","target","rel","Section","icon","header","wikiReference","useState","visible","setVisible","marginRight","v","Alignment","character","useEffect","document","querySelectorAll","forEach","el","textContent","toLowerCase","alignment","classList","add","remove","handleClick","event","content","currentTarget","setAlignment","oldContent","Background","type","placeholder","value","background","onChange","e","setBackground","Backstory","width","overflow","backstory","hideToolbar","preview","textareaProps","wrap","padding","setBackstory","paddingTop","Markdown","source","CharacterDescription","handleChange","name","setDescription","oldDesc","console","log","description","els","placeholderMap","age","weight","skin","height","eyes","hair","key","push","htmlFor","substr","toUpperCase","renderInputs","blankFeat","notes","rollableProps","Modal","active","setActive","stopPropagation","useModal","useCallback","a","Rarity","ItemTypes","CheckState","Rarities","mapRarity","rarity","diceRegex","parseExpression","diceExpr","report","expression","reports","parsedExpr","replaceAll","ex","rep","dice","match","diceReport","numOfDice","magnitude","rolls","filteredRolls","expr","split","length","high","shift","highestN","parseInt","expr2","size","diceArr","i","Math","floor","random","sortedCopy","sort","b","splice","min","reduce","computeDice","toString","stat","stats","modifier","parseStat","evaluate","error","alert","useDice","roll","diceString","DiceRoller","setDiceString","val","setVal","RollablePropertyModal","weaponProps","selectedProp","setSelectedProp","mapWeaponProps","map","wp","index","magnitudeType","defaultItem","cost","ARTIFACT","ItemCard","item","toggleOpen","modal","itemType","color","COMMON","WEAPON","textAlign","RollableEditRow","setItem","filter","rp","RollableEditForm","initialValues","rpVals","setRpVals","wps","RollablePropertyForm","props","rows","setRows","undefined","r","AddRPHeader","marginTop","toggleRpInfo","rpModal","position","top","mapItemTypes","SelectItemType","defaultValue","SelectRarity","blankItem","Items","resize","items","addItem","FeatCard","feat","featModal","Feats","setFeat","mapFeats","feats","f","handleSubmit","addFeat","Sidebar","CharacterInfo","classes","race","c","level","renderInfo","MiniStats","fontSize","marginBottom","proficiency","short_name","mod","bottom","left","SPELL_LEVEL","icons","TripleCheckBoxLegend","justifyContent","TripleCheckBox","setValue","off","checkState","setCheckState","cycleState","oldState","state","on","superOn","Proficiency","onDelete","proficiencies","otherProficiencies","proficiencyLevel","setProficiencyLevel","wordBreak","hyphens","OtherProficiencies","proficiencyText","setProficiencyText","setProficiencies","removeProficiency","oldProfs","oldName","addProficiency","onKeyDown","SavingThrows","renderStats","savingThrows","getProficiencyValue","preventDefault","querySelector","click","marginLeft","mapProficiencies","governingSkill","substring","Skills","SPELL_SCHOOL","mapSpellLevel","CANTRIP","FIRST","SECOND","THIRD","FOURTH","FIFTH","SIXTH","SEVENTH","EIGHTH","NINTH","mapSpellSchool","school","NONE","ABJURATION","CONJURATION","DIVINATION","ENCHANTMENT","EVOCATION","ILLUSION","NECROMANCY","Money","blankSpell","casting_time","range","component","duration","blankSpells","SpellCard","spell","toggleRPModal","SelectLevel","setSpell","levels","keys","Object","mapOptions","SelectSchool","l","SpellForm","Spells","spells","addSpell","cards","MapSpells","StatHeaders","onStatHeaderClick","rollStats","buildHeaders","Header","autoComplete","setName","Race","setRace","Class","includes","toggleClass","HitDice","paddingBottom","opacity","disabled","paddingRight","paddingLeft","setLevel","hitDice","setDice","HeartContainer","focus","focusInput","hp","abs","setHP","Health","SlidingIconButton","iconSide","SaveUploadCharacter","inputRef","files","file","read","FileReader","readAsBinaryString","onloadend","result","char","JSON","parse","deserialize","hidden","characterData","stringify","serialize","element","createElement","Blob","URL","createObjectURL","download","body","appendChild","handleSaveClick","CreateSidebar","links","setLinks","elements","setElements","getElementById","to","transform","maxHeight","CreateCharacter","input","setAttribute","onDrop","dataTransfer","onDragOver","DnDAndSVG","fill","stroke","strokeWidth","xmlns","viewBox","x","y","d","clipPath","Home","gridColumn","animationDuration","LoadCharacter","backgroundColor","ProficiencyLevels","blankProficiencies","Acrobatics","none","Arcana","Athletics","Deception","History","Insight","Intimidation","Investigation","Medicine","Nature","Perception","Performance","Persuasion","Religion","Stealth","Survival","useProficiencies","profs","_setProficiencies","prof","incomingProficiencies","exportedProficiencies","blankCharacter","money","useCharacter","_classes","_setClasses","some","oc","_setClassProperty","oldClasses","addClass","removeClass","cl","totalLevel","useClasses","statModels","_setStats","incomingStat","oldStats","s","find","startsWith","useStats","incomingFeats","setFeats","removeFeat","fs","useFeats","incoming","_setSavingThrows","oldSavingThrows","getProficiencyLevel","found","incomingSavingThrows","oldThrows","useSavingThrows","m","setMoney","addMoney","amount","oldMoney","removeMoney","useMoney","setItems","removeItem","findIndex","useItems","incomingSpells","setSpells","removeSpell","coords","useSpells","_proficiency","ceil","Notification","message","timeout","setCurrentTimeout","clearTimeout","Testing","_setVisible","currentTimeout","setTimeout","usePopup","App","path","exact","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","process","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"6KAAYA,E,+DCQCC,EAA4C,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,GAAIC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAC7DC,EAAQC,iBAA2B,MACzC,OACI,oBAAIJ,GAAIA,EAAIC,MAAOA,GAASD,EAAIK,UAAU,SAASC,IAAKH,EAAOI,MAAO,CAAEC,QAAS,eAAgBC,WAAY,OAAQC,OAAQ,WAAaC,QACtI,+BAAMR,QAAN,IAAMA,GAAN,UAAMA,EAAOS,eAAb,aAAM,EAAgBC,kBAD1B,SAGI,sBAAMR,UAAU,OAAhB,SACKH,GAAY,QCXhBY,EAA8C,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,KAAMd,EAAY,EAAZA,MAChE,OAAO,mBAAGc,KAAMA,EAAMC,OAAO,SAASC,IAAI,sBAAnC,SAAyD,mBAAGhB,MAAOA,GAAS,iBAAkBI,UAAU,6CCMtGa,EAAkC,SAAC,GAA0D,IAAxDhB,EAAuD,EAAvDA,SAAUF,EAA6C,EAA7CA,GAAIC,EAAyC,EAAzCA,MAAOkB,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,cACjF,EAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,OACI,0BAASnB,UAAS,+BAA0BL,GAA5C,UACI,mCACI,eAAC,EAAD,CAAcA,GAAIA,EAAIC,MAAOA,EAA7B,UACI,mBAAGI,UAAWc,EAAMZ,MAAO,CAAEkB,YAAa,SACzCL,KAEL,cAAC,EAAD,CAAeL,KAAMM,IACrB,mBAAGhB,UAAS,0EAAqEkB,EAAU,iBAAmB,UAAYZ,QAAS,kBAAMa,GAAW,SAACE,GAAD,OAAQA,WAE/JH,GAAW,qBAAKlB,UAAU,cAAf,SAA8BH,QCnBzCyB,EAAsC,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAClDC,qBAAU,WACNC,SAASC,iBAAiB,gCAAgCC,SAAQ,SAAAC,GAAO,IAAD,GAChE,UAAAA,EAAGC,mBAAH,eAAgBC,iBAAkBP,EAAUQ,UAAUD,cACtDF,EAAGI,UAAUC,IAAI,UACdL,EAAGI,UAAUE,OAAO,YAC5B,CAACX,EAAUQ,eAElB,IAAMI,EAAuD,SAACC,GAC1D,IACMC,EADSD,EAAME,cACET,YAClBQ,GACLd,EAAUgB,cAAa,SAACC,GAAD,OAAiBA,IAAeH,EAAW,GAAKA,MAG3E,OACI,cAAC,EAAD,CAAStB,OAAO,YAAYD,KAAK,iBAAiBnB,GAAG,WAAWC,MAAM,YAAYoB,cAAc,iDAAhG,SACI,sBAAKhB,UAAU,mBAAf,UACI,qBAAKA,UAAU,YAAYM,QAAS6B,EAApC,yBACA,qBAAKnC,UAAU,YAAYM,QAAS6B,EAApC,0BACA,qBAAKnC,UAAU,YAAYM,QAAS6B,EAApC,0BAEA,qBAAKnC,UAAU,YAAYM,QAAS6B,EAApC,4BACA,qBAAKnC,UAAU,YAAYM,QAAS6B,EAApC,0BACA,qBAAKnC,UAAU,YAAYM,QAAS6B,EAApC,6BAEA,qBAAKnC,UAAU,YAAYM,QAAS6B,EAApC,yBACA,qBAAKnC,UAAU,YAAYM,QAAS6B,EAApC,0BACA,qBAAKnC,UAAU,YAAYM,QAAS6B,EAApC,gCC7BHM,EAAuC,SAAC,GAAmB,IAAjBlB,EAAgB,EAAhBA,UACnD,OACI,cAAC,EAAD,CAAS5B,GAAG,aAAaC,MAAM,aAAamB,OAAO,aAAaD,KAAK,gBAAgBE,cAAc,kCAAnG,SACI,qBAAKhB,UAAU,oBAAf,SACI,uBAAO0C,KAAK,OAAO1C,UAAU,aAAa2C,YAAa,UAAWC,MAAOrB,EAAUsB,WAAYC,SAAU,SAACC,GAAD,OAAOxB,EAAUyB,cAAcD,EAAEpC,OAAOiC,e,SCHpJK,EAAsC,SAAC,GAAmB,IAAjB1B,EAAgB,EAAhBA,UAElD,OACI,cAAC,EAAD,CAASR,OAAO,YAAYnB,MAAM,YAAYD,GAAG,YAAYmB,KAAK,cAAcE,cAAc,sEAA9F,SACI,sBAAKhB,UAAU,+BAAf,UAEI,+GACA,4BACI,mBAAGU,KAAK,8CAA8CV,UAAU,gBAAhE,kCAKJ,sBAAKA,UAAU,eAAeE,MAAO,CAAEgD,MAAO,MAAOC,SAAU,UAA/D,UACI,cAAC,IAAD,CAAUP,MAAOrB,EAAU6B,UAAWC,aAAa,EAAMC,QAAS,OAE9DC,cACI,CACIZ,YAAa,wBACba,KAAM,OACNtD,MAAO,CAAEuD,QAAS,YAG1BX,SAAU,SAACF,GAAD,OAAWrB,EAAUmC,aAAad,GAAS,OAGzD,2BAAU5C,UAAU,yBAAyBE,MAAO,CAAEyD,WAAY,OAAlE,UACI,iCAAQ,6CACkB,KAAxBpC,EAAU6B,UAAoB,qBAAKpD,UAAU,4BAAf,SAA2C,uDAAqC,cAAC,IAAS4D,SAAV,CAAmBC,OAAQtC,EAAU6B,wB,cC7BhKU,EAAiD,SAAC,GAAmB,IAAjBvC,EAAgB,EAAhBA,UACvDwC,EAA2D,SAAChB,GAC9D,MAAwBA,EAAEpC,OAAlBqD,EAAR,EAAQA,KAAMpB,EAAd,EAAcA,MACdrB,EAAU0C,gBAAe,SAACC,GAAD,mBAAC,eAAkBA,GAAnB,kBAA6BF,EAAOpB,OAC7DuB,QAAQC,IAAI7C,EAAU8C,cA6B1B,OACI,cAAC,EAAD,CAASrD,cAAc,qDAAqDrB,GAAG,wBAAwBC,MAAM,cAAcmB,OAAO,cAAcD,KAAK,oBAArJ,SACI,qBAAKd,UAAU,4BAAf,SA5Ba,WACjB,IAAMsE,EAAqB,GACrBC,EAA4C,CAC9CC,IAAK,KACLC,OAAQ,SACRC,KAAM,OACNC,OAAO,QACPC,KAAM,QACNC,KAAM,SAEV,IAAK,IAAIC,KAAOvD,EAAU8C,YACtBC,EAAIS,KACA,sBAAK/E,UAAU,wBAAf,UACI,qBAAKA,UAAU,OAAf,SACI,wBAAOgF,QAASF,EAAhB,oBAAyBA,EAAIG,OAAO,EAAG,GAAGC,eAA1C,OAA0DJ,EAAIG,OAAO,GAAGnD,eAAxE,UAEJ,qBAAK9B,UAAU,QAAf,SACI,uBAAO0C,KAAK,OAAOsB,KAAMc,EAAKnF,GAAImF,EAAKnC,YAAa4B,EAAeO,GAAMlC,MAAOrB,EAAU8C,YAAYS,GAAMhC,SAAUiB,QALlFe,IAUpD,OAAOR,EAOEa,Q,OC9BJC,EAAwB,CACjCpB,KAAM,GACNqB,MAAO,GACPC,cAAe,ICPbC,EAA8B,SAAC,GAAqC,IAAnC1F,EAAkC,EAAlCA,SAAU2F,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UACrD,OAAOD,EACH,mCACI,qBACIxF,UAAU,QACVM,QAAS,SAACyC,GACN0C,GAAU,IAHlB,SAKI,sBACIzF,UAAU,gBACVM,QAAS,SAACyC,GAAD,OAAOA,EAAE2C,mBAFtB,UAGI,mBACIpF,QAAS,SAACyC,GACN0C,GAAU,IAEdzF,UAAU,iEACbH,SAKb,8BAIK8F,EAAW,SAAC9F,GACrB,MAA4BoB,oBAAS,GAArC,mBAAOuE,EAAP,KAAeC,EAAf,KAKA,MAAO,CAJcG,uBAAY,WAC7BH,GAAU,SAACI,GAAD,OAAQA,OACnB,CAACJ,IAIA,cAAC,EAAD,CAAOD,OAAQA,EAAQC,UAAWA,EAAlC,SACK5F,O,STvCDJ,O,mBAAAA,I,iBAAAA,I,2BAAAA,I,eAAAA,I,mBAAAA,I,mBAAAA,I,qCAAAA,I,uBAAAA,I,6BAAAA,I,+BAAAA,I,kCAAAA,I,kBAAAA,I,sBAAAA,I,qCAAAA,M,KAsBL,IUrBKqG,EVqBCC,EAA+B,CACpC,CACI/B,KAAK,SACLlD,KAAM,gBAEV,CACIkD,KAAM,QACNlD,KAAM,wBAEV,CACIkD,KAAM,aACNlD,KAAM,oBAEV,CACIkD,KAAM,OACNlD,KAAM,iBAEV,CACIkD,KAAM,SACNlD,KAAM,uBAEV,CACIkD,KAAM,SACNlD,KAAM,uBAEV,CACIkD,KAAM,mBACNlD,KAAM,cAGV,CACIkD,KAAM,WACNlD,KAAM,cAGV,CACIkD,KAAM,cACNlD,KAAM,gBAEV,CACIkD,KAAM,eACNlD,KAAM,6BAEV,CACIkD,KAAM,gBACNlD,KAAM,gBAEV,CACIkD,KAAM,QACNlD,KAAM,qBAGV,CACIkD,KAAM,UACNlD,KAAM,wBAGV,CACIkD,KAAM,iBACNlD,KAAM,iB,SUhFNgF,O,mBAAAA,I,uBAAAA,I,eAAAA,I,yBAAAA,I,yBAAAA,I,wBAAAA,M,KAQL,ICRKE,EDQCC,EAAW,CAAC,SAAU,WAAY,OAAQ,YAAa,YAAa,YACpEC,EAAY,SAACC,GAGlB,OAFJhC,QAAQC,IAAI,OAAO+B,EAAQF,EAASE,IACxBF,EAASE,I,SEaZC,EAAY,oBCdZC,EAAkB,SAACC,EAAkB/E,GAC9C,IACMgF,EAA+B,CACjCC,WAAYF,EACZ1D,MAAO,EACP6D,QAAS,IAEb,IACI,IAAMC,EAAaJ,EAASK,WAAWP,GAAW,SAACQ,GAC/C,IAAMC,EDkBS,SAACC,GAGxB,IAAMC,GAFND,EAAOA,EAAKhF,eAEOiF,MAAMX,GACnBY,EAAyB,CAC3BV,SAAUQ,EACVG,WAAY,EACZC,WAAY,EACZC,MAAO,GACPC,cAAe,GACfxE,OAAQ,GAEZ,IAAMmE,GAASA,EAAM,KAAOD,EAAO,OAAOE,EAG1C,IAAMK,EAAOP,EAAKQ,MAAM,KACxB,GAAID,EAAKE,OAAS,EAAG,CACjB,IAAMC,EAAOH,EAAKI,QACdD,IAAMR,EAAWU,SAAWC,SAASH,IAE7C,IAAMI,EAAQP,EAAK,GAAGC,MAAM,KAC5BN,EAAWC,UAAYU,SAASC,EAAM,IACtCZ,EAAWE,UAAYS,SAASC,EAAM,IAQtC,IAPA,IAAkBC,EAMZC,EAAoB,GACjBC,EAAI,EAAGA,EAAIf,EAAWC,UAAWc,IACtCD,EAAQ/C,MARM8C,EAQQb,EAAWE,UANjCW,EAAOG,KAAKC,MAAMJ,GACXG,KAAKC,MAAMD,KAAKE,UAAYL,EAFvB,EAEoC,GAFpC,KAahB,GAHAb,EAAWG,MAAQW,EACnBd,EAAWI,cAAgBJ,EAAWG,MAElCH,EAAWU,SAAU,CACrB,IAAMS,EAAa,YAAInB,EAAWG,OAAOiB,MAAK,SAACvC,EAAGwC,GAAJ,OAAUxC,EAAIwC,KAC5DrB,EAAWI,cAAgBe,EAAWG,OAAO,EAAGN,KAAKO,IAAIvB,EAAWU,SAAUS,EAAWZ,SAG7F,OADAP,EAAWpE,MAAQoE,EAAWI,cAAcoB,QAAO,SAAC3C,EAAGwC,GAAJ,OAAUxC,EAAIwC,KAC1DrB,EC5DayB,CAAY7B,GAExB,OADAL,EAAOE,QAAQ1B,KAAK8B,GACbA,EAAIjE,MAAM8F,cAClB/B,WAXW,0CAWW,SAACC,GAEtB,IAAM+B,ECvBO,SAACA,EAAcpH,GACpC,OAAOA,EAAUqH,MAAMC,SAASF,GDsBXG,CADblC,EAAKA,EAAG3B,OAAO,EAAG,GAAGnD,cACMP,GAE3B,OADA4C,QAAQC,IAAIwC,EAAI+B,GACTA,EAAO,MAElBpC,EAAO3D,MAAQmG,YAASrC,GAC1B,MAAO3D,GACLwD,EAAOyC,MAAQjG,EACfkG,MAAM,uBACN9E,QAAQC,IAAIrB,GAGhB,OAAOwD,GEzBE2C,EAAU,SAAC3H,GAEpB,IAAM4H,EAAOvD,uBACT,SAACwD,GAAD,OAAwB/C,EAAgB+C,EAAY7H,KACpD,CAACA,IAkBL,MALmB,CACf4H,OACAE,WAZyC,SAAC,GAAkB,EAAhB9H,UAAiB,IAC7D,EAAoCN,mBAAS,IAA7C,mBAAOmI,EAAP,KAAmBE,EAAnB,KACA,EAAsBrI,mBAAS,GAA/B,mBAAOsI,EAAP,KAAYC,EAAZ,KACA,OAAQ,gCACJ,uBAAO9G,KAAK,OAAOE,MAAOwG,EAAYtG,SAAU,SAAAC,GAAC,OAAIuG,EAAcvG,EAAEpC,OAAOiC,UAC5E,wBAAQtC,QAAS,SAAAyC,GAAC,OAAIyG,EAAOL,EAAKC,GAAYxG,QAA9C,kBACA,2CAAc2G,WCZbE,EAA+D,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,YAAanI,EAAgB,EAAhBA,UACxF,EAAwCN,oBAAU,GAAlD,mBAAO0I,EAAP,KAAqBC,EAArB,KACA,EAAoC3I,mBAAS,IAA7C,mBAAOmI,EAAP,KAAmBE,EAAnB,KACQH,EAASD,EAAQ3H,GAAjB4H,KACFU,EAAiBjE,uBAAY,WAC/B,OAAO8D,EAAYI,KAAI,SAACC,EAAIC,GACxB,IAAMhI,EAAYgI,IAAUL,EAAe,wCAA0C,qDAErF,OADAxF,QAAQC,IAAI,aAAcuF,GAEtB,qBAAI3J,UAAWgC,EAAuB1B,QAAS,kBAAMsJ,EAAgBI,IAArE,UACI,qBAAKhK,UAAU,UAAf,SAA0B+J,EAAG/F,OAC7B,qBAAKhE,UAAU,UAAf,SAA0B+J,EAAG7C,YAC7B,qBAAKlH,UAAU,UAAf,SAA0B+J,EAAGE,kBAHFD,QAOxC,CAACN,EAAaC,EAAcC,IAK/B,OACI,sBAAK5J,UAAU,qBAAf,UACI,oBAAIL,GAAG,UAAP,SAAkBkK,MAClB,qBAAKlK,GAAG,iBAAR,SACI,mBAAGK,UAAU,gDAAgDM,QARrD,YACM,IAAlBqJ,GACJL,EAAcH,EAAKO,EAAYC,GAAczC,WAAWtE,MAAQ,SAQ5D,qBAAK5C,UAAU,YAAf,SACI,6BAAKoJ,UClCfc,EAA0B,CAC5BlG,KAAM,gBACNmG,KAAM,MACN9F,YAAY,kqBAOZ8B,OAAQL,EAAOsE,SACf3F,OAAQ,QACRa,cAAe,IAEN+E,EAAmE,SAAC,GAAuC,IAAD,IAApCC,YAAoC,MAA7BJ,EAA6B,EAAhB3I,EAAgB,EAAhBA,UAC7FyC,EAA8EsG,EAA9EtG,KAAMK,EAAwEiG,EAAxEjG,YAAa8F,EAA2DG,EAA3DH,KAAMhE,EAAqDmE,EAArDnE,OAAQzD,EAA6C4H,EAA7C5H,KAAqBgH,EAAwBY,EAAvChF,cAA4Bb,EAAW6F,EAAX7F,OACzEN,QAAQC,IAAI,eAAgBkG,GAC5B,MAA4B3E,EAAS,cAAC,EAAD,CAAuB+D,YAAaY,EAAKhF,eAAiB,GAAI/D,UAAWA,KAA9G,mBAAOgJ,EAAP,KAAmBC,EAAnB,MACAd,EAAc,IACF3E,KAAK,CACbf,KAAM,SACNkD,UAAW,QAEf,IjBuDwBuD,EiBtDxB,OACI,qCACKD,EACD,qBAAKxK,UAAU,sBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,yBAAQA,UAAU,SAAlB,UACI,oBAAIA,UAAU,OAAd,SAAsBgE,IACtB,qBACIhE,UAAU,SACVE,MAAO,CACHwK,MAXb,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAW7BvE,GAAU,IAHhC,UAMI,6BAAKD,EAAUC,GAAUL,EAAO6E,UAChC,sBAAM3K,UAAU,SAAhB,SAA0ByE,OAE9B,mBAAGzE,UAAS,WjBsCRyK,EiBtCyB/H,GAAQjD,EAASmL,OjBuC3D7E,EAAU0E,IiBvCyD3J,KAA1C,cAEhB,qBAAKZ,MAAO,CAAE2K,UAAW,UAAzB,SAAsCV,IACtC,qBAAKnK,UAAU,cAAf,SAA8BqE,IAC9B,8BACI,mBACIrE,UAAS,mCAAqD,IAAvB0J,EAAYnC,QAAgB,sCACnEjH,QAASiK,EACTrK,MAAO,CACHwK,MAA8B,IAAvBhB,EAAYnC,OAAe,QAAU,wBC/CtEuD,EAA8C,SAAC,GAAuC,IAArCxF,EAAoC,EAApCA,cAAeyF,EAAqB,EAArBA,QAASf,EAAY,EAAZA,MACnEhG,EAAmCsB,EAAnCtB,KAAMkD,EAA6B5B,EAA7B4B,UAAW+C,EAAkB3E,EAAlB2E,cAYzB,OACI,sBAAKjK,UAAU,eAAf,UACI,qBAAKL,GAAG,UAAR,SAAmBqE,IACnB,qBAAKrE,GAAG,UAAR,SAAmBuH,IACnB,qBAAKvH,GAAG,UAAR,SAAmBsK,IACnB,qBAAKtK,GAAG,WAAR,SACI,mBAAGK,UAAU,qDAAqDM,QAjBxD,WAClByK,GAAQ,SAAChD,GACL,IAAMgC,EAAKhC,EAAEzC,eAAiB,GAE9B,OAAO,2BACAyC,GADP,IAEIzC,cAAeyE,EAAGiB,QAAO,SAACC,EAAIlD,GAAL,OAAWiC,IAAUjC,mBAqBxDmD,EAA4C,SAAC,GAAsB,EAApBZ,KAAqB,IAAfS,EAAc,EAAdA,QACjDI,EAAgB,CAClBnH,KAAM,GACNkD,UAAW,GACX+C,cAAe,IAEnB,EAA4BhJ,mBAASkK,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KAiBA,OACI,sBAAKrL,UAAU,UAAf,UACI,qBAAKA,UAAU,UAAf,SACI,uBAAO0C,KAAK,OAAOE,MAAOwI,EAAOpH,KAAMlB,SAAU,SAACC,GAAD,OAAOsI,GAAU,SAAChK,GAAD,mBAAC,eAAYA,GAAb,IAAgB2C,KAAMjB,EAAEpC,OAAOiC,YAAWD,YAAY,WAE5H,qBAAK3C,UAAU,UAAf,SACI,uBAAO0C,KAAK,OAAOE,MAAOwI,EAAOlE,UAAWpE,SAAU,SAACC,GAAD,OAAOsI,GAAU,SAAChK,GAAD,mBAAC,eAAYA,GAAb,IAAgB6F,UAAWnE,EAAEpC,OAAOiC,YAAWD,YAAY,WAEtI,qBAAK3C,UAAU,UAAf,SACI,uBAAO0C,KAAK,OAAOE,MAAOwI,EAAOnB,cAAenH,SAAU,SAACC,GAAD,OAAOsI,GAAU,SAAChK,GAAD,mBAAC,eAAYA,GAAb,IAAgB4I,cAAelH,EAAEpC,OAAOiC,YAAWD,YAAY,WAE9I,qBAAK3C,UAAU,SAAf,SACI,mBAAGA,UAAU,+BAA+BM,QApBrC,WACfyK,GAAQ,SAAChD,GACL,IAAMuD,EAA0BvD,EAAEzC,eAAiB,GACnD,OAAO,2BAAKyC,GAAZ,IAAezC,cAAc,GAAD,mBAAMgG,GAAN,CANzBF,SAHPC,EAAUF,YAgCLI,EAAgD,SAACC,GAC1D,IACQlG,EADSkG,EAATlB,KACAhF,cACR,EAAwBrE,mBAAwB,IAAhD,mBAAOwK,EAAP,KAAaC,EAAb,KAMA,OALAlK,qBAAU,WACN,GAAK8D,QAAmCqG,IAAlBrG,EAAtB,CACA,IAAMsG,EAAItG,EAAcwE,KAAI,SAACmB,EAAIjB,GAAL,OAAe,cAAC,EAAD,CAAiBe,QAASS,EAAMT,QAASzF,cAAe2F,EAAIjB,MAAOA,GAAYA,MAC1H0B,EAAQE,MACT,CAACtG,EAAekG,EAAMT,UAErB,sBAAK/K,UAAU,oBAAf,UACI,qBAAKA,UAAU,OAAf,SACI,cAAC,EAAD,eAAsBwL,MAE1B,qBAAKxL,UAAU,OAAf,SAAuByL,QCnFtBI,EAAc,WACvB,MAAgClG,EAC5B,mCACI,oBAAGzF,MAAO,CAAE4L,UAAW,OAAvB,uBACc,qDADd,uGAFR,mBAAOC,EAAP,KAAqBC,EAArB,KAUA,OACI,qCACKA,EACD,qBAAI9L,MAAO,CAAEwK,MAAO,UAAWvH,SAAU,WAAzC,kCAEI,mBAAGvD,MAAO,iBAAkBU,QARZ,WACxByL,KAOkE/L,UAAU,6CAA6CE,MAAO,CAAE+L,SAAU,WAAYC,IAAK,iBAU/JC,EAAe,WACjB,IAAM7H,EAAqB,GAQ3B,OAPAyB,EAAUpE,SAAQ,SAACmD,EAAKkF,GACpB1F,EAAIS,KACA,wBAAoBnC,MAAOoH,EAA3B,SACKlF,EAAId,MADIgG,OAKd1F,GAkBL8H,EAAwC,SAACZ,GAC3C,OACI,yBAAQ5I,MAAO4I,EAAMa,aAAcvJ,SAAU0I,EAAM1I,SAAUkB,KAAK,YAAYrE,GAAG,YAAYO,MAAO,CAAEgD,MAAO,OAAQyB,OAAQ,QAA7H,UACI,wBAAQzE,MAAO,CAAEwK,MAAO,YAAxB,6BACCyB,QAKPG,EAAsC,SAACd,GACzC,OACI,yBAAQ5I,MAAO4I,EAAMa,aAAcvJ,SAAU0I,EAAM1I,SAAUkB,KAAK,cAAcrE,GAAG,cAAcO,MAAO,CAAEgD,MAAO,OAAQyB,OAAQ,QAAjI,UACI,wBAAQzE,MAAO,CAAEwK,MAAO,YAAxB,+BA1BmBzE,EAAS6D,KAAI,SAAC3D,EAAQ6D,GAC7C,OACI,wBAAoBpH,MAAOoH,EAA3B,SACK7D,GADQ6D,UA8BnBuC,EAAwB,CAC1BvI,KAAM,GACNmG,KAAM,GACN9F,YAAa,GACbI,OAAQ,GACR0B,OAAQL,EAAO6E,OACfjI,KAAMjD,EAASmL,OACftF,cAAe,IAENkH,EAAkC,SAAC,GAAmB,IAAjBjL,EAAgB,EAAhBA,UAC9C,EAAwBN,mBAAqBsL,GAA7C,mBAAOjC,EAAP,KAAaS,EAAb,KAaA,OACI,cAAC,EAAD,CAAShK,OAAO,QAAQpB,GAAG,QAAQC,MAAM,QAAQoB,cAAc,sCAAsCF,KAAK,gBAA1G,SACI,sBAAKd,UAAU,mBAAf,UACI,sBAAKA,UAAU,YAAf,UACI,qBAAKL,GAAG,OAAR,SACI,6BACI,uBACI+C,KAAK,OACL/C,GAAG,YACHgD,YAAY,OACZG,SAAU,SAACC,GAAD,OACNgI,GAAQ,SAAChD,GAAD,mBAAC,eACFA,GADC,IAEJ/D,KAAMjB,EAAEpC,OAAOiC,YAGvBA,MAAO0H,EAAKtG,WAIxB,qBAAKrE,GAAG,SAAR,SACI,cAAC,EAAD,CACI0M,aAAY,UAAK/B,EAAKnE,QAAU,IAChCrD,SAAU,SAACC,GAAD,OACNgI,GAAQ,SAAChD,GAAD,mBAAC,eACFA,GADC,IAEJ5B,OAAQwB,SAAS5E,EAAEpC,OAAOiC,iBAK1C,qBAAKjD,GAAG,OAAR,SACI,cAAC,EAAD,CACI0M,aAAY,UAAK/B,EAAK5H,MAAQ,IAC9BI,SAAU,SAACC,GACPoB,QAAQC,IAAIrB,EAAEpC,OAAOiC,OACrBmI,GAAQ,SAAChD,GAAD,mBAAC,eACFA,GADC,IAEJrF,KAAMiF,SAAS5E,EAAEpC,OAAOiC,iBAKxC,qBAAKjD,GAAG,SAAR,SACI,uBACI+C,KAAK,OACLsB,KAAK,cACLrE,GAAG,cACHgD,YAAY,SACZG,SAAU,SAACC,GAAD,OACNgI,GAAQ,SAAChD,GAAD,mBAAC,eACFA,GADC,IAEJtD,OAAQ1B,EAAEpC,OAAOiC,YAGzBA,MAAO0H,EAAK7F,WAGpB,qBAAK9E,GAAG,OAAR,SACI,uBACI+C,KAAK,OACLsB,KAAK,YACLrE,GAAG,YACHmD,SAAU,SAACC,GAAD,OACNgI,GAAQ,SAAChD,GAAD,mBAAC,eACFA,GADC,IAEJoC,KAAMpH,EAAEpC,OAAOiC,YAGvBD,YAAY,OACZC,MAAO0H,EAAKH,SAGpB,qBAAKxK,GAAG,OAAR,SACI,0BACIgD,YAAY,cACZqB,KAAK,mBACLrE,GAAG,mBACHmD,SAAU,SAACC,GAAD,OACNgI,GAAQ,SAAChD,GAAD,mBAAC,eACFA,GADC,IAEJ1D,YAAatB,EAAEpC,OAAOiC,YAG9B1C,MAAO,CACHC,QAAS,QACT+C,MAAO,OACPyB,OAAQ,OACRlB,QAAS,MACTgJ,OAAQ,QAEZ7J,MAAO0H,EAAKjG,gBAGpB,sBAAK1E,GAAG,oBAAR,UACI,cAAC,EAAD,IACA,cAAC,EAAD,CAAsB2K,KAAMA,EAAMS,QAASA,OAE/C,qBAAKpL,GAAG,SAAR,SACI,wBACIK,UAAU,WACVE,MAAO,CACHC,QAAS,QACT+C,MAAO,OACPyB,OAAQ,QAEZrE,QAAS,SAACyC,GA/GzBuH,EAAKtG,OACVzC,EAAUmL,MAAMC,QAAQrC,GACxBS,EAAQwB,KAsGQ,2BAaR,qBAAKvM,UAAU,uBAAf,SACI,2BAAUA,UAAU,aAApB,UACI,2CA7HTuB,EAAUmL,MAAMA,MAAM5C,KAAI,SAACQ,EAAMN,GACpC,OAAO,cAAC,EAAD,CAAUzI,UAAWA,EAAW+I,KAAMA,GAAWN,iBCpFvD4C,EAAoC,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,KAAMtL,EAAgB,EAAhBA,UACtD,EAAgCoE,EAAS,cAAC,EAAD,CAAuBpE,UAAWA,EAAWmI,YAAamD,EAAKvH,iBAAxG,mBAAOiF,EAAP,KAAmBuC,EAAnB,KACQxH,EAAkBuH,EAAlBvH,cAER,OACI,qCACKwH,EACD,qBAAK9M,UAAU,YAAf,SACI,qBAAKA,UAAU,sBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,wBAAQA,UAAU,SAAlB,SACI,6BAAK6M,EAAK7I,SAGd,qBAAKhE,UAAU,cAAf,SAA8B6M,EAAKxH,QAEnC,qBAAKrF,UAAU,0BAAf,SACI,mBACIA,UAAS,mCAAuD,IAAzBsF,EAAciC,QAAgB,sCACrEjH,QAASiK,EACTrK,MAAO,CACHwK,MAAgC,IAAzBpF,EAAciC,OAAe,QAAU,0BCrBrEwF,EAAkC,SAAC,GAAmB,IAAjBxL,EAAgB,EAAhBA,UAC9C,EAAwBN,mBAASmE,GAAjC,mBAAOyH,EAAP,KAAaG,EAAb,KACMC,EAAWrH,uBAAY,WACzB,OAAOrE,EAAU2L,MAAMA,MAAMpD,KAAI,SAACqD,GAAD,OAAO,cAAC,EAAD,CAAU5L,UAAWA,EAAWsL,KAAMM,SAC/E,CAAC5L,EAAU2L,MAAMA,QACdE,EAAexH,uBAAY,WAC7BrE,EAAU2L,MAAMG,QAAQR,GACxBG,EAAQ5H,KACT,CAACyH,EAAMG,IACV,OACI,cAAC,EAAD,CAASrN,GAAG,WAAWoB,OAAO,sBAAsBnB,MAAM,sBAAsBkB,KAAK,mBAAmBE,cAAc,wCAAtH,SACI,sBAAKhB,UAAU,mBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,6BACI,uBAAO0C,KAAK,OAAOE,MAAOiK,EAAK7I,KAAMrE,GAAG,YAAYmD,SAAU,SAACC,GAAD,OAAOiK,GAAQ,SAACG,GAAD,mBAAC,eAAYA,GAAb,IAAgBnJ,KAAMjB,EAAEpC,OAAOiC,YAAWD,YAAY,WAEvI,0BAAUqB,KAAK,YAAYrE,GAAG,YAAYiD,MAAOiK,EAAKxH,MAAOvC,SAAU,SAACC,GAAD,OAAOiK,GAAQ,SAACG,GAAD,mBAAC,eAAYA,GAAb,IAAgB9H,MAAOtC,EAAEpC,OAAOiC,YAAWD,YAAY,gBAC7I,gCACI,cAAC,EAAD,IACA,cAAC,EAAD,CAAsB2H,KAAMuC,EAAM9B,QAASiC,OAE/C,qBAAKhN,UAAU,SAAf,SACI,wBAAQM,QAAS8M,EAAjB,2BAGR,qBAAKpN,UAAU,uBAAf,SACI,2BAAUA,UAAU,aAApB,UACI,2CACCiN,eCnCZK,EAAoB,SAAC9B,GAG9B,OACI,qBAAKxL,UAAU,yBAAf,SACI,uBAAOA,UAAU,eAAjB,SACKwL,EAAM3L,cCHV0N,EAA8C,SAAC,GAAqC,IAAnChM,EAAkC,EAAlCA,UAAWvB,EAAuB,EAAvBA,UAAWE,EAAY,EAAZA,MAsBhF,OArBmB,WACf,IAAQsN,EAAYjM,EAAUiM,QAAtBA,QACAC,EAASlM,EAATkM,KAaR,OACI,sBAAKzN,UAAWA,EAAWE,MAAOA,EAAlC,UAbkC,IAAnBsN,EAAQjG,QAAgC,IAAhBkG,EAAKlG,OAAgB,MAAQ,GAapE,IACY,+BAAOkG,IADnB,IAZqC,IAAnBD,EAAQjG,QAAgC,IAAhBkG,EAAKlG,OAAgB,IAAM,GAYrE,IAC2C,+BAVpCiG,EAAQ1D,KAAI,SAAC4D,EAAG1D,GACnB,OACI,iCACK0D,EAAE1J,KADP,IACc0J,EAAEC,MAAQ,qBAAK3N,UAAU,mBAAf,SAAmC0N,EAAEC,QAAe,GAAI3D,EAAQwD,EAAQjG,OAAS,EAAI,KAAO,KADpH,uBAA2ByC,YAYnC4D,ICtBCC,EAAsC,SAAC,GAAmB,IAAjBtM,EAAgB,EAAhBA,UAoBlD,OACI,cAAC,EAAD,UACI,sBAAKvB,UAAU,aAAaE,MAAO,CAAEyE,OAAQ,QAASsH,SAAU,YAAhE,UACI,6BAAK1K,EAAUyC,OACf,8BACI,cAAC,EAAD,CAAezC,UAAWA,EAAWrB,MAAO,CAAE4N,SAAU,OAAQC,aAAc,YAElF,sBAAK/N,UAAU,mBAAf,UAC+B,IAA1BuB,EAAUyM,YAAoB,kDAAqBzM,EAAUyM,eAAsB,GA1B9EzM,EAAUqH,MAApBA,MACKkB,KAAI,YAAkC,IAA/B9F,EAA8B,EAA9BA,KAAMpB,EAAwB,EAAxBA,MAAOqL,EAAiB,EAAjBA,WACvBC,EAAM3M,EAAUqH,MAAMC,SAAS7E,GAC/B6E,EAAWqF,GAAO,EAAP,WAAeA,GAAQA,EACxC,OACI,sBAAKlO,UAAU,wBAAmDE,MAAiB,IAAV0C,EAAc,GAAK,CAAEzC,QAAS,QAAvG,UACI,sBAAKH,UAAU,OAAOE,MAAO,CAAEkB,YAAa,QAA5C,UACK6M,EADL,IACkB,OAElB,sBAAKjO,UAAU,QAAf,UACK4C,EACD,oCAAOiG,EAAP,YANR,qBAA0D7E,UAyB1D,qBACI9D,MAAO,CACH+L,SAAU,WACVkC,OAAQ,MACRC,KAAM,gB,SbxClBpI,O,aAAAA,I,WAAAA,I,sBAAAA,M,KAkBZ,IcnBYqI,EdmBNC,EAAQ,CAAC,gBAAiB,oBAAqB,iBAMxCC,GAAiE,SAAC,GAAe,IAAbrO,EAAY,EAAZA,MAC7E,OAEI,sBAAKA,MAAK,2BAAOA,GAAP,IAAcC,QAAS,OAAQqO,eAAgB,eAAgBtL,MAAO,OAAQO,QAAS,YAAjG,UACI,gCAAK,mBAAGzD,UAAWsO,EAAM,KAAzB,IAAkC,qDAClC,gCAAK,mBAAGtO,UAAWsO,EAAM,KAAzB,IAAkC,yDAClC,gCAAK,mBAAGtO,UAAWsO,EAAM,KAAzB,IAAkC,6DAKjCG,GAAgD,SAAC,GAAqD,IAAnD9O,EAAkD,EAAlDA,GAAIK,EAA8C,EAA9CA,UAAWgE,EAAmC,EAAnCA,KAAM9D,EAA6B,EAA7BA,MAAO0C,EAAsB,EAAtBA,MAAO8L,EAAe,EAAfA,SAC/F,EAAoCzN,mBAAqB2B,GAASoD,EAAW2I,KAA7E,mBAAOC,EAAP,KAAmBC,EAAnB,KACArN,qBAAU,WACNqN,EAAcjM,KACf,CAACA,EAAOiM,IACX,IAAMC,EAAalJ,uBAAY,WAC3BiJ,GAAc,SAAAE,GAEV,IAAIC,EAAoBhJ,EAAW2I,IAEnC,OAAQI,GACJ,KAAK/I,EAAW2I,IACZK,EAAQhJ,EAAWiJ,GACnB,MACJ,KAAK,EACDD,EAAQhJ,EAAWkJ,QACnB,MACJ,KAAK,EACL,QACIF,EAAQhJ,EAAW2I,IAO3B,OAJID,GACAA,EAASM,GAGNA,OAEZ,CAACH,EAAeH,IAGnB,OAEI,sBAAK1O,UAAS,UAAKA,EAAL,aAA2BM,QAAS,SAACyC,GAC/CA,EAAE2C,kBACFoJ,KACD5O,MAAOA,EAHV,UAII,uBAAOwC,KAAK,WAAWsB,KAAMA,EAAM9D,MAAO,CAAEG,OAAQ,UAAWF,QAAS,QAAUR,GAAIA,IACtF,mBAAGK,UAAS,UAAKsO,EAAMM,GAAX,qBAA2C1O,MAAO,CAAEG,OAAQ,iBejE9E8O,GAA0C,SAAC,GAAmC,IAAD,EAAhCnL,EAAgC,EAAhCA,KAAMoL,EAA0B,EAA1BA,SAAU7N,EAAgB,EAAhBA,UAIvD8N,EAAkB9N,EAAU+N,mBAA5BD,cACFvK,EAAMd,EACZ,OACI,sBAAKhE,UAAU,yBAAf,UACI,qBAAKA,UAAU,OAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,qBAAKA,UAAU,OAAOE,MAAO,CAAEkB,YAAa,OAA5C,SAAqD,cAAC,GAAD,CAAgBzB,GAAE,aAAQqE,GAC3EpB,MAAK,UAAEyM,EAAcvK,UAAhB,aAAE,EAAoByK,iBAC3Bb,SAAU,SAAC9L,GACPrB,EAAU+N,mBAAmBE,oBAAoB1K,EAAKlC,QAG9D,qBAAK5C,UAAU,QAAf,SAAuB,uBAAOgF,QAAO,aAAQhB,GAAQ9D,MAAO,CAAEuP,UAAW,aAAcC,QAAS,QAAzE,SAAoF1L,WAInH,qBAAKhE,UAAU,QAAf,SACI,mBAAGA,UAAU,yDAAyDJ,MAAM,MAAMU,QAAS,WAAQ8O,EAASpL,YAM/G2L,GAA+C,SAAC,GAAmB,IAAjBpO,EAAgB,EAAhBA,UAC3D,EAA8CN,mBAAS,IAAvD,mBAAO2O,EAAP,KAAwBC,EAAxB,KACA,EAA0C5O,mBAAwB,IAAlE,mBAAOoO,EAAP,KAAsBS,EAAtB,KAEAtO,qBAAU,WACN,IAAQ6N,EAAkB9N,EAAU+N,mBAA5BD,cACFD,EAAW,SAACpL,GACdzC,EAAU+N,mBAAmBS,kBAAkB/L,GAC/C8L,GAAkB,SAAAE,GAAQ,OAAIA,EAAShF,QAAO,SAAAiF,GAAO,OAAIA,EAAQnL,MAAQd,SAGvEM,EAAqB,GAC3B,IAAK,IAAMQ,KAAOuK,EACd/K,EAAIS,KACA,cAAC,GAAD,CAAaxD,UAAWA,EAAWyC,KAAMc,EAAKsK,SAAUA,GAAetK,IAG/EgL,EAAiBxL,KAGlB,CAAC/C,EAAWA,EAAU+N,mBAAoB/N,EAAU+N,mBAAmBD,gBAM1E,IAAMtL,EAAe,SAACnB,GACJ,KAAVA,IACJrB,EAAU+N,mBAAmBY,eAAetN,GAG5CiN,EAAmB,MASvB,OACI,cAAC,EAAD,CAASlQ,GAAG,sBAAsBmB,KAAK,iBAAiBlB,MAAM,sBAAsBmB,OAAO,sBAAsBC,cAAc,0CAA/H,SACI,sBAAKd,MAAO,CAAEgD,MAAO,OAAQ6K,aAAc,OAA3C,UACI,cAAC,GAAD,IACA,sBAAK/N,UAAU,wBAAf,UAEI,uBAAO0C,KAAK,OAAOC,YAAY,SAASC,MAAOgN,EAAiB9M,SAAU,SAACC,GAAD,OAAO8M,EAAmB9M,EAAEpC,OAAOiC,QAAQuN,UAZjE,SAACpN,GACnD,UAAVA,EAAE+B,KACFf,EAAa6L,MAU4I,mBAAG5P,UAAU,wDAAwDM,QAAS,kBAAMyD,EAAa6L,SAEtP,qBAAK5P,UAAU,yBAAf,SACKqP,UC/ERe,GAAyC,SAAC,GAAmB,IAAjB7O,EAAgB,EAAhBA,UAC/C8O,EAAczK,uBAAY,SAACrE,GAC7B,IAAMkC,EAA+B,CAAErC,YAAa,QAC5CkP,EAAiB/O,EAAU+O,aAA3BA,aACFhM,EAAM,GAH2C,WAI5CN,GACP,IAAMuL,EAAmBe,EAAatM,GAChCkK,EAAM3M,EAAU+O,aAAaC,oBAAoBvM,EAAMzC,GACvDsH,EAAWqF,GAAO,EAAP,WAAeA,GAAQA,EACxC5J,EAAIS,KACA,sBACI/E,UAAU,8EAEVM,QAAS,SAACyC,GAAO,IAAD,EACZA,EAAE2C,kBACF3C,EAAEyN,iBACF,QAAC,EAAAzN,EAAET,cAAcmO,cAAc,oBAA/B,SAAgEC,SANxE,UASI,sBAAK1Q,UAAU,wBAAf,UACI,qBAAKA,UAAU,OAAf,SACI,cAAC,GAAD,CACIgE,KAAMA,EACNrE,GAAE,mBAAcqE,GAChB9D,MAAK,eAAOuD,GACZb,MAAO2M,EACPb,SAAU,SAAC9L,GACPrB,EAAU+O,aAAad,oBAAoBxL,EAAMpB,QAI7D,qBAAK5C,UAAU,QAAf,SACI,uBAAOgF,QAAO,mBAAchB,GAA5B,SAAqCA,SAG7C,qBAAKhE,UAAU,QAAQE,MAAO,CAAEyQ,WAAY,QAA5C,SACI,uBAAMzQ,MAAO,CAAE4N,SAAU,QAAzB,cAAqCjF,EAArC,WA1BR,uBAEyB7E,MAPjC,IAAK,IAAMA,KAAQsM,EAAe,EAAvBtM,GAqCX,OAAOM,IACR,IAEH,OACI,cAAC,EAAD,CAAS3E,GAAG,gBAAgBC,MAAM,gBAAgBmB,OAAO,gBAAgBD,KAAK,sBAAsBE,cAAc,8DAAlH,SACI,sBAAKd,MAAO,CAAEgD,MAAO,QAArB,UACI,cAAC,GAAD,CAAsBhD,MAAO,CAAE6N,aAAc,UAC7C,qBAAK/N,UAAU,2BAAf,SAA2CqQ,EAAY9O,WC9CjEqP,GAAmB,SAACrP,GACtB,IAAMkC,EAA+B,CAAErC,YAAa,QAC5CiO,EAAkB9N,EAAU8N,cAA5BA,cACF/K,EAAqB,GAHqB,WAIvCQ,GACL,MAA6CuK,EAAcvK,GAAnDyK,EAAR,EAAQA,iBAAkBsB,EAA1B,EAA0BA,eAEpB3C,GADK2C,EAAiBtP,EAAUqH,MAAMC,SAASgI,GAAkB,GACtDtB,EAAmBhO,EAAUyM,YACxCnF,EAAWqF,GAAO,EAAP,WAAeA,GAAQA,EACxC5J,EAAIS,KACA,sBACI/E,UAAU,sDAEVM,QAAS,SAACyC,GAAO,IAAD,EACZ,QAAC,EAAAA,EAAET,cAAcmO,cAAc,oBAA/B,SAAgEC,SAJxE,UAOI,qBAAK1Q,UAAU,OAAf,SACI,sBAAKA,UAAU,wBAAf,UACI,qBAAKA,UAAU,OAAf,SACI,cAAC,GAAD,CACIL,GAAE,aAAQmF,GACVd,KAAI,aAAQc,GACZ5E,MAAOuD,EACPb,MAAOyM,EAAcvK,GAAKyK,iBAC1Bb,SAAU,SAAC9L,GACPrB,EAAU8N,cAAcG,oBAAoB1K,EAAKlC,QAI7D,qBAAK5C,UAAU,QAAQE,MAAO,CAAEgD,MAAO,QAAvC,SACI,uBAAOhD,MAAO,CAAEC,QAAS,gBAAkB6E,QAAO,aAAQF,GAAOxE,QAAS,SAACyC,GAAD,OAAOA,EAAEyN,kBAAnF,SACK1L,WAKjB,qBAAK9E,UAAU,QAAf,SACI,sBAAKA,UAAU,wBAAf,UACI,qBAAKA,UAAU,OAAf,SACI,qBAAKA,UAAU,iCAAiCE,MAAO,CAAEkB,YAAa,QAAtE,gBACKyP,QADL,IACKA,OADL,EACKA,EAAgBC,UAAU,EAAG,OAGtC,qBAAK9Q,UAAU,QAAf,SACI,uBAAME,MAAO,CAAE4N,SAAU,OAAQ1N,WAAY,QAA7C,cAAyDyI,EAAzD,gBAnChB,cAEgB/D,MARxB,IAAK,IAAIA,KAAOuK,EAAgB,EAAvBvK,GAiDT,OAAOR,GAGEyM,GAAuC,SAAC,GAAmB,IAAjBxP,EAAgB,EAAhBA,UACnD,OACI,cAAC,EAAD,CAAS5B,GAAG,SAASC,MAAM,SAASmB,OAAO,SAASD,KAAK,cAAcE,cAAc,6DAArF,SACI,sBAAKd,MAAO,CAAEgD,MAAO,QAArB,UACI,cAAC,GAAD,CAAsBhD,MAAO,CAAE6N,aAAc,UAC7C,qBAAK/N,UAAU,iBAAf,SACI,qBAAKA,UAAU,2BAAf,SAA2C4Q,GAAiBrP,c,SHvEpE8M,O,qBAAAA,I,iBAAAA,I,mBAAAA,I,iBAAAA,I,mBAAAA,I,iBAAAA,I,iBAAAA,I,qBAAAA,I,mBAAAA,I,kBAAAA,M,KAaL,IIbK2C,GJaCC,GAAgB,SAACtD,GAAgC,IAAD,EAczD,OAboC,mBAC/BU,EAAY6C,QAAU,WADS,cAE/B7C,EAAY8C,MAAQ,OAFW,cAG/B9C,EAAY+C,OAAS,OAHU,cAI/B/C,EAAYgD,MAAQ,OAJW,cAK/BhD,EAAYiD,OAAS,OALU,cAM/BjD,EAAYkD,MAAQ,OANW,cAO/BlD,EAAYmD,MAAQ,OAPW,cAQ/BnD,EAAYoD,QAAU,OARS,cAS/BpD,EAAYqD,OAAS,OATU,cAU/BrD,EAAYsD,MAAQ,OAVW,GAazBhE,K,SI3BHqD,K,QAAAA,E,wBAAAA,E,0BAAAA,E,wBAAAA,E,0BAAAA,E,sBAAAA,E,oBAAAA,E,yBAAAA,Q,KAWL,IAAMY,GAAiB,SAACC,GAA0B,IAAD,EAYpD,OAXsC,mBACjCb,GAAac,KAAO,IADa,cAEjCd,GAAae,WAAa,uBAFO,cAGjCf,GAAagB,YAAc,uBAHM,cAIjChB,GAAaiB,WAAa,qBAJO,cAKjCjB,GAAakB,YAAc,wBALM,cAMjClB,GAAamB,UAAY,eANQ,cAOjCnB,GAAaoB,SAAW,gBAPS,cAQjCpB,GAAaqB,WAAa,gBARO,GAWzBR,ICCjB1N,QAAQC,IAAIiK,GACL,ICxBKiE,GDwBCC,GAA0B,CACnCvO,KAAM,GACN2J,MAAOU,EAAY6C,QACnBW,OAAQb,GAAac,KACrBU,aAAc,GACdC,MAAO,GACPC,UAAW,GACXC,SAAU,GACVtO,YAAa,GACbiB,cAAe,IAWNsN,GAA+B,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IElCpEC,GAAsC,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,MAAOvR,EAAgB,EAAhBA,UACjDyC,EAA8F8O,EAA9F9O,KAAM2J,EAAwFmF,EAAxFnF,MAAO8E,EAAiFK,EAAjFL,MAAOD,EAA0EM,EAA1EN,aAAcE,EAA4DI,EAA5DJ,UAAWrO,EAAiDyO,EAAjDzO,YAAasO,EAAoCG,EAApCH,SAAUd,EAA0BiB,EAA1BjB,OAAQvM,EAAkBwN,EAAlBxN,cACpF,EAAiCK,EAC7B,mCACI,cAAC,EAAD,CAAuB+D,YAAaoJ,EAAMxN,cAAe/D,UAAWA,OAF5E,mBAAOwR,EAAP,KAAsB/G,EAAtB,KAMA,OACI,qCACKA,EACD,qBAAKhM,UAAU,uBAAf,SACI,sBAAKA,UAAU,qBAAf,UACI,sBAAKA,UAAU,oBAAf,UACI,qBAAKL,GAAG,UAAR,SACI,6BAAKqE,MAET,qBAAKrE,GAAG,WAAR,SAAoBsR,GAActD,KAClC,sBAAKhO,GAAG,YAAR,UACI,mBAAGK,UAAW4R,GAAeC,KAC7B,+BAAOA,OAEX,qBAAKlS,GAAG,WAAR,SAAoB8S,IACpB,qBAAK9S,GAAG,UAAR,SAAmB6S,IACnB,qBAAK7S,GAAG,SAAR,SAAkBgT,IAClB,qBAAKhT,GAAG,gBAAR,SAAyB+S,OAE7B,qBAAK1S,UAAU,yBAAf,SACI,qBAAKA,UAAU,cAAf,SAA8BqE,MAElC,qBAAKrE,UAAU,sBAAf,SACI,qBAAKA,UAAU,WAAf,SACI,mBACIA,UAAS,mCAAuD,IAAzBsF,EAAciC,QAAgB,sCACrEjH,QAASyS,EACT7S,MAAO,CACHwK,MAAgC,IAAzBpF,EAAciC,OAAe,QAAU,0BCzC5EyL,GAA4D,SAAC,GAAyB,IAAvBpQ,EAAsB,EAAtBA,MAAOqQ,EAAe,EAAfA,SAgBxE,OACI,yBAAQjP,KAAK,cAAcrE,GAAG,WAAW0M,aAAczJ,EAAOE,SAAU,SAACC,GAAD,OAAOkQ,GAAS,SAAAH,GAAK,kCAAUA,GAAV,IAAiBnF,MAAOhG,SAAS5E,EAAEpC,OAAOiC,aAAvI,UACI,wBAAQA,MAAM,GAAd,8BAjBW,WACf,IAAMsQ,EAAmB,GACnBC,EAAOC,OAAOD,KAAK9E,GAGzB,IAAK,IAAMV,KAFXwF,EAAK7K,OAAO,EAAG6K,EAAK5L,OAAS,GAC7BpD,QAAQC,IAAI+O,GACQA,EAChBD,EAAOnO,KAAKkM,GAActJ,SAASgG,KAGvC,OAAOuF,EAAOpJ,KAAI,SAAC6D,EAAO3D,GACtB,OACI,wBAAQpH,MAAOoH,EAAf,SAAmD2D,GAAT3D,MAO7CqJ,OAIPC,GAA6D,SAAC,GAAyB,IAAvB1Q,EAAsB,EAAtBA,MAAOqQ,EAAe,EAAfA,SAYzE,OACI,yBAAQjP,KAAK,eAAerE,GAAG,YAAY0M,aAAczJ,EAAOE,SAAU,SAACC,GAAD,OAAOkQ,GAAS,SAAAH,GAAK,kCAAUA,GAAV,IAAiBjB,OAAQ9O,EAAEpC,OAAOiC,YAAjI,UACI,wBAAQA,MAAM,GAAd,+BAbW,WACf,IAAMsQ,EAAmBE,OAAOD,KAAKnC,IAGrC,OAFAkC,EAAOzL,QAEAyL,EAAOpJ,KAAI,SAAC6D,EAAO3D,GACtB,IAAMuJ,EAAI5F,EAAMmD,UAAU,EAAG,GAAG5L,cAAgByI,EAAMmD,UAAU,GAAGhP,cACnE,OACI,wBAAQc,MAAO+K,EAAf,SAAoC4F,GAATvJ,MAO9BqJ,OAOAG,GAA+D,SAAC,GAAyB,IAAvBV,EAAsB,EAAtBA,MAAOG,EAAe,EAAfA,SAElF,OACI,sBAAKjT,UAAU,aAAf,UACI,oBAAIL,GAAG,UAAP,SAAiB,uBAAO+C,KAAK,OAAOC,YAAY,OAAOC,MAAOkQ,EAAM9O,KAAMlB,SAAU,SAACC,GAAD,OAAOkQ,GAAS,SAAAH,GAAK,kCAAUA,GAAV,IAAiB9O,KAAMjB,EAAEpC,OAAOiC,gBACzI,cAAC,GAAD,CAAaqQ,SAAUA,EAAUrQ,MAAOkQ,EAAMnF,MAAQ,KAF1D,IAEiE,cAAC,GAAD,CAAc/K,MAAOkQ,EAAMjB,OAAQoB,SAAUA,IAC1G,uBAAOvQ,KAAK,OAAO/C,GAAG,kBAAkBgD,YAAY,eAAeC,MAAOkQ,EAAMN,aAAc1P,SAAU,SAACC,GAAD,OAAOkQ,GAAS,SAAAH,GAAK,kCAAUA,GAAV,IAAiBN,aAAczP,EAAEpC,OAAOiC,cACrK,uBAAOF,KAAK,OAAO/C,GAAG,WAAWgD,YAAY,QAAQC,MAAOkQ,EAAML,MAAO3P,SAAU,SAACC,GAAD,OAAOkQ,GAAS,SAAAH,GAAK,kCAAUA,GAAV,IAAiBL,MAAO1P,EAAEpC,OAAOiC,cACzI,uBAAOF,KAAK,OAAO/C,GAAG,eAAegD,YAAY,YAAYC,MAAOkQ,EAAMJ,UAAW5P,SAAU,SAACC,GAAD,OAAOkQ,GAAS,SAAAH,GAAK,kCAAUA,GAAV,IAAiBJ,UAAW3P,EAAEpC,OAAOiC,cACzJ,uBAAOF,KAAK,OAAO/C,GAAG,cAAcgD,YAAY,WAAWC,MAAOkQ,EAAMH,SAAU7P,SAAU,SAACC,GAAD,OAAOkQ,GAAS,SAAAH,GAAK,kCAAUA,GAAV,IAAiBH,SAAU5P,EAAEpC,OAAOiC,cACrJ,0BAAUoB,KAAK,iBAAiBrE,GAAG,iBAAiBiD,MAAOkQ,EAAMzO,YAAa1B,YAAY,cAAcG,SAAU,SAACC,GAAD,OAAOkQ,GAAS,SAAAH,GAAK,kCAAUA,GAAV,IAAiBzO,YAAatB,EAAEpC,OAAOiC,YAAW1C,MAAO,CAAEuD,QAAS,aClD1MgQ,GAAmC,SAAC,GAAmB,IAAjBlS,EAAgB,EAAhBA,UAC/C,EAA0BN,mBAAsBsR,IAAhD,mBAAOO,EAAP,KAAcG,EAAd,KACM7F,EAAexH,uBAAY,WACxBkN,EAAM9O,OACXzC,EAAUmS,OAAOC,SAASb,GAC1BG,EAASV,OACV,CAACO,EAAOG,IAYX,OACI,cAAC,EAAD,CAASlS,OAAO,SAASD,KAAK,eAAenB,GAAG,SAASC,MAAM,SAASoB,cAAc,kCAAtF,SACI,sBAAKhB,UAAU,oBAAf,UACI,cAAC,GAAD,CAAW8S,MAAOA,EAAOG,SAAUA,IACnC,sBAAK/S,MAAO,CAAEyD,WAAY,QAA1B,UACI,cAAC,EAAD,IACA,cAAC,EAAD,CAAsB2G,KAAMwI,EAAO/H,QAASkI,OAEhD,qBAAKjT,UAAU,SAAf,SACI,wBAAQM,QAAS8M,EAAjB,yBAEJ,qBAAKpN,UAAU,uBAAf,SACI,2BAAUA,UAAU,aAApB,UACI,4CAvBF,WACd,IAAM4T,EAAuB,GAM7B,OALArS,EAAUmS,OAAOA,OAAO/R,SAAQ,SAACgM,GAC7BA,EAAMhM,SAAQ,SAACmR,GACXc,EAAM7O,KAAK,cAAC,GAAD,CAAW+N,MAAOA,EAAOvR,UAAWA,WAGhDqS,EAiBUC,cCpCnBC,GAAwC,SAAC,GAAmB,IAAjBvS,EAAgB,EAAhBA,UACvCuF,EAAOoC,EAAQ3H,GAEfwS,EAAoB,SAACpL,GACvBpH,EAAUqH,MAAM8F,SAAhB,2BAA8B/F,GAA9B,IAAoC/F,MAAOkE,EAAKqC,KAAK,SAASvG,UAoClE,OACI,sBAAK5C,UAAU,eAAf,UACI,mBAAGA,UAAU,wBAAwBE,MAAO,CAAE+L,SAAU,WAAYC,IAAK,SAAWtM,MAAM,iBAAiBU,QAAS,kBApC1G,SAACiB,GACGA,EAAUqH,MAApBA,MACFjH,SAAQ,SAACgH,GACXpH,EAAUqH,MAAM8F,SAAhB,2BAA8B/F,GAA9B,IAAoC/F,MAAOkE,EAAKqC,KAAK,SAASvG,YAiC4DoR,CAAUzS,MA9BvH,SAACA,GAElB,OADkBA,EAAUqH,MAApBA,MACKkB,KAAI,SAACnB,GACd,IAAQ/F,EAA4B+F,EAA5B/F,MAAOoB,EAAqB2E,EAArB3E,KAAMiK,EAAetF,EAAfsF,WACfpF,EAAWtH,EAAUqH,MAAMC,SAAS7E,GAC1C,OACI,sBAAKhE,UAAU,sBAAf,UACI,sBAAKA,UAAU,cAAcJ,MAAO+I,EAAK3E,KAAM1D,QAAS,kBAAMyT,EAAkBpL,IAAhF,UACI,qBAAK3I,UAAU,YAAf,SAA4BiO,GAAcjK,IAC1C,sBAAKhE,UAAU,aAAf,UACK4C,EACD,sBAAK1C,MAAO,CAAEwK,MAAO,QAArB,cAAiC7B,GAAY,EAAZ,WAAoBA,GAAaA,EAAlE,aAGR,uBACInG,KAAK,SAELxC,MAAO,CAAEgD,MAAO,OAChBN,MAAOA,EACPE,SAAU,SAACC,GACPxB,EAAUqH,MAAM8F,SAAhB,2BAA8B/F,GAA9B,IAAoC/F,MAAO+E,SAAS5E,EAAEpC,OAAOiC,QAAU,OAJtEoB,KAVb,iBAAoDA,OAyBvDiQ,CAAa1S,OAKb2S,GAAmC,SAAC,GAAmB,IAAjB3S,EAAgB,EAAhBA,UAC/C,OACI,0BAASvB,UAAU,gBAAnB,UACI,qBAAKA,UAAU,OAAf,SACI,oBAAIL,GAAG,iBAAiBC,MAAM,OAA9B,SACI,uBACI8C,KAAK,OACLyR,aAAa,MACbnU,UAAU,mBACV2C,YAAY,OACZqB,KAAK,iBACLrE,GAAG,iBACHiD,MAAOrB,EAAUyC,KACjBlB,SAAU,SAACC,GAAD,OAAOxB,EAAU6S,QAAQrR,EAAEpC,OAAOiC,cAIxD,qBAAK5C,UAAU,UAAf,SAA0B,cAAC,EAAD,CAAeuB,UAAWA,MACpD,cAAC,GAAD,CAAaA,UAAWA,QCnEvB8S,GAA2C,SAAC,GAAmB,IAAjB9S,EAAgB,EAAhBA,UACvD,OACI,cAAC,EAAD,CAAS5B,GAAG,OAAOC,MAAM,OAAOmB,OAAO,OAAOD,KAAK,eAAeE,cAAc,gCAAhF,SACI,qBAAKhB,UAAU,cAAf,SACI,uBAAO0C,KAAK,OAAO1C,UAAU,aAAa2C,YAAa,QAASC,MAAOrB,EAAUkM,KAAM3K,SAAU,SAACC,GAAD,OAAOxB,EAAU+S,QAAQvR,EAAEpC,OAAOiC,eCHtI2R,GAA6C,SAAC,GAAmB,IAAjBhT,EAAgB,EAAhBA,UAKnDiM,EAAU,CACZ,YAAa,YAAa,OAC1B,eAAgB,SAAU,QAAS,UACnC,OAAQ,UAAW,SAAU,QAC7B,WAAY,UAAW,UAc3B,OACI,cAAC,EAAD,CAAS7N,GAAG,QAAQC,MAAM,QAAQmB,OAAO,QAAQD,KAAK,eAAeE,cAAc,kCAAnF,SACI,qBAAKhB,UAAU,eAAf,SAXGwN,EAAQ1D,KAAI,SAAC4D,GAChB,OACI,qBAAwB1N,UAAW,UAAYuB,EAAUiM,QAAQgH,SAAS9G,GAAK,WAAa,IAAKpN,QAAS,kBAAMiB,EAAUiM,QAAQiH,YAAY/G,IAA9I,SACI,6BAAKA,KADT,gBAAmBA,YCnBtBgH,GAAoC,SAAC,GAAmB,IAAjBnT,EAAgB,EAAhBA,UAgDhD,OACI,cAAC,EAAD,CAAS5B,GAAG,OAAOC,MAAM,WAAWmB,OAAO,WAAWD,KAAK,iBAAiBE,cAAc,mDAA1F,SACI,qBAAKd,MAAO,CAAE4N,SAAU,QAAS6G,cAAe,OAAhD,SAC2C,IAArCpT,EAAUiM,QAAQA,QAAQjG,OAtBhC,sBAAKvH,UAAU,wBAAqDE,MAAO,CAAEwK,MAAO,OAAQkK,QAAS,OAAShV,MAAM,wBAApH,UACI,qBAAKI,UAAU,OAAf,SACI,uBAAOgF,QAAO,wBAAd,yBAGJ,sBAAKhF,UAAU,QAAf,UACI,uBAAO6U,UAAQ,EAACnS,KAAK,SAAS/C,GAAE,kBAAqBK,UAAU,iBAAiBE,MAAO,CAAE2K,UAAW,QAASiK,aAAc,SAAWnS,YAAY,KAAK4F,IAAI,IACvJ3F,MAAO,IAFf,IAKY,uBAAOiS,UAAQ,EAACnS,KAAK,SAAS1C,UAAU,iBAC5CE,MAAO,CAAE2K,UAAW,OAAQkK,YAAa,SACzCpS,YAAY,KAAK4F,IAAI,IACrB3F,MAAO,UAbnB,wBA1BgBrB,EAAUiM,QAAtBA,QACO1D,KAAI,SAAA4D,GACf,OACI,sBAAK1N,UAAU,wBAAf,UACI,qBAAKA,UAAU,OAAf,SACI,wBAAOgF,QAAO,mBAAc0I,EAAE1J,MAA9B,UAAuC0J,EAAE1J,KAAzC,UAGJ,sBAAKhE,UAAU,QAAf,UACI,uBAAO0C,KAAK,SAAS/C,GAAE,kBAAa+N,EAAE1J,MAAQhE,UAAU,iBAAiBE,MAAO,CAAE2K,UAAW,QAASiK,aAAc,SAAWnS,YAAY,KAAK4F,IAAI,IAChJ3F,MAAO8K,EAAEC,MACT7K,SAAU,SAACC,GAAD,OAAOxB,EAAUiM,QAAQwH,SAAStH,EAAE1J,KAAM2D,SAAS5E,EAAEpC,OAAOiC,WAH9E,IAKQ,uBAAOF,KAAK,SAAS1C,UAAU,iBAC/BE,MAAO,CAAE2K,UAAW,OAAQkK,YAAa,SACzCpS,YAAY,KAAK4F,IAAI,IACrB3F,MAAO8K,EAAEuH,SAAW,GACpBnS,SAAU,SAACC,GAAD,OAAOxB,EAAUiM,QAAQ0H,QAAQxH,EAAE1J,KAAM2D,SAAS5E,EAAEpC,OAAOiC,gBAdjF,uBAA4D8K,EAAE1J,eCFjEmR,GAAgD,SAAC,GAAyB,IAAvB5T,EAAsB,EAAtBA,UAAWsG,EAAW,EAAXA,KAIjE5H,EAAMF,iBAAyB,MAIrC,OACI,qBAAKC,UAAU,qBAAqBE,MAAO,CAAE4N,SAAUjG,GAAQ,OAASvH,QAAS,SAACyC,GAAD,OAJlE,WAAO,IAAD,EACrB,UAAA9C,EAAIM,eAAJ,SAAa6U,QAG2EC,IAAxF,SACI,sBAAKrV,UAAU,iDAAf,UACI,qBAAKA,UAAU,QAAf,SACI,wCAEJ,gCAEI,qBAAKA,UAAU,QAAf,SACI,mBAAGA,UAAU,mBAEjB,qBAAKA,UAAU,QAAf,SACI,uBAAO0C,KAAK,SAASzC,IAAKA,EAAK0C,YAAY,IAAI4F,IAAI,IAAI3F,MAAOrB,EAAU+T,IAAM,GAAItV,UAAU,WAAW8C,SAAU,SAACC,GAAD,OAnBjHH,EAmBmIoF,KAAKuN,IAAI5N,SAAS5E,EAAEpC,OAAOiC,aAlB9KrB,EAAUiU,MAAM5S,GADD,IAACA,gBCLX6S,GAAmC,SAAC,GAAmB,IAAjBlU,EAAgB,EAAhBA,UAC/C,OACI,cAAC,EAAD,CAAS5B,GAAG,SAASC,MAAM,SAASmB,OAAO,SAASD,KAAK,eAAeE,cAAc,qDAAtF,SACI,cAAC,GAAD,CAAgBO,UAAWA,EAAWsG,KAAK,WCH1C6N,GAAsD,SAAC,GAA6D,IAA3D5U,EAA0D,EAA1DA,KAAM6U,EAAoD,EAApDA,SAAU9V,EAA0C,EAA1CA,SAAUG,EAAgC,EAAhCA,UAAWM,EAAqB,EAArBA,QAASV,EAAY,EAAZA,MAEhH,OADK+V,IAAUA,EAAW,QAEtB,qBAAK3V,UAAS,8BAAyBA,GAAaJ,MAAOA,EAAOU,QAASA,EAA3E,SACkB,SAAbqV,EACG,qCACI,mBAAG3V,UAAS,uBAAkBc,KAC9B,qBAAKd,UAAS,yCAAoC2V,GAAlD,SAA+D9V,OAGnE,qCACI,qBAAKG,UAAS,yCAAoC2V,GAAlD,SAA+D9V,IAC/D,mBAAGG,UAAS,uBAAkBc,WCTrC8U,GAA0D,SAAC,GAAmB,IAAjBrU,EAAgB,EAAhBA,UA2BhEsU,EAAW9V,iBAAyB,MAO1C,OACI,sBAAKC,UAAU,SAAf,UACI,uBAAO0C,KAAK,OAAOzC,IAAK4V,EAAU/S,SAzB0B,SAACV,GACjE,GAAKA,EAAMzB,OAAOmV,MAAlB,CACA,IAAMC,EAAO3T,EAAMzB,OAAOmV,MAAM,GAChC,GAAKC,EAAL,CACA,IAAMC,EAAO,IAAIC,WAEjBD,EAAKE,mBAAmBH,GAExBC,EAAKG,UAAY,WACb,GAA2B,kBAAhBH,EAAKI,OAAqB,CACjC,IAAMC,EAAOC,KAAKC,MAAMP,EAAKI,QAC7B7U,EAAUiV,YAAYH,QAcmCI,QAAM,IACnE,cAAC,GAAD,CAAmB3V,KAAK,cAAcd,UAAU,4DAA4DM,QAAS,kBApCrG,WACpB,IAAMoW,EAAgBJ,KAAKK,UAAUpV,EAAUqV,aACzCC,EAAUpV,SAASqV,cAAc,KACjCf,EAAO,IAAIgB,KAAK,CAACL,GAAgB,CAAEhU,KAAM,qBAC/CmU,EAAQnW,KAAOsW,IAAIC,gBAAgBlB,GACnCc,EAAQK,SAAR,oBAAgC3V,EAAUyC,KAA1C,SACAvC,SAAS0V,KAAKC,YAAYP,GAC1BA,EAAQnG,QA6BuH2G,IAAmBzX,MAAM,iBAApJ,kBAGA,cAAC,GAAD,CAAmBkB,KAAK,qBAAqBd,UAAU,4DAA4DM,QAAS,WAX5HuV,EAAStV,SACTsV,EAAStV,QAAQmQ,SAU+H9Q,MAAM,iBAAtJ,sBCxCC0X,GAA0C,SAAC,GAAmB,IAAjB/V,EAAgB,EAAhBA,UACtD,EAA0BN,qBAA1B,mBAAOsW,EAAP,KAAcC,EAAd,KACA,EAAgCvW,qBAAhC,mBAAOwW,EAAP,KAAiBC,EAAjB,KAuBA,OAtBAlW,qBAAU,WACNkW,EAAYjW,SAASC,iBAAiB,+BACvC,IACHF,qBAAU,WACN,GAAKiW,EAAL,CACA,IAAMlE,EAAwB,GAC9BkE,EAAS9V,SAAQ,gBAAGhC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OAAmB2T,EAAExO,KAAK,CAACpF,EAAIC,OAEhD4X,EACIjE,EAAEzJ,KAAI,YAAkB,IAAD,mBAAfnK,EAAe,KAAXC,EAAW,KAKnB,OACI,sBAAMU,QALsD,SAAC8B,GAC7D,IAAMR,EAAKH,SAASkW,eAAehY,GACjC,OAAFiC,QAAE,IAAFA,KAAIpB,kBAGJ,SACI,qBAAKR,UAAU,sBAAf,SAAsCJ,KAD1C,gBAA0CD,WAMvD,CAAC8X,IAEA,eAAC,EAAD,WACI,cAAC,IAAD,CAAMG,GAAG,IAAI5X,UAAU,eAAvB,SACI,qBACIA,UAAU,WACVE,MAAO,CACHuD,QAAS,MACTP,MAAO,QACP+I,SAAU,WACVmC,KAAM,MACNyJ,UAAW,oBAPnB,SAUI,cAAC,GAAD,CAAmB/W,KAAK,2BAA2BlB,MAAM,OAAOI,UAAU,4DAA1E,sBAKR,cAAC,GAAD,CAAqBuB,UAAWA,IAChC,qBAAKvB,UAAU,eAAeE,MAAO,CAAE4X,UAAW,QAAlD,SACKP,QCrCFQ,GCA0C,SAAC,GAAmB,IAAjBxW,EAAgB,EAAhBA,UAOxDC,qBAAU,WACNC,SAASC,iBAAiB,SAASC,SAAQ,SAACqW,GACxCA,EAAMC,aAAa,eAAgB,QACnCD,EAAMC,aAAa,WAAY,aAEpC,IAyBH,OACI,qCACI,cAAC,GAAD,CAAe1W,UAAWA,IAC1B,sBAAMvB,UAAU,YAAYkY,OA3BoB,SAAC9V,GACrDA,EAAMsD,kBACNtD,EAAMoO,iBACN,IACI,IAAMuF,EAAO3T,EAAM+V,aAAarC,MAAM,GAChCE,EAAO,IAAIC,WAEjBD,EAAKE,mBAAmBH,GAExBC,EAAKG,UAAY,WACb,GAA2B,kBAAhBH,EAAKI,OAAqB,CACjC,IAAMC,EAAOC,KAAKC,MAAMP,EAAKI,QAC7B7U,EAAUiV,YAAYH,KAGhC,MAAOtT,GACLoB,QAAQC,IAAI,2BAWoCgU,WARA,SAAChW,GACrDA,EAAMsD,kBACNtD,EAAMoO,kBAMF,SACI,sBAAKxQ,UAAU,mBAAf,UACI,cAAC,GAAD,CAAQuB,UAAWA,IACnB,sBAAKvB,UAAU,cAAf,UACI,cAAC,GAAD,CAAMuB,UAAWA,IACjB,cAAC,EAAD,CAAWA,UAAWA,IACtB,cAAC,EAAD,CAAYA,UAAWA,IACvB,cAAC,GAAD,CAAOA,UAAWA,IAClB,cAAC,GAAD,CAASA,UAAWA,IACpB,cAAC,GAAD,CAAQA,UAAWA,IACnB,cAAC,GAAD,CAAcA,UAAWA,IACzB,cAAC,GAAD,CAAQA,UAAWA,IACnB,cAAC,EAAD,CAAOA,UAAWA,IAClB,cAAC,EAAD,CAAOA,UAAWA,IAClB,cAAC,GAAD,CAAQA,UAAWA,IACnB,cAAC,GAAD,CAAoBA,UAAWA,IAC/B,cAAC,EAAD,CAAsBA,UAAWA,IACjC,cAAC,EAAD,CAAWA,UAAWA,YAIlC,cAAC,EAAD,CAAWA,UAAWA,QCrErB8W,GAAsC,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,KAAMC,EAAuC,EAAvCA,OAAQC,EAA+B,EAA/BA,YAAa3Q,EAAkB,EAAlBA,KAAM3H,EAAY,EAAZA,MACnF,OACI,sBAAKF,UAAU,qBAAqByY,MAAM,6BAA6BvY,MAAO,CAAEgD,MAAO2E,EAAMlD,OAAQ,QAAU+T,QAAQ,YAAvH,UACI,+BACI,0BAAU/Y,GAAG,YAAb,SAEI,sBAAMgZ,EAAE,IAAIC,EAAE,IAAI1V,MAAM,MAAMyB,OAAO,MAAM3E,UAAU,kBAAkBE,MAAOA,GAAS,SAK/F,oBAAGsY,YAAaA,EAAaD,OAAQA,EAAQD,KAAM,cAAnD,UACI,sBAAMO,EAAE,6yCAA6yC,sBAAMA,EAAE,61DAA61D,sBAAMA,EAAE,szEAAszE,sBAAMA,EAAE,+oBAEp+K,oBAAGL,YAAaA,EAAaD,OAAQA,EAAQD,KAAMA,GAAQ,cAAeQ,SAAS,kBAAnF,UACI,sBAAMD,EAAE,6yCAA6yC,sBAAMA,EAAE,61DAA61D,sBAAMA,EAAE,szEAAszE,sBAAMA,EAAE,mpBCrBj+KE,GCIe,WAI1B,OACI,sBAAK/Y,UAAU,sBAAsBE,MAAO,CAAEyE,OAAQ,QAASqU,WAAY,QAA3E,UACI,cAAC,GAAD,CAAWnR,KAAK,OAAO0Q,OAAO,QAAQrY,MAAO,CAAE+Y,kBAAmB,MAAQX,KAAK,UAAUE,YAAY,QACrG,sBAAKxY,UAAU,sDAAf,UACI,cAAC,IAAD,CAAM4X,GAAG,UAAU5X,UAAU,6CAA7B,SACI,cAAC,GAAD,CAAmBc,KAAK,mBAAxB,gCAEJ,cAAC,IAAD,CAAM8W,GAAG,QAAQ5X,UAAU,6CAA3B,SACI,cAAC,GAAD,CAAmB2V,SAAS,QAAQ7U,KAAK,qBAAzC,qCCbPoY,GAA0C,SAAC,GAAmB,IAAjB3X,EAAgB,EAAhBA,UAEtD,OACI,qCACI,8BACI,cAAC,GAAD,CAAqBA,UAAWA,MAEpC,sBAAMvB,UAAU,YAAYE,MAAO,CAAE8Y,WAAY,QAAjD,SACI,qBAAKhZ,UAAU,sBAAf,SAOI,sBAAKA,UAAU,sBAAf,UACI,sBAAKA,UAAU,sBAAf,UACI,wBAAQA,UAAU,qBAAqBE,MAAO,CAAEiZ,gBAAiB,WAAjE,oBADJ,UAMA,uBAAOnZ,UAAU,yBAAjB,+B,SlBzBZsS,O,mBAAAA,I,mBAAAA,I,uBAAAA,I,eAAAA,I,wBAAAA,Q,KAQZ,ImBNY8G,I,SAAAA,O,eAAAA,I,mBAAAA,I,oBAAAA,Q,KAiBL,ICjBMC,GAAqB,WA2E9B,MA1EmC,CAC/BC,WAAY,CACR/J,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,aAEpB,kBAAmB,CACftB,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,UAEpB2I,OAAQ,CACJjK,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,gBAEpB4I,UAAW,CACPlK,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,YAEpB6I,UAAW,CACPnK,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,YAEpB8I,QAAS,CACLpK,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,gBAEpB+I,QAAS,CACLrK,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,UAEpBgJ,aAAc,CACVtK,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,YAEpBiJ,cAAe,CACXvK,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,gBAEpBkJ,SAAU,CACNxK,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,UAEpBmJ,OAAQ,CACJzK,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,gBAEpBoJ,WAAY,CACR1K,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,UAEpBqJ,YAAa,CACT3K,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,YAEpBsJ,WAAY,CACR5K,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,YAEpBuJ,SAAU,CACN7K,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,gBAEpB,kBAAmB,CACftB,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,aAEpBwJ,QAAS,CACL9K,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,aAEpByJ,SAAU,CACN/K,iBAAkB6J,GAAkBG,KACpC1I,eAAgB,YAoBf0J,GAAmB,WAAwD,IAAvDC,EAAsD,uDAAzBnB,KAC1D,EAA2CpY,mBAA8BuZ,GAAzE,mBAAOnL,EAAP,KAAsBoL,EAAtB,KAEM1K,EAAoBnK,uBACtB,SAAC5B,GACGyW,GAAkB,SAACzK,GAEf,cADOA,EAAShM,GACTgM,OAGf,CAACyK,IAGCvK,EAAiBtK,uBACnB,SAAC8U,GACGD,GAAkB,SAACzK,GAAD,mBAAC,eAAmBA,GAApB,kBAA+B0K,EAAO,CAAEnL,iBAAkB,UAEhF,CAACkL,IAECjL,EAAsB5J,uBACxB,SAACd,EAAgClC,GAC7B6X,GAAkB,SAACD,GACf,OAAO,2BACAA,GADP,kBAEK1V,EAFL,2BAGW0V,EAAM1V,IAHjB,IAIQyK,iBAAkB3M,WAKlC,CAAC6X,IAIC7D,EAAYhR,uBAAY,kBAAMyJ,IAAe,CAACA,IAC9CmH,EAAc5Q,uBAAY,SAAC+U,GAAD,OAAgDF,EAAkBE,KAAwB,CAACF,IAErHG,EAAwC,CAC1CvL,gBACAG,sBACAU,iBACAH,oBACA6G,YACAJ,eAEJ,OAAOoE,GC/FEC,GAAiB,WAmD1B,MAlD8B,CAC1B7W,KAAM,GACNyJ,KAAM,GACN5K,WAAY,GACZd,UAAW,GACXqB,UAAW,GACX0X,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,GACpBpO,MAAO,GACPQ,MAAO,GACPwG,OAAQd,GACRvO,YAvCqC,CACzCG,IAAK,GACLG,OAAQ,GACRF,OAAQ,GACRG,KAAM,GACNF,KAAM,GACNG,KAAM,IAkCFyQ,GAAI,EACJ1M,MAAO,CACH,CACI5E,KAAM,WACNiK,WAAY,MACZrL,MAAO,GAEX,CACIoB,KAAM,YACNiK,WAAY,MACZrL,MAAO,GAEX,CACIoB,KAAM,eACNiK,WAAY,MACZrL,MAAO,GAEX,CACIoB,KAAM,eACNiK,WAAY,MACZrL,MAAO,GAEX,CACIoB,KAAM,SACNiK,WAAY,MACZrL,MAAO,GAEX,CACIoB,KAAM,WACNiK,WAAY,MACZrL,MAAO,IAGf0N,aAAc,GACdjB,cAAegK,KACf/J,mBAAoB,GACpB9B,QAAS,KAMJuN,GAAe,SAAC1E,GACzB,MAAoCpV,mBAASoV,EAAKxT,YAAlD,mBAAOA,EAAP,KAAmBG,EAAnB,KACA,EAAkC/B,mBAASoV,EAAKjT,WAAhD,mBAAOA,EAAP,KAAkBM,EAAlB,KACA,EAAkCzC,mBAASoV,EAAKtU,WAAhD,mBAAOA,EAAP,KAAkBQ,EAAlB,KACA,EAAsCtB,mBAASoV,EAAKhS,aAApD,mBAAOA,EAAP,KAAoBJ,EAApB,KACA,EAAwBhD,mBAASoV,EAAKrS,MAAtC,mBAAOA,EAAP,KAAaoQ,EAAb,KACA,EAAoBnT,mBAASoV,EAAKf,IAAlC,mBAAOA,EAAP,KAAWE,EAAX,KACA,EAAwBvU,mBAASoV,EAAK5I,MAAtC,mBAAOA,EAAP,KAAa6G,EAAb,KACM9G,EC1FgB,SAACwN,GAEvB,MAA+B/Z,mBAAwB+Z,GAAvD,mBAAOxN,EAAP,KAAgByN,EAAhB,KAEMzG,EAAW5O,uBAAY,SAAC5B,GAAD,OAAkBwJ,EAAQ0N,MAAK,SAACC,GAAD,OAAQA,EAAGnX,OAASA,OAAO,CAACwJ,IAClF4N,EAAoBxV,uBACtB,SAAC5F,EAAmB8E,EAAwBlC,GACxCqY,GAAY,SAACI,GAAD,OACRA,EAAWvR,KAAI,SAAC4D,GACZ,OAAOA,EAAE1J,OAAShE,EAAX,2BAA4B0N,GAA5B,kBAAgC5I,EAAMlC,IAAU8K,UAInE,CAACuN,IAEC/F,EAAUtP,uBAAY,SAAC5B,EAAciR,GAAf,OAAmCmG,EAAkBpX,EAAM,UAAWiR,KAAU,CAACmG,IACvGpG,EAAWpP,uBAAY,SAAC5B,EAAc2J,GAAf,OAAiCyN,EAAkBpX,EAAM,QAAS2J,KAAQ,CAACyN,IAGlGE,EAAW1V,uBACb,SAAC8H,GACGuN,GAAY,SAACI,GAAD,OAAkBA,EAAWH,MAAK,SAACC,GAAD,OAAQA,EAAGnX,OAAS0J,KAA8C2N,EAAnF,sBAA8CA,GAA9C,CAA0D,CAAErX,KAAM0J,EAAGC,MAAO,UAE7G,CAACsN,IAECM,EAAc3V,uBAChB,SAAC8H,GACGuN,GAAY,SAACI,GAAD,OAAgBA,EAAWrQ,QAAO,SAACwQ,GAAD,OAAQA,EAAGxX,KAAKlC,gBAAkB4L,EAAE5L,sBAEtF,CAACmZ,IAGCzE,EAAc5Q,uBAChB,SAAC8H,GACGuN,EAAYvN,KAEhB,CAACuN,IAGCQ,EAAa7V,uBAAY,WAC3B,IAAI+H,EAAQ,EAEZ,OADAH,EAAQ7L,SAAQ,SAAC+L,GAAD,OAAQC,GAASD,EAAEC,OAAS,KACrCA,IACR,CAACH,IAEEoJ,EAAYhR,uBAAY,WAE1B,OADAzB,QAAQC,IAAI,qBAAsBoJ,GAC3BA,IACR,CAACA,IAEEiH,EAAc7O,uBAChB,SAAC8H,GACO8G,EAAS9G,GACT6N,EAAY7N,GAEZ4N,EAAS5N,KAGjB,CAAC8G,EAAU8G,EAAUC,IAgBzB,MAbmB,CACf/N,UACA8N,WACAC,cACA9G,cACAD,WACAU,UACAF,WACAyG,aACA7E,YACAJ,eDmBYkF,CAAWrF,EAAK7I,SAC1B5E,EE/Fc,SAAC+S,GACrB,MAA2B1a,mBAAS0a,GAApC,mBAAO/S,EAAP,KAAcgT,EAAd,KAEMlN,EAAW9I,uBACb,SAACiW,GAGGD,GAAU,SAACE,GAAD,OACNA,EAAShS,KAAI,SAACiS,GACV,OAAOA,EAAE/X,OAAS6X,EAAa7X,KAAxB,2BAAoC+X,GAAMF,GAAiBE,UAI9E,CAACH,IAECpF,EAAc5Q,uBAChB,SAACgD,GACGgT,EAAUhT,KAEd,CAACgT,IAGC/S,EAAWjD,uBACb,SAAC5B,GACG,IAAM2E,EAAOC,EAAMoT,MAAK,SAACrT,GAAD,OAAUA,EAAK3E,KAAKlC,cAAcma,WAAWjY,EAAKlC,kBAC1E,OAAI6G,EACOX,KAAKC,OAAOU,EAAK/F,MAAQ,IAAM,GAEnC,IAEX,CAACgG,IASL,MAPqB,CACjBA,QACA8F,WACA7F,WACA2N,eF2DU0F,CAAS7F,EAAKzN,OACtBsE,E5C9Fc,SAACiP,GACrB,MAA0Blb,mBAAuBkb,GAAjD,mBAAOjP,EAAP,KAAckP,EAAd,KAEM/O,EAAUzH,uBAAY,SAACiH,GAAD,OAAsBuP,GAAS,SAAAjP,GAAC,4BAAQA,GAAR,CAAWN,SAAQ,CAACuP,IAC1EC,EAAazW,uBAAY,SAACjG,GAC5Byc,GAAS,SAAAE,GAEL,OADAA,EAAGhU,OAAO3I,EAAI,GACP2c,OAEZ,CAACF,IAEExF,EAAYhR,uBAAY,kBAAMsH,IAAO,CAACA,IACtCsJ,EAAc5Q,uBAAY,SAACuH,GAAD,OAAqBiP,EAASjP,KAAI,CAACiP,IASnE,MAPY,CACRlP,QACAG,UACAgP,aACAzF,YACAJ,e4C2EU+F,CAASlG,EAAKnJ,OACtBoD,EF3FqB,SAAC1H,GAC5B,IAAM4T,EAA8B,GACpC5T,EAAMjH,SAAQ,SAACgH,GACX6T,EAAS7T,EAAK3E,MAAQ,KAG1B,MAAyC/C,mBAA4Bub,GAArE,mBAAOlM,EAAP,KAAqBmM,EAArB,KAGMjN,EAAsB5J,uBACxB,SAAC5B,EAAcuL,GACXkN,GAAiB,SAACC,GACd,OAAO,2BAAKA,GAAZ,kBAA8B1Y,EAAOuL,SAG7C,CAACkN,IAGCE,EAAsB/W,uBACxB,SAAC5B,GACG,IAAI4Y,EAEJ,YADqBjR,IAAjB2E,IAA4BsM,EAAQtM,EAAatM,IAC9C4Y,GAASxD,GAAkBG,OAEtC,CAACjJ,IAGCC,EAAsB3K,uBACxB,SAAC5B,EAAczC,GACX,IAAQqH,EAAuBrH,EAAvBqH,MAAOoF,EAAgBzM,EAAhByM,YAEf,OADkBpF,EAAMC,SAAS7E,GACdgK,EAAc2O,EAAoB3Y,KAEzD,CAAC2Y,IAIC/F,EAAYhR,uBAAY,kBAAM0K,IAAc,CAACA,IAC7CkG,EAAc5Q,uBAChB,SAACiX,GACGJ,GAAiB,SAACK,GAAD,mBAAC,eAAoBA,GAAcD,QAExD,CAACJ,IAaL,MAT0C,CACtCnM,eACAd,sBACAmN,sBACApM,sBACAqG,YACAJ,eEuCiBuG,CAAgB1G,EAAKzN,OACpCyG,EAAgBkL,GAAiBlE,EAAKhH,eACtCC,EAAqBiL,GAAiBlE,EAAK/G,oBAC3CwL,ErBnGkB,SAACkC,GACrB,MAA0B/b,mBAAsB+b,GAAK,CAAC,EAAG,EAAG,EAAG,EAAG,IAAlE,mBAAOlC,EAAP,KAAcmC,EAAd,KAOMC,GANetX,uBAAY,SAACkV,EAAcqC,GAC5CF,GAAS,SAACG,GAEN,OADAA,EAAStC,IAAUqC,EACZC,OAEZ,CAACH,IACarX,uBAAY,SAACkV,EAAcqC,GACxCF,GAAS,SAACG,GAEN,OADAA,EAAStC,IAAU9S,KAAKuN,IAAI4H,GACrBC,OAEZ,CAACH,KACEI,EAAczX,uBAAY,SAACkV,EAAcqC,GAC3CF,GAAS,SAACG,GAEN,OADAA,EAAStC,KAA8B,EAApB9S,KAAKuN,IAAI4H,GACrBC,OAEZ,CAACH,IAEErG,EAAYhR,uBAAY,kBAAMkV,IAAO,CAACA,IACtCtE,EAAc5Q,uBAAY,SAACkV,GAAD,OAAwBmC,EAASnC,KAAQ,CAACmC,IAW1E,MATY,CACRnC,QACAoC,WACAG,cACAzG,YACAJ,eqBsEc8G,CAASjH,EAAKyE,OAC9BpO,EGzEc,SAACnL,GACrB,MAA0BN,mBAAuB,IAAjD,mBAAOyL,EAAP,KAAc6Q,EAAd,KACM5Q,EAAU/G,uBACZ,SAAC0E,GACGiT,GAAS,SAAC7Q,GAAD,4BAAeA,GAAf,CAAsBpC,SAEnC,CAACiT,IAGCC,EAAa5X,uBACf,SAACjG,GACG,IAAIqK,EAAsB,kBAAPrK,EAAkB+M,EAAM+Q,WAAU,SAACnT,GAAD,OAAUA,EAAKtG,OAASrE,KAAMA,EAEnF4d,GAAS,SAAC7Q,GAEN,OADAA,EAAMpE,OAAO0B,EAAO,GACb0C,OAGf,CAAC6Q,EAAU7Q,IAETkK,EAAYhR,uBAAY,kBAAM8G,IAAO,CAACA,IACtC8J,EAAc5Q,uBAAY,SAAC8G,GAAD,OAAyB6Q,EAAS7Q,KAAQ,CAAC6Q,IAW3E,MATY,CACR7Q,QACAC,UACA6Q,aACAtX,YACA0Q,YACAJ,eH4CUkH,GACRhK,EtBjEe,WAAoD,IAAnDiK,EAAkD,uDAAhB/K,GACxD,EAA4B3R,mBAAS0c,GAArC,mBAAOjK,EAAP,KAAekK,EAAf,KAEMjK,EAAW/N,uBACb,SAACkN,GAAD,OACI8K,GAAU,SAAC7B,GAEP,OADAA,EAAEjJ,EAAMnF,OAAO5I,KAAK+N,GACbiJ,OAEf,CAAC6B,IAGCC,EAAcjY,uBAChB,SAACkY,GACG,kBAAeA,EAAf,GAAOnF,EAAP,KAAUC,EAAV,KACAgF,GAAU,SAAClK,GAEP,OADAA,EAAOiF,GAAGrQ,OAAOsQ,EAAG,GACblF,OAGf,CAACkK,IAGChH,EAAYhR,uBAAY,kBAAM8N,IAAQ,CAACA,IACvC8C,EAAc5Q,uBAAY,SAAC8N,GAAD,OAA6BkK,EAAUlK,KAAS,CAACkK,IAUjF,MAPY,CACRlK,SACAC,WACAkK,cACAjH,YACAJ,esBiCWuH,CAAU1H,EAAK3C,QACxBsK,EAAepY,uBAAY,WAC7B,OAAO,EAAIoC,KAAKiW,KAAKzQ,EAAQiO,aAAe,KAC7C,CAACjO,IAEEoJ,EAAYhR,uBAAY,WAmB1B,MAlB8B,CAC1B5B,OACAsR,KACA7H,OACA1L,YACAqB,YACAiB,cACAuE,MAAOA,EAAMA,MACbsE,MAAOA,EAAM0J,YACbpJ,QAASA,EAAQoJ,YACjBtG,aAAcA,EAAasG,YAC3BvH,cAAeA,EAAcuH,YAC7BtH,mBAAoBA,EAAmBsH,YACvClD,OAAQA,EAAOkD,YACflK,MAAOA,EAAMkK,YACbkE,MAAOA,EAAMlE,YACb/T,gBAGL,CAACyN,EAActM,EAAM0P,EAAQrP,EAAaoJ,EAAMqN,EAAOpO,EAAO4I,EAAI9H,EAAS5E,EAAOyG,EAAexM,EAAYyM,EAAoBvN,EAAWqB,EAAWsJ,EAAOA,EAAMA,QAEjK8J,EAAc5Q,uBAChB,SAACyQ,GACGjC,EAAQiC,EAAKrS,MACbwR,EAAMa,EAAKf,IACX/S,EAAa8T,EAAKtU,WAClB6G,EAAM4N,YAAYH,EAAKzN,OACvB4E,EAAQgJ,YAAYH,EAAK7I,SACzBd,EAAM8J,YAAYH,EAAK3J,OACvB4H,EAAQ+B,EAAK5I,MACbxJ,EAAeoS,EAAKhS,aACpBX,EAAa2S,EAAKjT,WAClBsQ,EAAO8C,YAAYH,EAAK3C,QACxBpD,EAAakG,YAAYH,EAAK/F,cAC9BjB,EAAcmH,YAAYH,EAAKhH,eAC/BC,EAAmBkH,YAAYH,EAAK/G,oBACpCwL,EAAMtE,YAAYH,EAAKyE,OACvB9X,EAAcqT,EAAKxT,YACnBqK,EAAMsJ,YAAYH,EAAKnJ,SAE3B,CAACoD,EAAchB,EAAoBpC,EAAOwG,EAAQrE,EAAe+E,EAASxL,EAAO4E,EAASvJ,EAAgB1B,EAAcmB,IAmC5H,MAhCkB,CACdM,OACAsR,KACAvT,YACAc,aACAO,YACAiB,cACAJ,iBACAP,eACAV,gBACAkK,QACAR,QACAgH,SACAnR,eACA6R,UACAoB,QACA5M,QACA6E,OACA6C,eACA,kBACI,OAAO0N,KAEX,YACI,OAAOxQ,EAAQiO,cAEnBpM,gBACAC,qBACAgF,UACA9G,UACAoJ,YACAJ,gBIzKF0H,I,cAA4C,SAAC,GAAyD,IAAvDC,EAAsD,EAAtDA,QAAShd,EAA6C,EAA7CA,WAAYid,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,kBAC/E,OACI,sBAAKre,UAAU,uBAAuBM,QAAS,WAC3Ca,GAAW,GACXid,GAAWE,aAAaF,GACxBC,OAAkB1S,IAHtB,UAKI,qBAAK3L,UAAU,SACf,qBAAKA,UAAU,UAAf,SACKme,SCJJI,IAXGvN,GAAagB,YACd3D,EAAY6C,QAUM,WAC7B,IAAMmF,EAAO0E,GAAaF,MAC1B,EDzBoB,SAACsD,GACrB,MAA+Bld,oBAAS,GAAxC,mBAAOC,EAAP,KAAgBsd,EAAhB,KACA,EAA4Cvd,qBAA5C,mBAAOwd,EAAP,KAAuBJ,EAAvB,KAcA,MAAO,CAbYzY,uBAAY,WACvB6Y,IACJD,GAAY,GACZF,aAAaG,GACbJ,EAAkBK,YAAW,WACzBF,GAAY,GACZH,OAAkB1S,KACnB,UACJ,CAAC6S,EAAaC,IACH,WACV,OAAQvd,GAAW,cAAC,GAAD,CAAcid,QAASA,EAAShd,WAAYqd,EAAaH,kBAAmBA,EAAmBD,QAASK,MCYnGE,CAAS,gBAArC,6BACA,OACI,qBACIze,MAAO,CACH2C,WAAY,QACZ8B,OAAQ,QACRqU,WAAY,QAJpB,SAOI,cAAC,EAAD,CAAUzX,UAAW8U,EAAMxJ,KAAM,CAAE7I,KAAM,OAAQqB,MAAO,YAAaC,cAAe,UCejFsZ,GA7BO,SAACpT,GACnB,IAAM6K,EAAwBwE,KACxBtZ,EAAwBwZ,GAAa1E,GAC3C,OACI,cAAC,IAAD,UACI,qBAAKrW,UAAU,iBAAf,SACI,eAAC,IAAD,WAEI,cAAC,IAAD,CAAO6e,KAAK,UAAUC,OAAK,EAA3B,SACI,cAAC,GAAD,CAAiBvd,UAAWA,MAGhC,cAAC,IAAD,CAAOsd,KAAK,QAAQC,OAAK,EAAzB,SACI,cAAC,GAAD,CAAevd,UAAWA,MAI9B,cAAC,IAAD,CAAOsd,KAAK,IAAIC,OAAK,EAArB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOD,KAAK,WAAWC,OAAK,EAA5B,SACI,cAAC,GAAD,cCrClBC,GAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASpY,MAAM,2DA0CnC,SAASqY,GAAgBC,EAAeC,GACtCC,UAAUC,cACPC,SAASJ,GACTK,MAAK,SAACC,GACLA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB7Q,QACfuQ,UAAUC,cAAcQ,YAI1B7b,QAAQC,IACN,+GAKEkb,GAAUA,EAAOW,UACnBX,EAAOW,SAASN,KAMlBxb,QAAQC,IAAI,sCAGRkb,GAAUA,EAAOY,WACnBZ,EAAOY,UAAUP,WAO5BQ,OAAM,SAACnX,GACN7E,QAAQ6E,MAAM,4CAA6CA,MCjGjE,IAYeoX,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBZ,MAAK,YAAkD,IAA/Ca,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,qBAAK9gB,UAAU,QAAf,SACE,cAAC,GAAD,QAGJyB,SAASkW,eAAe,SFanB,SAAkB2H,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIvI,IAAI+J,UAAwB9B,OAAOC,SAASxe,MACpDsgB,SAAW/B,OAAOC,SAAS8B,OAIvC,OAGF/B,OAAOgC,iBAAiB,QAAQ,WAC9B,IAAM5B,EAAK,UAAM0B,UAAN,sBAEPhC,KAgEV,SAAiCM,EAAeC,GAE9C4B,MAAM7B,EAAO,CACX8B,QAAS,CAAE,iBAAkB,YAE5BzB,MAAK,SAAC0B,GAEL,IAAMC,EAAcD,EAASD,QAAQG,IAAI,gBAEnB,MAApBF,EAASG,QACO,MAAfF,IAA8D,IAAvCA,EAAYG,QAAQ,cAG5CjC,UAAUC,cAAciC,MAAM/B,MAAK,SAACC,GAClCA,EAAa+B,aAAahC,MAAK,WAC7BT,OAAOC,SAASyC,eAKpBvC,GAAgBC,EAAOC,MAG1Ba,OAAM,WACLhc,QAAQC,IAAI,oEAtFVwd,CAAwBvC,EAAOC,GAI/BC,UAAUC,cAAciC,MAAM/B,MAAK,WACjCvb,QAAQC,IACN,+GAMJgb,GAAgBC,EAAOC,OEvC/BuC,GAIAzB,O","file":"static/js/main.2f951420.chunk.js","sourcesContent":["export enum ItemType {\r\n    WEAPON,\r\n    ARMOR,\r\n    AMMUNITION,\r\n    TOOL,\r\n    POISON,\r\n    POTION,\r\n    AVENTURING_GEAR,\r\n    GEMSTONE,\r\n    HOLY_SYMBOL,\r\n    ARCANE_FOCUS,\r\n    DRUIDIC_FOCUS,\r\n    MOUNT,\r\n    VEHICLE,\r\n    EQUIPMENT_PACK,\r\n}\r\n\r\n//TODO: Map ItemType to FontAwesome icon.\r\ninterface ItemTypeDetails {\r\n    name: string,\r\n    icon: string\r\n}\r\nexport const ItemTypes: ItemTypeDetails[] = [\r\n        {\r\n            name:\"Weapon\",\r\n            icon: \"fas fa-sword\"\r\n        },\r\n        {\r\n            name: \"Armor\",\r\n            icon: \"fas fa-helmet-battle\",\r\n        },\r\n        {\r\n            name: \"Ammunition\",\r\n            icon: \"fas fa-bow-arrow\"\r\n        },\r\n        {\r\n            name: \"Tool\",    \r\n            icon: \"fas fa-hammer\",\r\n        },\r\n        {\r\n            name: \"Poison\",\r\n            icon: \"fas fa-flask-poison\",\r\n        },\r\n        {\r\n            name: \"Potion\",\r\n            icon: \"fas fa-flask-potion\",\r\n        },\r\n        {\r\n            name: \"Adventuring Gear\",\r\n            icon: \"fas fa-cog\",\r\n\r\n        },\r\n        {\r\n            name: \"Gemstone\",\r\n            icon: \"fas fa-gem\",\r\n\r\n        },\r\n        {\r\n            name: \"Holy Symbol\",\r\n            icon: \"fas fa-cross\",\r\n        },\r\n        {\r\n            name: \"Arcane Focus\",\r\n            icon: \"fas fa-hand-holding-magic\"\r\n        },\r\n        {\r\n            name: \"Druidic Focus\",\r\n            icon: \"fas fa-acorn\",\r\n        },\r\n        {\r\n            name: \"Mount\",\r\n            icon: \"fas fa-horse-head\",\r\n\r\n        },\r\n        {\r\n            name: \"Vehicle\",\r\n            icon: \"far fa-wagon-covered\",\r\n\r\n        },\r\n        {\r\n            name: \"Equipment Pack\",\r\n            icon: \"fas fa-sack\"\r\n        }\r\n    ];\r\nexport const mapItemType = (itemType: ItemType): ItemTypeDetails => {\r\n    return ItemTypes[itemType];\r\n};","import { useRef } from \"react\";\r\n\r\ninterface LinkedHeaderProps {\r\n    children: React.ReactNode;\r\n    id: string;\r\n    title?: string;\r\n}\r\n\r\nexport const LinkedHeader: React.FC<LinkedHeaderProps> = ({ id, title, children }) => {\r\n    const myRef = useRef<HTMLHeadingElement>(null);\r\n    return (\r\n        <h1 id={id} title={title || id} className=\"header\" ref={myRef} style={{ display: \"inline-block\", userSelect: 'none', cursor: 'pointer' }} onClick={\r\n            () => myRef?.current?.scrollIntoView()\r\n        }>\r\n            <span className=\"link\">\r\n                {children || \"\"}\r\n            </span>\r\n        </h1 >\r\n    );\r\n}\r\n","interface WikiReferenceProps {\r\n    href: string\r\n    title?: string;\r\n}\r\nexport const WikiReference: React.FC<WikiReferenceProps> = ({ href, title }) => {\r\n    return <a href={href} target=\"_blank\" rel=\"noreferrer noopener\"><i title={title || \"Wiki Reference\"} className=\"far fa-question-circle info hoverable\"></i></a>;\r\n}","import React, { useState } from 'react';\r\nimport { LinkedHeader } from '../misc/LinkedHeader';\r\nimport { WikiReference } from '../misc/WikiReference';\r\ninterface SectionProps {\r\n    children: React.ReactNode;\r\n    id: string;\r\n    title: string;\r\n    icon: string;\r\n    header: string;\r\n    wikiReference: string;\r\n}\r\nexport const Section: React.FC<SectionProps> = ({ children, id, title, icon, header, wikiReference }) => {\r\n    const [visible, setVisible] = useState(true);\r\n    return (\r\n        <section className={`create-header create-${id}`}>\r\n            <header>\r\n                <LinkedHeader id={id} title={title}>\r\n                    <i className={icon} style={{ marginRight: '1em' }}></i>\r\n                    {header}\r\n                </LinkedHeader>\r\n                <WikiReference href={wikiReference} />\r\n                <i className={`button-collapse color-primary-hover pointer fas fa-chevron-down ${visible ? 'rotate reverse' : 'rotate'}`} onClick={() => setVisible((v) => !v)}></i>\r\n            </header>\r\n            {visible && <div className='create-body'>{children}</div>}\r\n        </section>\r\n    );\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { CharacterProps } from \".\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const Alignment: React.FC<CharacterProps> = ({ character }) => {\r\n    useEffect(() => {\r\n        document.querySelectorAll('.create-alignment .alignment').forEach(el => {\r\n            if (el.textContent?.toLowerCase() === character.alignment.toLowerCase()) {\r\n                el.classList.add('active');\r\n            } else el.classList.remove('active');\r\n        }, [character.alignment]);\r\n    })\r\n    const handleClick: React.MouseEventHandler<HTMLDivElement> = (event) => {\r\n        const target = event.currentTarget;\r\n        const content = target.textContent;\r\n        if (!content) return;\r\n        character.setAlignment((oldContent) => (oldContent === content) ? \"\" : content);\r\n\r\n    }\r\n    return (\r\n        <Section header=\"Alignment\" icon=\"fas fa-eclipse\" id=\"aligment\" title=\"Alignment\" wikiReference=\"https://dnd5e.info/beyond-1st-level/alignment/\">\r\n            <div className=\"create-alignment\">\r\n                <div className=\"alignment\" onClick={handleClick}>Lawful Good</div>\r\n                <div className=\"alignment\" onClick={handleClick}>Neutral Good</div>\r\n                <div className=\"alignment\" onClick={handleClick}>Chaotic Good</div>\r\n\r\n                <div className=\"alignment\" onClick={handleClick}>Lawful Neutral</div>\r\n                <div className=\"alignment\" onClick={handleClick}>True Neutral</div>\r\n                <div className=\"alignment\" onClick={handleClick}>Chaotic Neutral</div>\r\n\r\n                <div className=\"alignment\" onClick={handleClick}>Lawful Evil</div>\r\n                <div className=\"alignment\" onClick={handleClick}>Neutral Evil</div>\r\n                <div className=\"alignment\" onClick={handleClick}>Chaotic Evil</div>\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import { CharacterProps } from \".\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const Background: React.FC<CharacterProps> = ({ character }) => {\r\n    return (\r\n        <Section id=\"background\" title=\"Background\" header=\"Background\" icon=\"fas fa-scroll\" wikiReference=\"http://dnd5e.wikidot.com/#toc13\">\r\n            <div className=\"background-select\">\r\n                <input type=\"text\" className=\"race-input\" placeholder={\"Acolyte\"} value={character.background} onChange={(e) => character.setBackground(e.target.value)} />\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import { CharacterProps } from \".\";\r\nimport { Section } from \"./Section\";\r\nimport MDEditor from '@uiw/react-md-editor';\r\n\r\nexport const Backstory: React.FC<CharacterProps> = ({ character }) => {\r\n\r\n    return (\r\n        <Section header=\"Backstory\" title=\"Backstory\" id=\"backstory\" icon=\"fas fa-book\" wikiReference=\"https://arcaneeye.com/dm-tools-5e/dnd-character-backstory-template/\">\r\n            <div className=\"sec-backstory center-content\">\r\n\r\n                <p>Write your backstory here! You can use markdown syntax to make it look pretty!</p>\r\n                <p>\r\n                    <a href=\"https://www.markdownguide.org/basic-syntax/\" className=\"color-primary\">\r\n                        Markdown Reference\r\n                    </a>\r\n                </p>\r\n\r\n                <div className=\"md-container\" style={{ width: '70%', overflow: 'hidden' }}>\r\n                    <MDEditor value={character.backstory} hideToolbar={true} preview={\"edit\"}\r\n\r\n                        textareaProps={\r\n                            {\r\n                                placeholder: '# In the Beginning...',\r\n                                wrap: \"hard\",\r\n                                style: { padding: 'inherit' }\r\n                            }\r\n                        }\r\n                        onChange={(value) => character.setBackstory(value || \"\")}\r\n                    />\r\n\r\n                    <fieldset className=\"preview center-content\" style={{ paddingTop: '0em' }}>\r\n                        <legend><span>Preview</span></legend>\r\n                        {(character.backstory === \"\") ? <div className=\"placeholder wmde-markdown\"><h1>In the Beginning...</h1></div> : <MDEditor.Markdown source={character.backstory} />}\r\n                    </fieldset>\r\n                </div>\r\n\r\n            </div>\r\n        </Section >\r\n    )\r\n}","import { CharacterProps } from \".\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const CharacterDescription: React.FC<CharacterProps> = ({ character }) => {\r\n    const handleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n        const { name, value } = e.target;\r\n        character.setDescription((oldDesc) => ({ ...oldDesc, [name]: value }));\r\n        console.log(character.description);\r\n    }\r\n\r\n    const renderInputs = (): JSX.Element[] => {\r\n        const els: JSX.Element[] = [];\r\n        const placeholderMap: { [key: string]: string } = {\r\n            age: '50',\r\n            weight: '110lbs',\r\n            skin: 'Grey',\r\n            height: `6'4\"`,\r\n            eyes: 'Green',\r\n            hair: 'Brown'\r\n        }\r\n        for (let key in character.description) {\r\n            els.push(\r\n                <div className=\"center-grid-justified\" key={key} >\r\n                    <div className=\"left\">\r\n                        <label htmlFor={key}>{`${key.substr(0, 1).toUpperCase()}${key.substr(1).toLowerCase()}`}: </label>\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <input type=\"text\" name={key} id={key} placeholder={placeholderMap[key]} value={character.description[key]} onChange={handleChange} />\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        return els;\r\n    }\r\n\r\n\r\n    return (\r\n        <Section wikiReference=\"https://da-dd.fandom.com/wiki/Creating_a_Character\" id=\"character-description\" title=\"Description\" header=\"Description\" icon=\"fas fa-binoculars\">\r\n            <div className=\"create-description-inputs\">\r\n                {renderInputs()}\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import { string } from \"mathjs\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { iSerializable } from \"../character\";\r\nimport { Rollable } from \"../items\";\r\n\r\nexport interface iFeatModel extends Rollable {\r\n    name: string;\r\n    notes: string;\r\n}\r\nexport const blankFeat: iFeatModel = {\r\n    name: \"\",\r\n    notes: \"\",\r\n    rollableProps: []\r\n}\r\nexport type iFeats = ReturnType<typeof useFeats> & iSerializable<iFeatModel>;\r\n\r\nexport const useFeats = (incomingFeats: iFeatModel[]) => {\r\n    const [feats, setFeats] = useState<iFeatModel[]>(incomingFeats);\r\n\r\n    const addFeat = useCallback((feat: iFeatModel) => setFeats(f => [...f, feat]), [setFeats]);\r\n    const removeFeat = useCallback((id: number) => {\r\n        setFeats(fs => {\r\n            fs.splice(id, 1);\r\n            return fs;\r\n        })\r\n    }, [setFeats])\r\n\r\n    const serialize = useCallback(() => feats, [feats]);\r\n    const deserialize = useCallback((f: iFeatModel[]) => setFeats(f), [setFeats]);\r\n\r\n    const obj = {\r\n        feats,\r\n        addFeat,\r\n        removeFeat,\r\n        serialize,\r\n        deserialize\r\n    }\r\n    return obj;\r\n}","import React, { useCallback, useState } from 'react';\r\ninterface ModalProps {\r\n    active: boolean;\r\n    setActive: (active: boolean) => void;\r\n}\r\nconst Modal: React.FC<ModalProps> = ({ children, active, setActive }) => {\r\n    return active ? (\r\n        <>\r\n            <div\r\n                className=\"modal\"\r\n                onClick={(e) => {\r\n                    setActive(false);\r\n                }}>\r\n                <div\r\n                    className=\"modal-content\"\r\n                    onClick={(e) => e.stopPropagation()}>\r\n                    <i\r\n                        onClick={(e) => {\r\n                            setActive(false);\r\n                        }}\r\n                        className=\"far fa-times close-button hoverable-half color-primary-hover\"></i>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </>\r\n    ) : (\r\n        <></>\r\n    );\r\n};\r\ntype ModalTuple = [() => void, JSX.Element];\r\nexport const useModal = (children: React.ReactNode): ModalTuple => {\r\n    const [active, setActive] = useState(false);\r\n    const toggleActive = useCallback(() => {\r\n        setActive((a) => !a);\r\n    }, [setActive]);\r\n\r\n    return [\r\n        toggleActive,\r\n        <Modal active={active} setActive={setActive}>\r\n            {children}\r\n        </Modal>,\r\n    ];\r\n};\r\n","\r\nexport enum Rarity {\r\n    COMMON,\r\n    UNCOMMON,\r\n    RARE,\r\n    VERY_RARE,\r\n    LEGENDARY,\r\n    ARTIFACT,\r\n}\r\nexport const Rarities = ['Common', 'Uncommon', 'Rare', 'Very Rare', 'Legendary', 'Artifact'];\r\nexport const mapRarity = (rarity: Rarity): string => {\r\n    console.log(\"HMMM\",rarity, Rarities[rarity]);\r\n    const map = Rarities[rarity]\r\n        return map;\r\n};","import { useCallback, useEffect, useState } from \"react\";\r\nexport enum CheckState {\r\n    off = 0,\r\n    on = 1,\r\n    superOn = 2\r\n}\r\n\r\n\r\ninterface TripleCheckBoxProps {\r\n    id?: string;\r\n    className?: string;\r\n    style?: React.CSSProperties;\r\n    name?: string;\r\n    value?: 0 | 1 | 2;\r\n    setValue?: (value: number) => void;\r\n    onStateChange?: (newState: CheckState) => void;\r\n\r\n\r\n}\r\nconst icons = [\"far fa-circle\", \"fas fa-dot-circle\", \"fas fa-circle\"];\r\n\r\n\r\ninterface TripleCheckBoxProficiencyProps {\r\n    style?: React.CSSProperties;\r\n}\r\nexport const TripleCheckBoxLegend: React.FC<TripleCheckBoxProficiencyProps> = ({ style }) => {\r\n    return (\r\n\r\n        <div style={{ ...style, display: 'flex', justifyContent: 'space-around', width: '100%', padding: '0em 4em' }}>\r\n            <div><i className={icons[0]}></i> <span>No Proficiency</span></div>\r\n            <div><i className={icons[1]}></i> <span>Single Proficiency</span></div>\r\n            <div><i className={icons[2]}></i> <span>Double Proficiency</span></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const TripleCheckBox: React.FC<TripleCheckBoxProps> = ({ id, className, name, style, value, setValue }) => {\r\n    const [checkState, setCheckState] = useState<CheckState>(value || CheckState.off);\r\n    useEffect(() => {\r\n        setCheckState(value as unknown as CheckState);\r\n    }, [value, setCheckState])\r\n    const cycleState = useCallback(() => {\r\n        setCheckState(oldState => {\r\n            //Initial State\r\n            let state: CheckState = CheckState.off;\r\n            //Cycle the states between 0 1 or 2 (off, on, or superOn)\r\n            switch (oldState) {\r\n                case CheckState.off:\r\n                    state = CheckState.on;\r\n                    break;\r\n                case 1:\r\n                    state = CheckState.superOn;\r\n                    break;\r\n                case 2:\r\n                default:\r\n                    state = CheckState.off;\r\n                    break;\r\n            }\r\n            if (setValue)\r\n                setValue(state);\r\n\r\n            //Apply the state locally\r\n            return state;\r\n        });\r\n    }, [setCheckState, setValue]);\r\n\r\n\r\n    return (\r\n\r\n        <div className={`${className} checkbox`} onClick={(e) => {\r\n            e.stopPropagation();\r\n            cycleState()\r\n        }} style={style}>\r\n            <input type=\"checkbox\" name={name} style={{ cursor: 'pointer', display: 'none' }} id={id} />\r\n            <i className={`${icons[checkState]} triple-check-box`} style={{ cursor: 'pointer' }}></i>\r\n\r\n        </div>\r\n    );\r\n}","/*\r\n    This file should be reworked.\r\n   Features needed: The abillity to chain operations\r\n   a map of possible operators\r\n\r\n   So there are three types of operands:\r\n   dice, stat modifiers and plain numbers\r\n   so a dice operands looks like this:\r\n       h:xdy\r\n   ex: 2:4d8\r\n   h -> the highest number of dice to take\r\n   x -> the number of total dice to roll\r\n   y -> the size of the dice\r\n\r\n   A stat operand can be any of the following:\r\n   str, wis, dex, int, con, cha\r\n\r\n   Then finally there are plain old numbers:\r\n   3, 54, 69\r\n\r\n   Plan:\r\n   given the dice string 4:2d6 + str * 2\r\n   we would first go through and compute all of the non-number operands. The dice would\r\n   get rolled and computed, and the stats would be looked up and replaced with their numbers\r\n*/\r\nexport const diceRegex = /((\\d+:)?\\d+d\\d+)/g;\r\nexport const diceRegexNoCap = /(?:\\d+:)?\\d+d\\d+/;\r\n\r\nexport interface DiceReport {\r\n    diceExpr: string;\r\n    highestN?: number;\r\n    lowestN?: number;\r\n    numOfDice: number;\r\n    magnitude: number;\r\n    rolls: number[];\r\n    filteredRolls: number[];\r\n    value: number;\r\n}\r\nexport const computeDice = (dice: string): DiceReport => {\r\n    dice = dice.toLowerCase();\r\n\r\n    const match = dice.match(diceRegex);\r\n    const diceReport: DiceReport = {\r\n        diceExpr: dice,\r\n        numOfDice: -1,\r\n        magnitude: -1,\r\n        rolls: [],\r\n        filteredRolls: [],\r\n        value: -1,\r\n    };\r\n    if (!(match && match[0] === dice)) return diceReport;\r\n    //The dice string is guarenteed to be in proper format now\r\n\r\n    const expr = dice.split(':');\r\n    if (expr.length > 1) {\r\n        const high = expr.shift();\r\n        if (high) diceReport.highestN = parseInt(high);\r\n    }\r\n    const expr2 = expr[0].split('d');\r\n    diceReport.numOfDice = parseInt(expr2[0]);\r\n    diceReport.magnitude = parseInt(expr2[1]);\r\n    const rollDice = (size: number) => {\r\n        const min = 1;\r\n        size = Math.floor(size);\r\n        return Math.floor(Math.random() * (size - min + 1) + min); //The maximum is inclusive and the minimum is inclusive\r\n    };\r\n\r\n    const diceArr: number[] = [];\r\n    for (let i = 0; i < diceReport.numOfDice; i++) {\r\n        diceArr.push(rollDice(diceReport.magnitude));\r\n    }\r\n\r\n    diceReport.rolls = diceArr;\r\n    diceReport.filteredRolls = diceReport.rolls;\r\n\r\n    if (diceReport.highestN) {\r\n        const sortedCopy = [...diceReport.rolls].sort((a, b) => a + b);\r\n        diceReport.filteredRolls = sortedCopy.splice(0, Math.min(diceReport.highestN, sortedCopy.length));\r\n    }\r\n    diceReport.value = diceReport.filteredRolls.reduce((a, b) => a + b);\r\n    return diceReport;\r\n};\r\n","import { evaluate } from 'mathjs';\r\nimport { iCharacter } from '../character';\r\nimport { computeDice, diceRegex, DiceReport } from './computeDice';\r\nimport { parseStat } from './parseStat';\r\n\r\nexport interface DiceExpressionReport {\r\n    expression: string;\r\n    reports: DiceReport[];\r\n    value: number;\r\n    error?: Error;\r\n}\r\nexport const parseExpression = (diceExpr: string, character: iCharacter): DiceExpressionReport => {\r\n    const statRegex = /(?:con|wis|str|int|cha|dex)[a-zA-Z]*/gi;\r\n    const report: DiceExpressionReport = {\r\n        expression: diceExpr,\r\n        value: 0,\r\n        reports: [],\r\n    };\r\n    try {\r\n        const parsedExpr = diceExpr.replaceAll(diceRegex, (ex) => {\r\n            const rep = computeDice(ex);\r\n            report.reports.push(rep);\r\n            return rep.value.toString();\r\n        }).replaceAll(statRegex, (ex) => {\r\n            ex = ex.substr(0, 3).toLowerCase();\r\n            const stat = parseStat(ex, character);\r\n            console.log(ex, stat)\r\n            return stat + \"\";\r\n        });\r\n        report.value = evaluate(parsedExpr);\r\n    } catch (e) {\r\n        report.error = e;\r\n        alert('Invalid Expression!');\r\n        console.log(e);\r\n    }\r\n\r\n    return report;\r\n};\r\n","import { iCharacter } from \"../character\";\r\n\r\nexport const parseStat = (stat: string, character: iCharacter) => {\r\n    return character.stats.modifier(stat);\r\n}","import { useCallback, useState } from \"react\";\r\nimport { CharacterProps } from \"../../components/CreateCharacter\";\r\nimport { iCharacter } from \"../character\";\r\nimport { DiceExpressionReport, parseExpression } from \"./parseExpression\";\r\n\r\n\r\n\r\ninterface iDice {\r\n    roll: (diceString: string) => DiceExpressionReport;\r\n    DiceRoller: React.FC<CharacterProps>;\r\n}\r\nexport const useDice = (character: iCharacter) => {\r\n\r\n    const roll = useCallback(\r\n        (diceString: string) => parseExpression(diceString, character),\r\n        [character],\r\n    )\r\n\r\n    const DiceRoller: React.FC<CharacterProps> = ({ character }) => {\r\n        const [diceString, setDiceString] = useState(\"\")\r\n        const [val, setVal] = useState(0);\r\n        return (<div>\r\n            <input type=\"text\" value={diceString} onChange={e => setDiceString(e.target.value)} />\r\n            <button onClick={e => setVal(roll(diceString).value)}>Roll</button>\r\n            <span>Value: {val}</span>\r\n\r\n        </div>)\r\n    }\r\n    const obj: iDice = {\r\n        roll,\r\n        DiceRoller\r\n    }\r\n\r\n    return obj;\r\n\r\n}","import { useCallback, useState } from 'react';\r\nimport { iCharacter } from 'src/models/character';\r\nimport { useDice } from 'src/models/dice/dice';\r\nimport { RollableProperty } from 'src/models/items';\r\n/* \r\n    // This isnt working yet and neither is the item form, I think I need to start over with a cleaner approach...\r\n    Finally its starting to work, just needs some more cleanup\r\n*/\r\ninterface RoallablePropertyModalProps {\r\n    weaponProps: RollableProperty[];\r\n    character: iCharacter;\r\n}\r\nexport const RollablePropertyModal: React.FC<RoallablePropertyModalProps> = ({ weaponProps, character }) => {\r\n    const [selectedProp, setSelectedProp] = useState(-1);\r\n    const [diceString, setDiceString] = useState('');\r\n    const { roll } = useDice(character);\r\n    const mapWeaponProps = useCallback(() => {\r\n        return weaponProps.map((wp, index) => {\r\n            const classList = index !== selectedProp ? 'wp-row hoverable color-primary-hover ' : 'wp-row hoverable color-primary color-primary-hover';\r\n            console.log('SELECTED: ', selectedProp);\r\n            return (\r\n                <li className={classList} key={index} onClick={() => setSelectedProp(index)}>\r\n                    <div className='wp-name'>{wp.name}</div>\r\n                    <div className='wp-dice'>{wp.magnitude}</div>\r\n                    <div className='wp-type'>{wp.magnitudeType}</div>\r\n                </li>\r\n            );\r\n        });\r\n    }, [weaponProps, selectedProp, setSelectedProp]);\r\n    const handleClick = () => {\r\n        if (selectedProp === -1) return;\r\n        setDiceString(roll(weaponProps[selectedProp].magnitude).value + '');\r\n    };\r\n    return (\r\n        <div className='weapon-props-modal'>\r\n            <ul id='wp-list'>{mapWeaponProps()}</ul>\r\n            <div id='wp-dice-button'>\r\n                <i className='fas fa-dice-d20 hoverable color-primary-hover' onClick={handleClick}></i>\r\n            </div>\r\n            <div className='wp-output'>\r\n                <h2>{diceString}</h2>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import { useModal } from 'src/components/Modal';\r\nimport { iCharacter } from 'src/models/character';\r\nimport { iItemModel } from '../../../models/items/items';\r\nimport { mapItemType, ItemType } from '../../../models/items/ItemType';\r\nimport { Rarity, mapRarity } from '../../../models/items/Rarity';\r\nimport { RollablePropertyModal } from './RollablePropertyModal';\r\nconst defaultItem: iItemModel = {\r\n    name: 'Diamond Sword',\r\n    cost: '3gp',\r\n    description: `\r\n    Minecraft steve's legendary sword.\r\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam vitae repellat facere quia maiores qui quidem cumque optio accusamus ex at blanditiis explicabo voluptas illo fuga delectus rerum, molestias distinctio!\r\n    Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas sequi, dolor quis in distinctio quia odit dolores saepe error est.\r\n    Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas sequi, dolor quis in distinctio quia odit dolores saepe error est.\r\n    Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas sequi, dolor quis in distinctio quia odit dolores saepe error est.\r\n    `,\r\n    rarity: Rarity.ARTIFACT,\r\n    weight: '20lbs',\r\n    rollableProps: [],\r\n};\r\nexport const ItemCard: React.FC<{ item?: iItemModel; character: iCharacter }> = ({ item = defaultItem, character }) => {\r\n    let { name, description, cost, rarity, type, rollableProps: weaponProps, weight } = item;\r\n    console.log('CREATED ITEM', item);\r\n    const [toggleOpen, modal] = useModal(<RollablePropertyModal weaponProps={item.rollableProps || []} character={character} />);\r\n    weaponProps = [];\r\n    weaponProps.push({\r\n        name: 'Attack',\r\n        magnitude: '2d4',\r\n    });\r\n    const colors = ['#3f3f3f', '#0a9900', '#0070dd', '#a335ee', '#ff8000', '#ee3333'];\r\n    return (\r\n        <>\r\n            {modal}\r\n            <div className='item-card-container'>\r\n                <div className='item-card-content'>\r\n                    <header className='header'>\r\n                        <h4 className='name'>{name}</h4>\r\n                        <h5\r\n                            className='rarity'\r\n                            style={{\r\n                                color: colors[rarity || 0],\r\n                            }}\r\n                        >\r\n                            <em>{mapRarity(rarity || Rarity.COMMON)}</em>\r\n                            <span className='weight'>{weight}</span>\r\n                        </h5>\r\n                        <i className={`${mapItemType(type || ItemType.WEAPON).icon} icon`}></i>\r\n                    </header>\r\n                    <div style={{ textAlign: 'center' }}>{cost}</div>\r\n                    <div className='description'>{description}</div>\r\n                    <div>\r\n                        <i\r\n                            className={`fas fa-dice-d20 rollable ${weaponProps.length !== 0 && 'hoverable-half color-primary-hover'}`}\r\n                            onClick={toggleOpen}\r\n                            style={{\r\n                                color: weaponProps.length !== 0 ? 'black' : '#919191',\r\n                            }}\r\n                        ></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","import React, { Dispatch, useEffect, useState } from 'react';\r\nimport { SetStateAction } from 'react';\r\nimport { iItemModel, Rollable, RollableProperty } from 'src/models/items';\r\ninterface RollableRowProps {\r\n    rollableProps: RollableProperty;\r\n    index: number;\r\n    setItem: (item: React.SetStateAction<Rollable>) => void;\r\n}\r\nconst RollableEditRow: React.FC<RollableRowProps> = ({ rollableProps, setItem, index }) => {\r\n    const { name, magnitude, magnitudeType } = rollableProps;\r\n    const onRemoveClick = () => {\r\n        setItem((i: Rollable) => {\r\n            const wp = i.rollableProps || [];\r\n\r\n            return {\r\n                ...i,\r\n                rollableProps: wp.filter((rp, i) => index !== i),\r\n            };\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className='rollable-row'>\r\n            <div id='rr-name'>{name}</div>\r\n            <div id='rr-dice'>{magnitude}</div>\r\n            <div id='rr-type'>{magnitudeType}</div>\r\n            <div id='rr-trash'>\r\n                <i className='fas fa-trash-alt hoverable color-off-primary-hover' onClick={onRemoveClick}></i>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\ninterface ItemFormProps {\r\n    item: Rollable;\r\n    setItem: Dispatch<SetStateAction<Rollable>>;\r\n}\r\n\r\nconst RollableEditForm: React.FC<ItemFormProps> = ({ item, setItem }) => {\r\n    const initialValues = {\r\n        name: '',\r\n        magnitude: '',\r\n        magnitudeType: '',\r\n    };\r\n    const [rpVals, setRpVals] = useState(initialValues);\r\n\r\n    const clearRefs = () => {\r\n        setRpVals(initialValues);\r\n    };\r\n    const getPropsFromRefs = () => {\r\n        return rpVals as RollableProperty;\r\n    };\r\n\r\n    const onAddClick = () => {\r\n        setItem((i: Rollable) => {\r\n            const wps: RollableProperty[] = i.rollableProps || [];\r\n            return { ...i, rollableProps: [...wps, getPropsFromRefs()] };\r\n        });\r\n        clearRefs();\r\n    };\r\n\r\n    return (\r\n        <div className='rp-form'>\r\n            <div className='rp-name'>\r\n                <input type='text' value={rpVals.name} onChange={(e) => setRpVals((v) => ({ ...v, name: e.target.value }))} placeholder='Name' />\r\n            </div>\r\n            <div className='rp-dice'>\r\n                <input type='text' value={rpVals.magnitude} onChange={(e) => setRpVals((v) => ({ ...v, magnitude: e.target.value }))} placeholder='Dice' />\r\n            </div>\r\n            <div className='rp-type'>\r\n                <input type='text' value={rpVals.magnitudeType} onChange={(e) => setRpVals((v) => ({ ...v, magnitudeType: e.target.value }))} placeholder='Type' />\r\n            </div>\r\n            <div className='rp-add'>\r\n                <i className='far fa-plus-square hoverable' onClick={onAddClick}></i>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const RollablePropertyForm: React.FC<ItemFormProps> = (props) => {\r\n    const { item } = props;\r\n    const { rollableProps } = item;\r\n    const [rows, setRows] = useState<JSX.Element[]>([]);\r\n    useEffect(() => {\r\n        if (!rollableProps || rollableProps === undefined) return;\r\n        const r = rollableProps.map((rp, index) => <RollableEditRow setItem={props.setItem} rollableProps={rp} index={index} key={index} />);\r\n        setRows(r);\r\n    }, [rollableProps, props.setItem]);\r\n    return (\r\n        <div className='rollable-property'>\r\n            <div className='form'>\r\n                <RollableEditForm {...props} />\r\n            </div>\r\n            <div className='list'>{rows}</div>\r\n        </div>\r\n    );\r\n};\r\n","import React, { Dispatch, useState } from 'react';\r\nimport { WikiReference } from 'src/components/misc/WikiReference';\r\nimport { useModal } from 'src/components/Modal';\r\nimport { CharacterProps, Section } from '..';\r\nimport { iItemModel, Rollable } from '../../../models/items';\r\nimport { ItemType, ItemTypes } from '../../../models/items/ItemType';\r\nimport { Rarities, Rarity } from '../../../models/items/Rarity';\r\nimport { ItemCard } from './ItemCard';\r\nimport { RollablePropertyForm } from './RollableProperty';\r\nexport const AddRPHeader = () => {\r\n    const [toggleRpInfo, rpModal] = useModal(\r\n        <>\r\n            <p style={{ marginTop: '2em' }}>\r\n                These are <em>Rollable Properties</em>. You can attach dice to your items and spells. These are predefined values for quick rolling.\r\n            </p>\r\n        </>\r\n    );\r\n    const handleQuestionClick = () => {\r\n        toggleRpInfo();\r\n    };\r\n    return (\r\n        <>\r\n            {rpModal}\r\n            <h5 style={{ color: '#1f1f1f', overflow: 'visible' }}>\r\n                Add Rollable Property\r\n                <i title={'Wiki Reference'} onClick={handleQuestionClick} className='far fa-question-circle info hoverable-half' style={{ position: 'relative', top: '.1em' }}></i>\r\n            </h5>\r\n        </>\r\n    );\r\n}\r\n/*\r\n    The item card should take in an item object and render its details.\r\n    \r\n    It should be displayed in a tiled-grid form similar to a equipment card\r\n*/\r\nconst mapItemTypes = (): JSX.Element[] => {\r\n    const els: JSX.Element[] = [];\r\n    ItemTypes.forEach((key, index) => {\r\n        els.push(\r\n            <option key={index} value={index}>\r\n                {key.name}\r\n            </option>\r\n        );\r\n    });\r\n    return els;\r\n};\r\n\r\nconst mapRarityLevels = (): JSX.Element[] => {\r\n    const els: JSX.Element[] = Rarities.map((rarity, index) => {\r\n        return (\r\n            <option key={index} value={index}>\r\n                {rarity}\r\n            </option>\r\n        );\r\n    });\r\n    return els;\r\n};\r\n\r\ninterface SelectProps {\r\n    onChange: React.ChangeEventHandler<HTMLSelectElement>;\r\n    defaultValue: string;\r\n}\r\nconst SelectItemType: React.FC<SelectProps> = (props) => {\r\n    return (\r\n        <select value={props.defaultValue} onChange={props.onChange} name='item-type' id='item-type' style={{ width: '100%', height: '100%' }}>\r\n            <option style={{ color: 'darkgray' }}>Chose a Type...</option>\r\n            {mapItemTypes()}\r\n        </select>\r\n    );\r\n};\r\n\r\nconst SelectRarity: React.FC<SelectProps> = (props) => {\r\n    return (\r\n        <select value={props.defaultValue} onChange={props.onChange} name='item-rarity' id='item-rarity' style={{ width: '100%', height: '100%' }}>\r\n            <option style={{ color: 'darkgray' }}>Chose a Rarity...</option>\r\n            {mapRarityLevels()}\r\n        </select>\r\n    );\r\n};\r\n\r\nconst blankItem: iItemModel = {\r\n    name: '',\r\n    cost: '',\r\n    description: '',\r\n    weight: '',\r\n    rarity: Rarity.COMMON,\r\n    type: ItemType.WEAPON,\r\n    rollableProps: [],\r\n};\r\nexport const Items: React.FC<CharacterProps> = ({ character }) => {\r\n    const [item, setItem] = useState<iItemModel>(blankItem);\r\n    const renderItems = () => {\r\n        return character.items.items.map((item, index) => {\r\n            return <ItemCard character={character} item={item} key={index} />;\r\n        });\r\n    };\r\n\r\n    const handleSubmit = () => {\r\n        if (!item.name) return;\r\n        character.items.addItem(item);\r\n        setItem(blankItem);\r\n    };\r\n\r\n    return (\r\n        <Section header='Items' id='items' title='Items' wikiReference='https://www.dndbeyond.com/equipment' icon='fas fa-swords'>\r\n            <div className='create-sec-items'>\r\n                <div className='item-form'>\r\n                    <div id='name'>\r\n                        <h3>\r\n                            <input\r\n                                type='text'\r\n                                id='item-name'\r\n                                placeholder='Name'\r\n                                onChange={(e) =>\r\n                                    setItem((i) => ({\r\n                                        ...i,\r\n                                        name: e.target.value,\r\n                                    }))\r\n                                }\r\n                                value={item.name}\r\n                            />\r\n                        </h3>\r\n                    </div>\r\n                    <div id='rarity'>\r\n                        <SelectRarity\r\n                            defaultValue={`${item.rarity || ''}`}\r\n                            onChange={(e) =>\r\n                                setItem((i) => ({\r\n                                    ...i,\r\n                                    rarity: parseInt(e.target.value),\r\n                                }))\r\n                            }\r\n                        />\r\n                    </div>\r\n                    <div id='type'>\r\n                        <SelectItemType\r\n                            defaultValue={`${item.type || ''}`}\r\n                            onChange={(e) => {\r\n                                console.log(e.target.value);\r\n                                setItem((i) => ({\r\n                                    ...i,\r\n                                    type: parseInt(e.target.value),\r\n                                }));\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div id='weight'>\r\n                        <input\r\n                            type='text'\r\n                            name='item-weight'\r\n                            id='item-weight'\r\n                            placeholder='Weight'\r\n                            onChange={(e) =>\r\n                                setItem((i) => ({\r\n                                    ...i,\r\n                                    weight: e.target.value,\r\n                                }))\r\n                            }\r\n                            value={item.weight}\r\n                        />\r\n                    </div>\r\n                    <div id='cost'>\r\n                        <input\r\n                            type='text'\r\n                            name='item-cost'\r\n                            id='item-cost'\r\n                            onChange={(e) =>\r\n                                setItem((i) => ({\r\n                                    ...i,\r\n                                    cost: e.target.value,\r\n                                }))\r\n                            }\r\n                            placeholder='Cost'\r\n                            value={item.cost}\r\n                        />\r\n                    </div>\r\n                    <div id='desc'>\r\n                        <textarea\r\n                            placeholder='Description'\r\n                            name='item-description'\r\n                            id='item-description'\r\n                            onChange={(e) =>\r\n                                setItem((i) => ({\r\n                                    ...i,\r\n                                    description: e.target.value,\r\n                                }))\r\n                            }\r\n                            style={{\r\n                                display: 'block',\r\n                                width: '100%',\r\n                                height: '100%',\r\n                                padding: '1em',\r\n                                resize: 'none',\r\n                            }}\r\n                            value={item.description}\r\n                        ></textarea>\r\n                    </div>\r\n                    <div id='rollable-property'>\r\n                        <AddRPHeader />\r\n                        <RollablePropertyForm item={item} setItem={setItem as Dispatch<React.SetStateAction<Rollable>>} />\r\n                    </div>\r\n                    <div id='submit'>\r\n                        <button\r\n                            className='add-item'\r\n                            style={{\r\n                                display: 'block',\r\n                                width: '100%',\r\n                                height: '100%',\r\n                            }}\r\n                            onClick={(e) => handleSubmit()}\r\n                        >\r\n                            Add Item\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className='item-cards-container'>\r\n                    <fieldset className='item-cards'>\r\n                        <legend>Items</legend>\r\n                        {renderItems()}\r\n                    </fieldset>\r\n                </div>\r\n            </div>\r\n        </Section>\r\n    );\r\n};\r\n","import { useModal } from 'src/components/Modal';\r\nimport { iFeatModel } from 'src/models/feats/feats';\r\nimport { CharacterProps } from '..';\r\nimport { RollablePropertyModal } from '../Items/RollablePropertyModal';\r\n\r\ninterface FeatCardProps extends CharacterProps {\r\n    feat: iFeatModel;\r\n}\r\n\r\nexport const FeatCard: React.FC<FeatCardProps> = ({ feat, character }) => {\r\n    const [toggleOpen, featModal] = useModal(<RollablePropertyModal character={character} weaponProps={feat.rollableProps} />);\r\n    const { rollableProps } = feat;\r\n\r\n    return (\r\n        <>\r\n            {featModal}\r\n            <div className='feat-card'>\r\n                <div className='feat-card-container'>\r\n                    <div className='feat-card-content'>\r\n                        <header className='header'>\r\n                            <h4>{feat.name}</h4>\r\n                        </header>\r\n\r\n                        <div className='description'>{feat.notes}</div>\r\n\r\n                        <div className='rollable center-content'>\r\n                            <i\r\n                                className={`fas fa-dice-d20 rollable ${rollableProps.length !== 0 && 'hoverable-half color-primary-hover'}`}\r\n                                onClick={toggleOpen}\r\n                                style={{\r\n                                    color: rollableProps.length !== 0 ? 'black' : '#919191',\r\n                                }}\r\n                            ></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","import { useCallback, useState } from 'react';\r\nimport { blankFeat } from 'src/models/feats/feats';\r\nimport { Rollable } from 'src/models/items';\r\nimport { CharacterProps } from '..';\r\nimport { AddRPHeader } from '../Items';\r\nimport { RollablePropertyForm } from '../Items/RollableProperty';\r\nimport { Section } from '../Section';\r\nimport { FeatCard } from './FeatCard';\r\n\r\nexport const Feats: React.FC<CharacterProps> = ({ character }) => {\r\n    const [feat, setFeat] = useState(blankFeat);\r\n    const mapFeats = useCallback(() => {\r\n        return character.feats.feats.map((f) => <FeatCard character={character} feat={f} />);\r\n    }, [character.feats.feats]);\r\n    const handleSubmit = useCallback(() => {\r\n        character.feats.addFeat(feat);\r\n        setFeat(blankFeat);\r\n    }, [feat, setFeat]);\r\n    return (\r\n        <Section id='features' header='Features and Traits' title='Features and Traits' icon='fas fa-diagnoses' wikiReference='https://d-n-d5e.fandom.com/wiki/Feats'>\r\n            <div className='create-sec-feats'>\r\n                <div className='feats-form'>\r\n                    <h4>\r\n                        <input type='text' value={feat.name} id='feat-name' onChange={(e) => setFeat((f) => ({ ...f, name: e.target.value }))} placeholder='Name' />\r\n                    </h4>\r\n                    <textarea name='feat-desc' id='feat-desc' value={feat.notes} onChange={(e) => setFeat((f) => ({ ...f, notes: e.target.value }))} placeholder='Description'></textarea>\r\n                    <div>\r\n                        <AddRPHeader />\r\n                        <RollablePropertyForm item={feat} setItem={setFeat as React.Dispatch<React.SetStateAction<Rollable>>} />\r\n                    </div>\r\n                    <div className='submit'>\r\n                        <button onClick={handleSubmit}>Add Feat</button>\r\n                    </div>\r\n                </div>\r\n                <div className='item-cards-container'>\r\n                    <fieldset className='item-cards'>\r\n                        <legend>Feats</legend>\r\n                        {mapFeats()}\r\n                    </fieldset>\r\n                </div>\r\n            </div>\r\n        </Section>\r\n    );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Sidebar: React.FC = (props) => {\r\n\r\n\r\n    return (\r\n        <div className=\"page-sidebar-container\">\r\n            <aside className=\"page-sidebar\">\r\n                {props.children}\r\n            </aside>\r\n        </div>\r\n    );\r\n}","import { CharacterProps } from \".\";\r\ninterface CharacterInfoProps extends CharacterProps {\r\n    className?: string;\r\n    style?: React.CSSProperties;\r\n}\r\nexport const CharacterInfo: React.FC<CharacterInfoProps> = ({ character, className, style }) => {\r\n    const renderInfo = () => {\r\n        const { classes } = character.classes;\r\n        const { race } = character;\r\n        const the = () => (classes.length !== 0 || race.length !== 0) ? \"The\" : \"\";\r\n        const hyphen = () => (classes.length !== 0 && race.length !== 0) ? \"-\" : \"\";\r\n\r\n        const mapClasses = (() => {\r\n            return classes.map((c, index) => {\r\n                return (\r\n                    <span key={`header-class-${index}`}>\r\n                        {c.name} {c.level ? <sub className=\"create-level-sub\">{c.level}</sub> : \"\"}{index < classes.length - 1 ? \", \" : \"\"}\r\n                    </span>\r\n                );\r\n            })\r\n        })\r\n        return (\r\n            <div className={className} style={style}>\r\n                {the()} <span>{race}</span> {hyphen()} <span>{mapClasses()}</span>\r\n            </div>\r\n        );\r\n    }\r\n    return (renderInfo());\r\n}","import { CharacterProps } from '.';\r\nimport { SaveUploadCharacter } from '../SaveUploadCharacter';\r\nimport { Sidebar } from '../Sidebar';\r\nimport { CharacterInfo } from './CharacterInfo';\r\n\r\nexport const MiniStats: React.FC<CharacterProps> = ({ character }) => {\r\n    const renderStats = (): JSX.Element[] => {\r\n        const { stats } = character.stats;\r\n        return stats.map(({ name, value, short_name }) => {\r\n            const mod = character.stats.modifier(name);\r\n            const modifier = mod >= 0 ? `+${mod}` : mod;\r\n            return (\r\n                <div className='center-grid-justified' key={`mini-level-${name}`} style={value !== 0 ? {} : { display: 'none' }}>\r\n                    <div className='left' style={{ marginRight: '.4em' }}>\r\n                        {short_name}:{' '}\r\n                    </div>\r\n                    <div className='right'>\r\n                        {value}\r\n                        <sub>({modifier})</sub>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Sidebar>\r\n            <div className='mini-stats' style={{ height: '100vh', position: 'relative' }}>\r\n                <h3>{character.name}</h3>\r\n                <sub>\r\n                    <CharacterInfo character={character} style={{ fontSize: '.8em', marginBottom: '.5em' }} />\r\n                </sub>\r\n                <div className='mini-stats-stats'>\r\n                    {character.proficiency !== 1 ? <span>Proficiency: +{character.proficiency}</span> : ''}\r\n                    {renderStats()}\r\n                </div>\r\n\r\n                <div\r\n                    style={{\r\n                        position: 'absolute',\r\n                        bottom: '1em',\r\n                        left: '25%',\r\n                    }}\r\n                ></div>\r\n            </div>\r\n        </Sidebar>\r\n    );\r\n};\r\n","export enum SPELL_LEVEL {\r\n    CANTRIP,\r\n    FIRST,\r\n    SECOND,\r\n    THIRD,\r\n    FOURTH,\r\n    FIFTH,\r\n    SIXTH,\r\n    SEVENTH,\r\n    EIGHTH,\r\n    NINTH,\r\n}\r\n\r\nexport const mapSpellLevel = (level: SPELL_LEVEL): string => {\r\n    const map: { [key: number]: string } = {\r\n        [SPELL_LEVEL.CANTRIP]: 'Cantrip',\r\n        [SPELL_LEVEL.FIRST]: '1st',\r\n        [SPELL_LEVEL.SECOND]: '2nd',\r\n        [SPELL_LEVEL.THIRD]: '3rd',\r\n        [SPELL_LEVEL.FOURTH]: '4th',\r\n        [SPELL_LEVEL.FIFTH]: '5th',\r\n        [SPELL_LEVEL.SIXTH]: '6th',\r\n        [SPELL_LEVEL.SEVENTH]: '7th',\r\n        [SPELL_LEVEL.EIGHTH]: '8th',\r\n        [SPELL_LEVEL.NINTH]: '9th',\r\n    };\r\n\r\n    return map[level];\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { CharacterProps } from \".\";\r\nimport { CheckState, TripleCheckBox, TripleCheckBoxLegend } from \"../misc/TripleCheckBox\";\r\nimport { Section } from \"./Section\";\r\n\r\ninterface ProficiencyProps extends CharacterProps {\r\n    name: string;\r\n    onDelete: (name: string) => void;\r\n}\r\nconst Proficiency: React.FC<ProficiencyProps> = ({ name, onDelete, character }) => {\r\n    /* \r\n        // TODO: I need to add observers to the checkboxes. These need to update the character model appropriately.\r\n    */\r\n    const { proficiencies } = character.otherProficiencies;\r\n    const key = name;\r\n    return (\r\n        <div className=\"center-grid-justified \">\r\n            <div className=\"left\">\r\n                <div className=\"center-grid-justified hoverable color-primary-hover\">\r\n                    <div className=\"left\" style={{ marginRight: '1em' }}><TripleCheckBox id={`tp-${name}`}\r\n                        value={proficiencies[key]?.proficiencyLevel as unknown as CheckState}\r\n                        setValue={(value) => {\r\n                            character.otherProficiencies.setProficiencyLevel(key, value);\r\n                        }}\r\n                    /></div>\r\n                    <div className=\"right\"><label htmlFor={`tp-${name}`} style={{ wordBreak: 'break-word', hyphens: 'auto' }}>{name}</label></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"right\">\r\n                <i className=\"fas fa-trash-alt hoverable color-primary-hover pointer\" title=\"Add\" onClick={() => { onDelete(name) }}></i>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const OtherProficiencies: React.FC<CharacterProps> = ({ character }) => {\r\n    const [proficiencyText, setProficiencyText] = useState(\"\");\r\n    const [proficiencies, setProficiencies] = useState<JSX.Element[]>([]);\r\n\r\n    useEffect(() => {\r\n        const { proficiencies } = character.otherProficiencies;\r\n        const onDelete = (name: string) => {\r\n            character.otherProficiencies.removeProficiency(name);\r\n            setProficiencies((oldProfs => oldProfs.filter(oldName => oldName.key !== name)));\r\n        }\r\n        //rerender\r\n        const els: JSX.Element[] = [];\r\n        for (const key in proficiencies) {\r\n            els.push(\r\n                <Proficiency character={character} name={key} onDelete={onDelete} key={key} />\r\n            )\r\n        }\r\n        setProficiencies(els);\r\n        // // !I think I need to rework how profs get rendered for this to work\r\n\r\n    }, [character, character.otherProficiencies, character.otherProficiencies.proficiencies])\r\n\r\n\r\n\r\n\r\n\r\n    const handleChange = (value: string) => {\r\n        if (value === \"\") return;\r\n        character.otherProficiencies.addProficiency(value);\r\n        //since we add to the character we can add a useeffect hook\r\n\r\n        setProficiencyText(\"\");\r\n    }\r\n\r\n    const handleKeyDown: React.KeyboardEventHandler<HTMLInputElement> = (e) => {\r\n        if (e.key === 'Enter') {\r\n            handleChange(proficiencyText);\r\n        }\r\n\r\n    }\r\n    return (\r\n        <Section id=\"other-proficiencies\" icon=\"fas fa-toolbox\" title=\"Other Proficiencies\" header=\"Other Proficiencies\" wikiReference=\"https://5thsrd.org/character/languages/\">\r\n            <div style={{ width: '100%', marginBottom: '2em' }}>\r\n                <TripleCheckBoxLegend />\r\n                <div className=\"add-other-proficiency\">\r\n\r\n                    <input type=\"text\" placeholder=\"Elvish\" value={proficiencyText} onChange={(e) => setProficiencyText(e.target.value)} onKeyDown={handleKeyDown} /><i className=\"far fa-plus-square hoverable-half color-primary-hover\" onClick={() => handleChange(proficiencyText)} ></i>\r\n                </div>\r\n                <div className=\"other-proficiency-list\">\r\n                    {proficiencies}\r\n                </div>\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import React, { useCallback } from 'react';\r\nimport { CharacterProps } from '.';\r\nimport { iCharacter } from '../../models/character';\r\nimport { CheckState, TripleCheckBox, TripleCheckBoxLegend } from '../misc/TripleCheckBox';\r\nimport { Section } from './Section';\r\n\r\nexport const SavingThrows: React.FC<CharacterProps> = ({ character }) => {\r\n    const renderStats = useCallback((character: iCharacter) => {\r\n        const padding: React.CSSProperties = { marginRight: '.5em' };\r\n        const { savingThrows } = character.savingThrows;\r\n        const els = [];\r\n        for (const name in savingThrows) {\r\n            const proficiencyLevel = savingThrows[name];\r\n            const mod = character.savingThrows.getProficiencyValue(name, character);\r\n            const modifier = mod >= 0 ? `+${mod}` : mod;\r\n            els.push(\r\n                <div\r\n                    className='center-grid-justified centered hoverable-half color-primary-hover no-select'\r\n                    key={`saving-throw-${name}`}\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                        (e.currentTarget.querySelector('.checkbox') as HTMLDivElement)?.click();\r\n                    }}\r\n                >\r\n                    <div className='center-grid-justified'>\r\n                        <div className='left'>\r\n                            <TripleCheckBox\r\n                                name={name}\r\n                                id={`checkbox-${name}`}\r\n                                style={{ ...padding }}\r\n                                value={proficiencyLevel as unknown as CheckState}\r\n                                setValue={(value) => {\r\n                                    character.savingThrows.setProficiencyLevel(name, value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className='right'>\r\n                            <label htmlFor={`checkbox-${name}`}>{name}</label>\r\n                        </div>\r\n                    </div>\r\n                    <div className='right' style={{ marginLeft: '.2em' }}>\r\n                        <span style={{ fontSize: '.7em' }}>({modifier})</span>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return els;\r\n    }, []);\r\n\r\n    return (\r\n        <Section id='saving-throws' title='Saving Throws' header='Saving Throws' icon='fas fa-shield-virus' wikiReference='https://roll20.net/compendium/dnd5e/Ability%20Scores#toc_35'>\r\n            <div style={{ width: '100%' }}>\r\n                <TripleCheckBoxLegend style={{ marginBottom: '.5em' }} />\r\n                <div className='create-sec-saving-throws'>{renderStats(character)}</div>\r\n            </div>\r\n        </Section>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { iCharacter } from '../../models/character';\r\nimport { CheckState, TripleCheckBox, TripleCheckBoxLegend } from '../misc/TripleCheckBox';\r\nimport { Section } from './Section';\r\n\r\ninterface ProficienciesProps {\r\n    character: iCharacter;\r\n}\r\n\r\nconst mapProficiencies = (character: iCharacter) => {\r\n    const padding: React.CSSProperties = { marginRight: '.5em' };\r\n    const { proficiencies } = character.proficiencies;\r\n    const els: JSX.Element[] = [];\r\n    for (let key in proficiencies) {\r\n        const { proficiencyLevel, governingSkill } = proficiencies[key];\r\n        const gs = governingSkill ? character.stats.modifier(governingSkill) : 0;\r\n        const mod = gs + proficiencyLevel * character.proficiency;\r\n        const modifier = mod >= 0 ? `+${mod}` : mod;\r\n        els.push(\r\n            <div\r\n                className='center-grid-justified hoverable color-primary-hover'\r\n                key={`tpk-${key}`}\r\n                onClick={(e) => {\r\n                    (e.currentTarget.querySelector('.checkbox') as HTMLDivElement)?.click();\r\n                }}\r\n            >\r\n                <div className='left'>\r\n                    <div className='center-grid-justified'>\r\n                        <div className='left'>\r\n                            <TripleCheckBox\r\n                                id={`tp-${key}`}\r\n                                name={`tp-${key}`}\r\n                                style={padding}\r\n                                value={proficiencies[key].proficiencyLevel as unknown as CheckState}\r\n                                setValue={(value) => {\r\n                                    character.proficiencies.setProficiencyLevel(key, value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className='right' style={{ width: '14ch' }}>\r\n                            <label style={{ display: 'inline-block' }} htmlFor={`tp-${key}`} onClick={(e) => e.preventDefault()}>\r\n                                {key}\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='right'>\r\n                    <div className='center-grid-justified'>\r\n                        <div className='left'>\r\n                            <div className='create-proficiencies-subheader' style={{ marginRight: '.2em' }}>\r\n                                {governingSkill?.substring(0, 3)}\r\n                            </div>\r\n                        </div>\r\n                        <div className='right'>\r\n                            <span style={{ fontSize: '.7em', userSelect: 'none' }}>({modifier})</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return els;\r\n};\r\n\r\nexport const Skills: React.FC<ProficienciesProps> = ({ character }) => {\r\n    return (\r\n        <Section id='skills' title='Skills' header='Skills' icon='fas fa-plus' wikiReference='https://roll20.net/compendium/dnd5e/Ability%20Scores#toc_3'>\r\n            <div style={{ width: '100%' }}>\r\n                <TripleCheckBoxLegend style={{ marginBottom: '.5em' }} />\r\n                <div className='center-content'>\r\n                    <div className='create-sec-proficiencies'>{mapProficiencies(character)}</div>\r\n                </div>\r\n            </div>\r\n        </Section>\r\n    );\r\n};\r\n","export enum SPELL_SCHOOL {\r\n    NONE = '',\r\n    ABJURATION = 'Abjuration',\r\n    CONJURATION = 'Conjuration',\r\n    DIVINATION = 'Divination',\r\n    ENCHANTMENT = 'Enchantment',\r\n    EVOCATION = 'Evocation',\r\n    ILLUSION = 'Illusion',\r\n    NECROMANCY = 'Necromancy',\r\n}\r\n\r\nexport const mapSpellSchool = (school: SPELL_SCHOOL) => {\r\n    const icons: { [key: string]: string } = {\r\n        [SPELL_SCHOOL.NONE]: '',\r\n        [SPELL_SCHOOL.ABJURATION]: 'fas fa-shield-cross',\r\n        [SPELL_SCHOOL.CONJURATION]: 'fas fa-construction',\r\n        [SPELL_SCHOOL.DIVINATION]: 'fas fa-scroll-old',\r\n        [SPELL_SCHOOL.ENCHANTMENT]: 'fas fa-hand-sparkles',\r\n        [SPELL_SCHOOL.EVOCATION]: 'fas fa-fire',\r\n        [SPELL_SCHOOL.ILLUSION]: 'fas fa-smoke',\r\n        [SPELL_SCHOOL.NECROMANCY]: 'fas fa-skull',\r\n    };\r\n\r\n    return icons[school];\r\n};\r\n","import { useCallback, useState } from 'react';\r\nimport { Rollable } from '../items';\r\nimport { SPELL_LEVEL } from './SpellLevel';\r\nimport { SPELL_SCHOOL } from './SpellSchool';\r\n\r\n/**\r\n * This is the schema for a single spell\r\n */\r\nexport interface iSpellModel extends Rollable {\r\n    name: string;\r\n    level: SPELL_LEVEL;\r\n    school: SPELL_SCHOOL;\r\n    casting_time: string;\r\n    range: string;\r\n    component: string;\r\n    duration: string;\r\n    description: string;\r\n}\r\n\r\n/**\r\n * From now on I shouldn't use optional properties, it gets too confusing\r\n * Every interface will come with a blank version so there is always a default value\r\n * for everything\r\n */\r\nconsole.log(SPELL_LEVEL);\r\nexport const blankSpell: iSpellModel = {\r\n    name: '',\r\n    level: SPELL_LEVEL.CANTRIP,\r\n    school: SPELL_SCHOOL.NONE,\r\n    casting_time: '',\r\n    range: '',\r\n    component: '',\r\n    duration: '',\r\n    description: '',\r\n    rollableProps: [],\r\n};\r\n\r\n/**\r\n * A template of an array for spells. The array should have exactly 10 indicies in the first direction\r\n * Each index in the first direction represents the level of the spell.\r\n *\r\n * [...cantrips],[...first],[...second],[...third],[...fourth],[...fifth],[...sixth],[...seventh],[...eighth],[...ninth]\r\n *\r\n * @type {iSpellModel[][]}\r\n */\r\nexport const blankSpells: iSpellModel[][] = [[], [], [], [], [], [], [], [], [], []];\r\n\r\n/**\r\n *\r\n * @param incomingSpells {iSpellModel[][]} The array of spells to be deserialized\r\n */\r\nexport const useSpells = (incomingSpells: iSpellModel[][] = blankSpells) => {\r\n    const [spells, setSpells] = useState(incomingSpells);\r\n\r\n    const addSpell = useCallback(\r\n        (spell: iSpellModel) =>\r\n            setSpells((s) => {\r\n                s[spell.level].push(spell);\r\n                return s;\r\n            }),\r\n        [setSpells]\r\n    );\r\n\r\n    const removeSpell = useCallback(\r\n        (coords: [number, number]) => {\r\n            const [x, y] = coords;\r\n            setSpells((spells) => {\r\n                spells[x].splice(y, 1);\r\n                return spells;\r\n            });\r\n        },\r\n        [setSpells]\r\n    );\r\n\r\n    const serialize = useCallback(() => spells, [spells]);\r\n    const deserialize = useCallback((spells: iSpellModel[][]) => setSpells(spells), [setSpells]);\r\n\r\n    //Build the object and return it.\r\n    const obj = {\r\n        spells,\r\n        addSpell,\r\n        removeSpell,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n    return obj;\r\n};\r\n\r\nexport type iSpells = ReturnType<typeof useSpells>;\r\n","import { useCallback, useState } from \"react\";\r\nexport enum Money {\r\n    COPPER,\r\n    SILVER,\r\n    ELECTRUM,\r\n    GOLD,\r\n    PLATINUM\r\n}\r\n\r\nconst mapMoney = (money: Money): [string, string] => {\r\n    const map: [string,string][] = [['Copper', 'CP'], ['Silver', 'SP'], ['Electrum', 'EP'], ['Gold', 'GP'], ['Platinum', 'PP']]\r\n    return map[money];\r\n}\r\nexport type iMoneyModel = [number,number,number,number,number]\r\nexport type iMoney = ReturnType<typeof useMoney>;\r\n    export const useMoney = (m: iMoneyModel) => {\r\n        const [money, setMoney] = useState<iMoneyModel>(m || [0, 0, 0, 0, 0]);\r\n        const _modifyMoney = useCallback((money: Money, amount: number) => {\r\n            setMoney((oldMoney) => {\r\n                oldMoney[money] += amount;\r\n                return oldMoney;\r\n            })\r\n        }, [setMoney])\r\n        const addMoney = useCallback((money: Money, amount: number) => {\r\n            setMoney((oldMoney) => {\r\n                oldMoney[money] += Math.abs(amount);\r\n                return oldMoney;\r\n            })\r\n        }, [setMoney])\r\n        const removeMoney = useCallback((money: Money, amount: number) => {\r\n            setMoney((oldMoney) => {\r\n                oldMoney[money] += Math.abs(amount) * -1;\r\n                return oldMoney;\r\n            })\r\n        }, [setMoney])\r\n\r\n        const serialize = useCallback(() => money, [money]);\r\n        const deserialize = useCallback((money: iMoneyModel) => setMoney(money), [setMoney]);\r\n\r\n        const obj = {\r\n            money,\r\n            addMoney,\r\n            removeMoney, \r\n            serialize,\r\n            deserialize\r\n            \r\n        }\r\n        \r\n        return obj;\r\n}","import { useModal } from 'src/components/Modal';\r\nimport { iCharacter } from 'src/models/character';\r\nimport { iSpellModel } from 'src/models/spells';\r\nimport { mapSpellLevel } from 'src/models/spells/SpellLevel';\r\nimport { mapSpellSchool } from 'src/models/spells/SpellSchool';\r\nimport { RollablePropertyModal } from '../Items/RollablePropertyModal';\r\n\r\ninterface SpellCardProps {\r\n    spell: iSpellModel;\r\n    character: iCharacter;\r\n}\r\nexport const SpellCard: React.FC<SpellCardProps> = ({ spell, character }) => {\r\n    const { name, level, range, casting_time, component, description, duration, school, rollableProps } = spell;\r\n    const [toggleRPModal, rpModal] = useModal(\r\n        <>\r\n            <RollablePropertyModal weaponProps={spell.rollableProps} character={character} />\r\n        </>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            {rpModal}\r\n            <div className='spell-card-container'>\r\n                <div className='spell-card-content'>\r\n                    <div className='spell-card-header'>\r\n                        <div id='sc-name'>\r\n                            <h6>{name}</h6>\r\n                        </div>\r\n                        <div id='sc-level'>{mapSpellLevel(level)}</div>\r\n                        <div id='sc-school'>\r\n                            <i className={mapSpellSchool(school)}></i>\r\n                            <span>{school}</span>\r\n                        </div>\r\n                        <div id='sc-range'>{range}</div>\r\n                        <div id='sc-cast'>{casting_time}</div>\r\n                        <div id='sc-dur'>{duration}</div>\r\n                        <div id='sc-components'>{component}</div>\r\n                    </div>\r\n                    <div className='spell-card-description'>\r\n                        <div className='description'>{description}</div>\r\n                    </div>\r\n                    <div className='spell-card-rollable'>\r\n                        <div className='rollable'>\r\n                            <i\r\n                                className={`fas fa-dice-d20 rollable ${rollableProps.length !== 0 && 'hoverable-half color-primary-hover'}`}\r\n                                onClick={toggleRPModal}\r\n                                style={{\r\n                                    color: rollableProps.length !== 0 ? 'black' : '#919191',\r\n                                }}\r\n                            ></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","import { e } from \"mathjs\";\r\nimport { SetStateAction } from \"react\";\r\nimport { iSpellModel } from \"src/models/spells\";\r\nimport { mapSpellLevel, SPELL_LEVEL } from \"src/models/spells/SpellLevel\";\r\nimport { SPELL_SCHOOL } from \"src/models/spells/SpellSchool\";\r\n\r\nconst SelectLevel: React.FC<SpellFormProps & { value: string }> = ({ value, setSpell }) => {\r\n    const mapOptions = () => {\r\n        const levels: string[] = [];\r\n        const keys = Object.keys(SPELL_LEVEL);\r\n        keys.splice(0, keys.length / 2)\r\n        console.log(keys);\r\n        for (const level in keys) {\r\n            levels.push(mapSpellLevel(parseInt(level)));\r\n        }\r\n\r\n        return levels.map((level, index) => {\r\n            return (\r\n                <option value={index as SPELL_LEVEL} key={index} >{level}</option>\r\n            );\r\n        })\r\n    }\r\n    return (\r\n        <select name=\"spell-level\" id=\"sf-level\" defaultValue={value} onChange={(e) => setSpell(spell => ({ ...spell, level: parseInt(e.target.value) }))}>\r\n            <option value=\"\">Chose a level...</option>\r\n            {mapOptions()}\r\n        </select>\r\n    );\r\n}\r\nconst SelectSchool: React.FC<SpellFormProps & { value: string }> = ({ value, setSpell }) => {\r\n    const mapOptions = () => {\r\n        const levels: string[] = Object.keys(SPELL_SCHOOL);\r\n        levels.shift();\r\n\r\n        return levels.map((level, index) => {\r\n            const l = level.substring(0, 1).toUpperCase() + level.substring(1).toLowerCase();\r\n            return (\r\n                <option value={level} key={index} >{l}</option>\r\n            );\r\n        })\r\n    }\r\n    return (\r\n        <select name=\"spell-school\" id=\"sf-school\" defaultValue={value} onChange={(e) => setSpell(spell => ({ ...spell, school: e.target.value as SPELL_SCHOOL }))}>\r\n            <option value=\"\">Chose a school...</option>\r\n            {mapOptions()}\r\n        </select>\r\n    );\r\n}\r\ninterface SpellFormProps {\r\n    setSpell: React.Dispatch<SetStateAction<iSpellModel>>\r\n}\r\nexport const SpellForm: React.FC<SpellFormProps & { spell: iSpellModel }> = ({ spell, setSpell }) => {\r\n\r\n    return (\r\n        <div className=\"spell-form\">\r\n            <h3 id=\"sf-name\"><input type=\"text\" placeholder=\"Name\" value={spell.name} onChange={(e) => setSpell(spell => ({ ...spell, name: e.target.value }))} /></h3>\r\n            <SelectLevel setSpell={setSpell} value={spell.level + \"\"} /> <SelectSchool value={spell.school} setSpell={setSpell} />\r\n            <input type=\"text\" id=\"sf-casting-time\" placeholder=\"Casting Time\" value={spell.casting_time} onChange={(e) => setSpell(spell => ({ ...spell, casting_time: e.target.value }))} />\r\n            <input type=\"text\" id=\"sf-range\" placeholder=\"Range\" value={spell.range} onChange={(e) => setSpell(spell => ({ ...spell, range: e.target.value }))} />\r\n            <input type=\"text\" id=\"sf-component\" placeholder=\"Component\" value={spell.component} onChange={(e) => setSpell(spell => ({ ...spell, component: e.target.value }))} />\r\n            <input type=\"text\" id=\"sf-duration\" placeholder=\"Duration\" value={spell.duration} onChange={(e) => setSpell(spell => ({ ...spell, duration: e.target.value }))} />\r\n            <textarea name=\"sf-description\" id=\"sf-description\" value={spell.description} placeholder=\"Description\" onChange={(e) => setSpell(spell => ({ ...spell, description: e.target.value }))} style={{ padding: '1em' }}></textarea>\r\n        </div>\r\n    );\r\n}","import { useCallback } from 'react';\r\nimport { Dispatch, useState } from 'react';\r\nimport { Rollable } from 'src/models/items';\r\nimport { blankSpell, iSpellModel } from 'src/models/spells';\r\nimport { CharacterProps } from '..';\r\nimport { AddRPHeader } from '../Items';\r\nimport { RollablePropertyForm } from '../Items/RollableProperty';\r\nimport { Section } from '../Section';\r\nimport { SpellCard } from './SpellCard';\r\nimport { SpellForm } from './SpellForm';\r\n\r\nexport const Spells: React.FC<CharacterProps> = ({ character }) => {\r\n    const [spell, setSpell] = useState<iSpellModel>(blankSpell);\r\n    const handleSubmit = useCallback(() => {\r\n        if (!spell.name) return;\r\n        character.spells.addSpell(spell);\r\n        setSpell(blankSpell);\r\n    }, [spell, setSpell]);\r\n\r\n    const MapSpells = () => {\r\n        const cards: JSX.Element[] = [];\r\n        character.spells.spells.forEach((level) => {\r\n            level.forEach((spell) => {\r\n                cards.push(<SpellCard spell={spell} character={character} />);\r\n            });\r\n        });\r\n        return cards;\r\n    };\r\n\r\n    return (\r\n        <Section header='Spells' icon='fas fa-magic' id='spells' title='Spells' wikiReference='http://dnd5e.wikidot.com/spells'>\r\n            <div className='create-sec-spells'>\r\n                <SpellForm spell={spell} setSpell={setSpell} />\r\n                <div style={{ paddingTop: '.5em' }}>\r\n                    <AddRPHeader />\r\n                    <RollablePropertyForm item={spell} setItem={setSpell as Dispatch<React.SetStateAction<Rollable>>} />\r\n                </div>\r\n                <div className='submit'>\r\n                    <button onClick={handleSubmit}>Add Spell</button>\r\n                </div>\r\n                <div className='item-cards-container'>\r\n                    <fieldset className='item-cards'>\r\n                        <legend>Spells</legend>\r\n                        {MapSpells()}\r\n                    </fieldset>\r\n                </div>\r\n            </div>\r\n        </Section>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { CharacterProps } from '.';\r\nimport { iCharacter } from '../../models/character';\r\nimport { iStatModel } from '../../models/stats';\r\nimport { useDice } from '../../models/dice/dice';\r\nimport { CharacterInfo } from './CharacterInfo';\r\n\r\nconst StatHeaders: React.FC<CharacterProps> = ({ character }) => {\r\n    const dice = useDice(character);\r\n\r\n    const onStatHeaderClick = (stat: iStatModel) => {\r\n        character.stats.setValue({ ...stat, value: dice.roll('3:4d6').value });\r\n    };\r\n    const rollStats = (character: iCharacter) => {\r\n        const { stats } = character.stats;\r\n        stats.forEach((stat) => {\r\n            character.stats.setValue({ ...stat, value: dice.roll('3:4d6').value });\r\n        });\r\n    };\r\n    const buildHeaders = (character: iCharacter) => {\r\n        const { stats } = character.stats;\r\n        return stats.map((stat) => {\r\n            const { value, name, short_name } = stat;\r\n            const modifier = character.stats.modifier(name);\r\n            return (\r\n                <div className='stat-header-wrapper' key={`header-${name}`}>\r\n                    <div className='stat-header' title={stat.name} onClick={() => onStatHeaderClick(stat)}>\r\n                        <div className='stat-name'>{short_name || name}</div>\r\n                        <div className='stat-value'>\r\n                            {value}\r\n                            <sub style={{ color: '#000' }}>({modifier >= 0 ? `+${modifier}` : modifier})</sub>\r\n                        </div>\r\n                    </div>\r\n                    <input\r\n                        type='number'\r\n                        key={name}\r\n                        style={{ width: '5ch' }}\r\n                        value={value}\r\n                        onChange={(e) => {\r\n                            character.stats.setValue({ ...stat, value: parseInt(e.target.value) || 0 });\r\n                        }}\r\n                    />\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className='stat-headers'>\r\n            <i className='fas fa-dice stat-dice' style={{ position: 'relative', top: '-.3em' }} title='Roll all Stats' onClick={() => rollStats(character)}></i>\r\n            {buildHeaders(character)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Header: React.FC<CharacterProps> = ({ character }) => {\r\n    return (\r\n        <section className='create-header'>\r\n            <div className='name'>\r\n                <h1 id='character-name' title='Name'>\r\n                    <input\r\n                        type='text'\r\n                        autoComplete='off'\r\n                        className='create-char-name'\r\n                        placeholder='Name'\r\n                        name='character-name'\r\n                        id='character-name'\r\n                        value={character.name}\r\n                        onChange={(e) => character.setName(e.target.value)}\r\n                    />\r\n                </h1>\r\n            </div>\r\n            <div className='classes'>{<CharacterInfo character={character} />}</div>\r\n            <StatHeaders character={character} />\r\n        </section>\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport { iCharacter } from \"../../models/character\";\r\nimport { Section } from \"./Section\";\r\ninterface CreateCharacterRaceProps {\r\n    character: iCharacter\r\n}\r\nexport const Race: React.FC<CreateCharacterRaceProps> = ({ character }) => {\r\n    return (\r\n        <Section id=\"race\" title=\"Race\" header=\"Race\" icon=\"fas fa-users\" wikiReference=\"http://dnd5e.wikidot.com/race\">\r\n            <div className=\"race-select\">\r\n                <input type=\"text\" className=\"race-input\" placeholder={\"Human\"} value={character.race} onChange={(e) => character.setRace(e.target.value)} />\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import React from \"react\";\r\nimport { iCharacter } from \"../../models/character\";\r\nimport { Section } from \"./\";\r\n\r\ninterface CreateCharacterClassProps {\r\n    character: iCharacter;\r\n}\r\nexport const Class: React.FC<CreateCharacterClassProps> = ({ character }) => {\r\n    /*\r\n        We need a solid module for handling these classes.\r\n        A class needs to be attached to the character model as an array of strings\r\n    */\r\n    const classes = [\r\n        'Artificer', 'Barbarian', 'Bard',\r\n        'Blood Hunter', 'Cleric', 'Druid', 'Fighter',\r\n        'Monk', 'Paladin', 'Ranger', 'Rogue',\r\n        'Sorcerer', 'Warlock', 'Wizard'\r\n    ]\r\n\r\n\r\n    const renderClasses = () => {\r\n        return classes.map((c) => {\r\n            return (\r\n                <div key={`class-${c}`} className={'class ' + (character.classes.includes(c) ? 'selected' : '')} onClick={() => character.classes.toggleClass(c)}>\r\n                    <h3>{c}</h3>\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Section id=\"class\" title=\"Class\" header=\"Class\" icon=\"fas fa-magic\" wikiReference=\"http://dnd5e.wikidot.com/#toc20\">\r\n            <div className=\"class-select\">\r\n                {renderClasses()}\r\n            </div>\r\n        </Section>\r\n    )\r\n}","import React from \"react\";\r\nimport { CharacterProps } from \".\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const HitDice: React.FC<CharacterProps> = ({ character }) => {\r\n    //Map over classes, for each class, render a hit dice row\r\n    const renderHitDiceInputs = (): JSX.Element[] => {\r\n        const { classes } = character.classes;\r\n        return classes.map(c => {\r\n            return (\r\n                <div className=\"center-grid-justified\" key={`hd-container-${c.name}`}>\r\n                    <div className=\"left\">\r\n                        <label htmlFor={`hd-level-${c.name}`}>{c.name}: </label>\r\n                    </div>\r\n\r\n                    <div className=\"right\">\r\n                        <input type=\"number\" id={`hd-dice-${c.name}`} className=\"hit-dice-input\" style={{ textAlign: 'right', paddingRight: '.15em' }} placeholder=\"LV\" min=\"1\"\r\n                            value={c.level}\r\n                            onChange={(e) => character.classes.setLevel(c.name, parseInt(e.target.value))}\r\n                        />d\r\n                            <input type=\"number\" className=\"hit-dice-input\"\r\n                            style={{ textAlign: 'left', paddingLeft: '.15em' }}\r\n                            placeholder=\"HD\" min=\"0\"\r\n                            value={c.hitDice || \"\"}\r\n                            onChange={(e) => character.classes.setDice(c.name, parseInt(e.target.value))} />\r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    const renderPlaceholder = () => {\r\n        return (\r\n            <div className=\"center-grid-justified\" key={`hd-container-fighter`} style={{ color: '#555', opacity: '0.5' }} title=\"Choose a class first!\">\r\n                <div className=\"left\">\r\n                    <label htmlFor={`hd-level-\"placeholder`}>Fighter: </label>\r\n                </div>\r\n\r\n                <div className=\"right\">\r\n                    <input disabled type=\"number\" id={`hd-dice-fighter`} className=\"hit-dice-input\" style={{ textAlign: 'right', paddingRight: '.15em' }} placeholder=\"LV\" min=\"1\"\r\n                        value={1}\r\n\r\n                    />d\r\n                            <input disabled type=\"number\" className=\"hit-dice-input\"\r\n                        style={{ textAlign: 'left', paddingLeft: '.15em' }}\r\n                        placeholder=\"HD\" min=\"0\"\r\n                        value={\"\"} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Section id=\"dice\" title=\"Hit Dice\" header=\"Hit Dice\" icon=\"fa fa-dice-d20\" wikiReference=\"https://dungeonsdragons.fandom.com/wiki/Hit_dice\">\r\n            <div style={{ fontSize: \"1.6em\", paddingBottom: '1em' }}>\r\n                {(character.classes.classes.length === 0) ? renderPlaceholder() : renderHitDiceInputs()}\r\n            </div>\r\n        </Section>\r\n    );\r\n}","import { useRef } from \"react\";\r\nimport { iCharacter } from \"../../models/character\";\r\n\r\ninterface HeartContainerProps {\r\n    character: iCharacter;\r\n    size?: string;\r\n\r\n}\r\nexport const HeartContainer: React.FC<HeartContainerProps> = ({ character, size }) => {\r\n    const onHPChange = (value: number) => {\r\n        character.setHP(value);\r\n    }\r\n    const ref = useRef<HTMLInputElement>(null);\r\n    const focusInput = () => {\r\n        ref.current?.focus();\r\n    }\r\n    return (\r\n        <div className=\"hp-heart-container\" style={{ fontSize: size || '5em' }} onClick={(e) => focusInput()}>\r\n            <div className=\"hp-heart-content hoverable color-primary-hover\">\r\n                <div className=\"label\">\r\n                    <span>HP</span>\r\n                </div>\r\n                <div>\r\n\r\n                    <div className=\"heart\">\r\n                        <i className=\"far fa-heart\"></i>\r\n                    </div>\r\n                    <div className=\"input\">\r\n                        <input type=\"number\" ref={ref} placeholder=\"-\" min=\"0\" value={character.hp || \"\"} className=\"hp-input\" onChange={(e) => onHPChange(Math.abs(parseInt(e.target.value)))} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { CharacterProps } from \".\";\r\nimport { HeartContainer } from \"../misc/HeartContainer\";\r\nimport { Section } from \"./Section\";\r\n\r\nexport const Health: React.FC<CharacterProps> = ({ character }) => {\r\n    return (\r\n        <Section id=\"health\" title=\"Health\" header=\"Health\" icon=\"fas fa-heart\" wikiReference=\"https://dungeonsdragons.fandom.com/wiki/Hit_points\">\r\n            <HeartContainer character={character} size=\"2em\" />\r\n        </Section>\r\n    );\r\n}","interface SlidingIconButtonProps extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\r\n    icon: string;\r\n    iconSide?: 'left' | 'right';\r\n}\r\nexport const SlidingIconButton: React.FC<SlidingIconButtonProps> = ({ icon, iconSide, children, className, onClick, title }) => {\r\n    if (!iconSide) iconSide = 'left';\r\n    return (\r\n        <div className={`sliding-icon-button ${className}`} title={title} onClick={onClick}>\r\n            {iconSide === 'left' ? (\r\n                <>\r\n                    <i className={`sliding-icon ${icon}`}></i>\r\n                    <div className={`sliding-text center-content si-${iconSide}`}>{children}</div>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <div className={`sliding-text center-content si-${iconSide}`}>{children}</div>\r\n                    <i className={`sliding-icon ${icon}`}></i>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","import { useRef } from 'react';\r\nimport { iCharacter } from '../models/character';\r\nimport { SlidingIconButton } from './misc/SlidingIconButton';\r\n\r\ninterface SaveUploadCharacterProps {\r\n    character: iCharacter;\r\n}\r\nexport const SaveUploadCharacter: React.FC<SaveUploadCharacterProps> = ({ character }) => {\r\n    const handleSaveClick = () => {\r\n        const characterData = JSON.stringify(character.serialize());\r\n        const element = document.createElement('a');\r\n        const file = new Blob([characterData], { type: 'application/json' });\r\n        element.href = URL.createObjectURL(file);\r\n        element.download = `character-${character.name}.json`;\r\n        document.body.appendChild(element); // Required for this to work in FireFox\r\n        element.click();\r\n    };\r\n\r\n    const handleLoadClick: React.ChangeEventHandler<HTMLInputElement> = (event) => {\r\n        if (!event.target.files) return;\r\n        const file = event.target.files[0];\r\n        if (!file) return;\r\n        const read = new FileReader();\r\n\r\n        read.readAsBinaryString(file);\r\n\r\n        read.onloadend = function () {\r\n            if (typeof read.result === 'string') {\r\n                const char = JSON.parse(read.result);\r\n                character.deserialize(char);\r\n            }\r\n        };\r\n    };\r\n\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n    const clickInput = () => {\r\n        if (inputRef.current) {\r\n            inputRef.current.click();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='upload'>\r\n            <input type='file' ref={inputRef} onChange={handleLoadClick} hidden />\r\n            <SlidingIconButton icon='fas fa-save' className='hoverable color-off-primary-hover color-off-light reduced' onClick={() => handleSaveClick()} title='Save Character'>\r\n                Save\r\n            </SlidingIconButton>\r\n            <SlidingIconButton icon='fas fa-file-export' className='hoverable color-off-primary-hover color-off-light reduced' onClick={() => clickInput()} title='Load Character'>\r\n                Load\r\n            </SlidingIconButton>\r\n            {/* <i className='fas fa-save hoverable color-off-primary-hover color-off-light' title='Save Character' onClick={() => handleSaveClick()}></i> */}\r\n            {/* <i className='fas fa-file-export hoverable color-off-primary-hover color-off-light' title='Load Character' onClick={() => clickInput()}></i> */}\r\n        </div>\r\n    );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CharacterProps } from '.';\r\nimport { SlidingIconButton } from '../misc/SlidingIconButton';\r\nimport { SaveUploadCharacter } from '../SaveUploadCharacter';\r\nimport { Sidebar } from '../Sidebar';\r\n\r\nexport const CreateSidebar: React.FC<CharacterProps> = ({ character }) => {\r\n    const [links, setLinks] = useState<JSX.Element[]>();\r\n    const [elements, setElements] = useState<NodeListOf<HTMLHeadingElement>>();\r\n    useEffect(() => {\r\n        setElements(document.querySelectorAll('.create-header h1.header'));\r\n    }, []);\r\n    useEffect(() => {\r\n        if (!elements) return;\r\n        const l: [string, string][] = [];\r\n        elements.forEach(({ id, title }) => l.push([id, title]));\r\n\r\n        setLinks(\r\n            l.map(([id, title]) => {\r\n                const handleClick: React.MouseEventHandler<HTMLAnchorElement> = (event) => {\r\n                    const el = document.getElementById(id);\r\n                    el?.scrollIntoView();\r\n                };\r\n                return (\r\n                    <span onClick={handleClick} key={`hlink-${id}`}>\r\n                        <div className='create-sidebar-link'>{title}</div>\r\n                    </span>\r\n                );\r\n            })\r\n        );\r\n    }, [elements]);\r\n    return (\r\n        <Sidebar>\r\n            <Link to='/' className='no-underline'>\r\n                <div\r\n                    className='centered'\r\n                    style={{\r\n                        padding: '1em',\r\n                        width: '8.5em',\r\n                        position: 'relative',\r\n                        left: '51%',\r\n                        transform: 'translateX(-50%)',\r\n                    }}\r\n                >\r\n                    <SlidingIconButton icon='fas fa-angle-double-left' title='Home' className='hoverable color-off-light color-off-primary-hover reduced'>\r\n                        Home\r\n                    </SlidingIconButton>\r\n                </div>\r\n            </Link>\r\n            <SaveUploadCharacter character={character} />\r\n            <div className='header-links' style={{ maxHeight: '80vh' }}>\r\n                {links}\r\n            </div>\r\n        </Sidebar>\r\n    );\r\n};\r\n","import { iCharacter } from '../../models/character';\r\nimport { CreateCharacter } from './CreateCharacter';\r\nexport interface CharacterProps {\r\n    character: iCharacter;\r\n}\r\nexport * from './Section';\r\nexport * from './Header';\r\nexport * from './Race';\r\nexport * from './Class';\r\nexport * from './HitDice';\r\nexport * from './Health';\r\nexport * from './Skills';\r\nexport * from './CreateSidebar';\r\nexport * from './Background';\r\nexport * from './Alignment';\r\nexport default CreateCharacter;\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { CharacterProps, Class, CreateSidebar, Header, Health, HitDice, Race } from './';\r\nimport { Alignment } from './Alignment';\r\nimport { Background } from './Background';\r\nimport { Backstory } from './Backstory';\r\nimport { CharacterDescription } from './CharacterDescription';\r\nimport { Feats } from './Feats';\r\nimport { Items } from './Items';\r\nimport { MiniStats } from './MiniStats';\r\nimport { OtherProficiencies } from './OtherProficiencies';\r\nimport { SavingThrows } from './SavingThrows';\r\nimport { Skills } from './Skills';\r\nimport { Spells } from './Spells';\r\n\r\nexport const CreateCharacter: React.FC<CharacterProps> = ({ character }) => {\r\n    /* \r\n    Render the stats\r\n    Create inputs for the stats,\r\n    create a button to roll the stats automatically\r\n    Save button\r\n  */\r\n    useEffect(() => {\r\n        document.querySelectorAll('input').forEach((input) => {\r\n            input.setAttribute('autocomplete', 'nope');\r\n            input.setAttribute('autofill', 'nope');\r\n        });\r\n    }, []);\r\n    const handleDrop: React.DragEventHandler<HTMLElement> = (event) => {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        try {\r\n            const file = event.dataTransfer.files[0];\r\n            const read = new FileReader();\r\n\r\n            read.readAsBinaryString(file);\r\n\r\n            read.onloadend = function () {\r\n                if (typeof read.result === 'string') {\r\n                    const char = JSON.parse(read.result);\r\n                    character.deserialize(char);\r\n                }\r\n            };\r\n        } catch (e) {\r\n            console.log('Invalid file dropped!');\r\n        }\r\n    };\r\n    const handleDrag: React.DragEventHandler<HTMLElement> = (event) => {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <CreateSidebar character={character} />\r\n            <main className='page-main' onDrop={handleDrop} onDragOver={handleDrag}>\r\n                <div className='create-character'>\r\n                    <Header character={character} />\r\n                    <div className='create-main'>\r\n                        <Race character={character} />\r\n                        <Alignment character={character} />\r\n                        <Background character={character} />\r\n                        <Class character={character} />\r\n                        <HitDice character={character} />\r\n                        <Health character={character} />\r\n                        <SavingThrows character={character} />\r\n                        <Skills character={character} />\r\n                        <Feats character={character} />\r\n                        <Items character={character} />\r\n                        <Spells character={character} />\r\n                        <OtherProficiencies character={character} />\r\n                        <CharacterDescription character={character} />\r\n                        <Backstory character={character} />\r\n                    </div>\r\n                </div>\r\n            </main>\r\n            <MiniStats character={character} />\r\n        </>\r\n    );\r\n};\r\n","interface DnDAndSVGProps {\r\n    fill?: string;\r\n    stroke?: string;\r\n    strokeWidth?: string;\r\n    size?: string;\r\n    style?: React.CSSProperties;\r\n}\r\nexport const DnDAndSVG: React.FC<DnDAndSVGProps> = ({ fill, stroke, strokeWidth, size, style }) => {\r\n    return (\r\n        <svg className=\"hoverable dnd-logo\" xmlns=\"http://www.w3.org/2000/svg\" style={{ width: size, height: 'auto' }} viewBox=\"0 0 48 48\">\r\n            <defs>\r\n                <clipPath id=\"fill-clip\">\r\n\r\n                    <rect x=\"0\" y=\"0\" width=\"200\" height=\"600\" className=\"animate-upwards\" style={style || {}} />\r\n\r\n                </clipPath>\r\n            </defs>\r\n\r\n            <g strokeWidth={strokeWidth} stroke={stroke} fill={'transparent'}>\r\n                <path d=\"M35.25,31.001C36.283,31.724,37,33,37,34c0,1.25-0.25,2.125-1.125,3c0,0,0.125,0.125,0.75,0.125 c3.5,0,4.375-1.944,4.375-2.625c0-2-2-2.5-2-2.5c0.625-0.015,1.218,0.034,1.806,0.185c1.683,0.431,2.943,1.374,3.729,2.924 c0.306,0.604,0.456,1.206,0.464,1.794c0.016,1.159-0.5,2.346-1.625,3.346C41.525,41.894,38.125,42,38,42 c0.329,0.363,1.25,1.125,2.625,1.125C41.25,43.125,42,43,42,43c-0.036,0.047-0.75,0.875-2.64,1.576 C38.584,44.835,37.798,44.988,37,45c-0.47,0.007-0.943-0.035-1.42-0.132c-1.906-0.386-3.215-1.502-4.036-3.206 C31.27,41.094,31,39.875,31,39.625c-0.618,0.604-0.977,1.337-1,2.125c0.125,1.625,1.013,2.232,1,2.25c-0.144-0.059-3-0.625-3-4.625 c-0.013-0.642,0.003-1.161,0-1.75c-0.005-1.031-0.475-1.89-1.282-2.555c-1.359-1.12-2.723-2.236-4.093-3.343 c-0.935-0.756-1.518-1.686-1.531-2.901c-0.008-0.758-0.367-1.313-0.959-1.76c-0.372-0.281-0.749-0.561-1.086-0.88 c-0.595-0.564-0.706-1.262-0.503-2.047c0.035,0.029,0.064,0.041,0.068,0.059c0.233,0.944,0.953,1.287,1.831,1.429 c0.471,0.076,0.951,0.109,1.416,0.208c0.488,0.105,0.765,0.449,0.877,0.92c0.069,0.291,0.124,0.586,0.192,0.877 c0.131,0.561,0.416,0.795,0.997,0.832c0.382,0.024,0.765,0.043,1.146,0.081c0.597,0.06,1.115,0.299,1.578,0.676 c1.614,1.314,3.236,2.619,4.851,3.931C31.917,33.488,32.625,34,33.375,34c0.875,0,2-0.625,2-1.875 C35.375,31.375,35.25,31.001,35.25,31.001z\" /><path d=\"M25.891 36.073c-1.139-.939-2.284-1.872-3.431-2.802-.641 1.039-3.108 4.728-6.589 4.728-1.726 0-3.306-1.013-4.121-2.592-.49-.95-.75-2.052-.75-3.031 0-4.25 2.675-6.575 2.739-6.658-.726-.179-1.273-.103-1.864.29-.598.398-1.679 1.077-1.758 1.119C10 27.125 10 27.125 10 27l.375-2.5C9.799 24.694 8.5 25.375 7 26.875c-.75.75-1.357 1.416-1.357 1.416C5.25 26.875 5.875 24.375 5.997 23.5 6.069 22.99 5.872 23 5.872 23c-.25 0-.997.765-1.372 1.156-1.159 1.206-1.895 2.584-2.31 4.208C2.112 28.672 2.063 29.063 2 29.375 2.024 29.383 2.625 28.5 3.125 28.5c.25 0 .265.383.257.518-.013.209-.084.418-.15.621C2.768 31.074 2.503 32.525 2.492 34c-.005.676.044 1.356.151 2.042.183 1.167.467 2.021.981 3.083.726 1.5 2.033 2.812 2.125 2.875-.063-.214-.188-.505-.209-.67-.042-.319-.107-.647-.072-.962.044-.396.39-.486.678-.206.129.126 1.545 1.465 2.38 2.011 1.893 1.236 3.89 1.82 5.974 1.827 1.083.004 2.189-.148 3.317-.444 1.632-.429 3.072-1.223 4.356-2.295 1.645-1.372 2.912-3.132 3.921-4.989C26.028 36.205 25.969 36.137 25.891 36.073zM31.32 22.083c-1.992 1.314-3.654 3.497-5.105 5.364-.01.013-.016.027-.023.04.451.164.881.4 1.28.725.533.434 1.067.865 1.601 1.298.043-.087.083-.166.118-.239.989-2.037 2.183-4.476 3.696-6.181 1.478-1.666 4.073-2.181 5.999-1.251.24.116.434.167.624.16.194-.007.384-.073.615-.193 1.506-.778 3.133-1.17 4.829-1.159C45.288 20.65 46 20.75 46 20.75c-.625-.625-1.444-1.26-2.156-1.661C42.519 18.344 41.157 18 39.75 18c-2 0-3 .624-3.535.624-.215 0-.32-.058-.394-.156-.065-.085-.04-.276.01-.395C36.125 17.5 36.934 17.045 37 17c-.625 0-2.003.741-2.796 1.355-.533.412-1.062.829-1.599 1.236-.108.082-.238.147-.368.185-.353.103-.533-.071-.429-.414.047-.154.119-.304.199-.444.129-.227.275-.445.425-.683-3.807 2.391-4.459 5.671-4.432 5.641 1.118-1.216 2.382-2.165 3.875-2.875 1.495-.711 3.125-1.125 5-1.125 0 0 .125.101.125.125 0 0-.75 0-1.545.237C33.954 20.583 32.592 21.243 31.32 22.083z\" /><path d=\"M16.75,11.25c0,0.5,0.132,0.997,0.275,1.413c0.372,1.086,1.086,1.964,1.899,2.76 c0.802,0.785,1.649,1.525,2.467,2.294c0.825,0.775,1.542,1.63,1.968,2.686c0.241,0.597,0.36,1.216,0.266,1.858 c-0.026,0.179,0.04,0.265,0.199,0.333c0.406,0.173,0.664,0.46,0.686,0.915c0.01,0.215,0.144,0.181,0.273,0.114 c0.716-0.372,1.045-0.935,1.091-0.997c0.082,0.171,0.127,0.383,0.125,0.625c-0.012,1.346-1.205,3.555-2.328,3.995 c0.015-0.098,0.026-0.177,0.04-0.256c0.158-0.888-0.284-1.616-1.153-1.906c-0.587-0.196-1.072-0.2-1.685-0.209 c-0.094-0.001-0.357,0-0.5,0c0.047-0.108,0.393-0.823,0.47-1.101c0.11-0.395-0.034-0.677-0.439-0.766 c-0.439-0.097-0.896-0.158-1.345-0.156c-1.032,0.005-2.055,0.129-3.059,0.372c-0.14,0.034-0.366,0.106-0.503,0.151 c0.875,0,2,0.375,2,0.375s-0.5,1-0.5,1.625c0,0.5,0.25,0.875,0.5,0.875S17.886,26.082,18,26c-0.023,0.136-0.161,0.855-0.18,1.193 C17.791,27.724,18,28,18.625,28c0.125,0,0.25,0,0.375,0c-0.25,0.875-2.132,2.027-3.25,2c-0.074-0.002-0.143-0.009-0.208-0.022 C16,29.75,16.69,28.875,16.69,28.501l-1.492,0.19c0,0,0.509-0.635,0.672-0.954c0.423-0.825,0.47-1.668-0.09-2.456 c-0.473-0.666-1.239-0.951-2.03-1.03c-1.25,0-1.9,0.35-2,0.375c0.569-1.24,1.381-2.005,2.625-2.625c-1-0.5-2-0.625-2-0.625 c1-0.625,2.5-1.125,3.625-1.375c-0.125,0-0.437,0.004-0.5,0c-3.75,0-5.219,1.938-5.25,2c0.605,0.104,1,0.125,1.75,0.375 c0,0-2,0.375-5,2.625c0.02-0.113,0.375-0.875,0.375-1.625c0-2.625-3.324-2.099-3.375-2.125c0.081-0.073,0.75-0.625,2.863-1.645 c0.396-0.214,1.512-0.73,1.512-1.355c0-0.875-1.735-2.15-1.875-2.25c1.375,0,2.147,0.129,3.25,0.375 c-0.588-1.004-0.752-2.05-0.486-3.088c0.426,0.8,1.038,1.428,1.784,1.92c0.686,0.453,1.409,0.852,2.111,1.282 c0.532,0.326,1.084,0.628,1.576,1.005c0.378,0.29,0.677,0.681,1.008,1.028c0.055,0.058,0.099,0.126,0.149,0.189 c0.029-0.014,0.057-0.028,0.086-0.042c-0.079-0.197-0.142-0.402-0.239-0.591c-0.393-0.765-0.974-1.378-1.693-1.852 c-0.295-0.195-0.456-0.426-0.513-0.753c-0.171-0.969-0.175-1.919,0.011-2.85C13.645,12.121,14.25,11,14.25,11v0.125 c0.034,1.325,0.538,2.386,1.375,3.375c0.878,1.037,2.027,1.805,3.017,2.73c1.733,1.645,2.471,2.568,2.608,2.77 c0,0-0.051-0.214-0.082-0.283c-0.476-1.091-1.247-1.97-2.11-2.778c-0.75-0.702-1.512-1.393-2.275-2.082 c-0.276-0.25-0.439-0.547-0.483-0.91C16.125,12.5,16.737,11.259,16.75,11.25z M19,20c0,0,0.08,0.497,0.199,0.743 C19.75,21.875,21,22,21,22s0-0.875-1.25-1.75C19.381,19.992,19,20,19,20z\" /><path d=\"M8,12.625C8.25,11.375,9,10,9,10s0.463,1.573,1.25,2.625c0.389,0.52,0.909,1.098,1.514,1.497 c0.114,0.075,0.229,0.149,0.346,0.222c-0.022-0.674,0.031-1.334,0.159-1.974c0.109-0.545,0.492-1.328,0.73-1.784V10.5 C13,8.567,14.343,7,16,7s3,1.567,3,3.5c0,1.377-0.111,2.059-0.271,2.5c-0.014,0.037-0.028,0.071-0.042,0.106 c0.131,0.212,0.287,0.426,0.465,0.645c0.011,0.013,0.02,0.026,0.031,0.039c0.187,0.226,0.4,0.459,0.65,0.704 c0.471,0.461,0.976,0.922,1.463,1.367c0.33,0.301,0.66,0.602,0.985,0.908c0.079,0.074,0.142,0.147,0.217,0.221 C24.042,15.314,25,13.142,25,11c0-5-4.029-8-9-8s-9,3.125-9,8c0,1.216,0.318,2.439,0.865,3.58C7.829,14.041,7.892,13.167,8,12.625z\" />\r\n            </g>\r\n            <g strokeWidth={strokeWidth} stroke={stroke} fill={fill || 'transparent'} clipPath=\"url(#fill-clip)\">\r\n                <path d=\"M35.25,31.001C36.283,31.724,37,33,37,34c0,1.25-0.25,2.125-1.125,3c0,0,0.125,0.125,0.75,0.125 c3.5,0,4.375-1.944,4.375-2.625c0-2-2-2.5-2-2.5c0.625-0.015,1.218,0.034,1.806,0.185c1.683,0.431,2.943,1.374,3.729,2.924 c0.306,0.604,0.456,1.206,0.464,1.794c0.016,1.159-0.5,2.346-1.625,3.346C41.525,41.894,38.125,42,38,42 c0.329,0.363,1.25,1.125,2.625,1.125C41.25,43.125,42,43,42,43c-0.036,0.047-0.75,0.875-2.64,1.576 C38.584,44.835,37.798,44.988,37,45c-0.47,0.007-0.943-0.035-1.42-0.132c-1.906-0.386-3.215-1.502-4.036-3.206 C31.27,41.094,31,39.875,31,39.625c-0.618,0.604-0.977,1.337-1,2.125c0.125,1.625,1.013,2.232,1,2.25c-0.144-0.059-3-0.625-3-4.625 c-0.013-0.642,0.003-1.161,0-1.75c-0.005-1.031-0.475-1.89-1.282-2.555c-1.359-1.12-2.723-2.236-4.093-3.343 c-0.935-0.756-1.518-1.686-1.531-2.901c-0.008-0.758-0.367-1.313-0.959-1.76c-0.372-0.281-0.749-0.561-1.086-0.88 c-0.595-0.564-0.706-1.262-0.503-2.047c0.035,0.029,0.064,0.041,0.068,0.059c0.233,0.944,0.953,1.287,1.831,1.429 c0.471,0.076,0.951,0.109,1.416,0.208c0.488,0.105,0.765,0.449,0.877,0.92c0.069,0.291,0.124,0.586,0.192,0.877 c0.131,0.561,0.416,0.795,0.997,0.832c0.382,0.024,0.765,0.043,1.146,0.081c0.597,0.06,1.115,0.299,1.578,0.676 c1.614,1.314,3.236,2.619,4.851,3.931C31.917,33.488,32.625,34,33.375,34c0.875,0,2-0.625,2-1.875 C35.375,31.375,35.25,31.001,35.25,31.001z\" /><path d=\"M25.891 36.073c-1.139-.939-2.284-1.872-3.431-2.802-.641 1.039-3.108 4.728-6.589 4.728-1.726 0-3.306-1.013-4.121-2.592-.49-.95-.75-2.052-.75-3.031 0-4.25 2.675-6.575 2.739-6.658-.726-.179-1.273-.103-1.864.29-.598.398-1.679 1.077-1.758 1.119C10 27.125 10 27.125 10 27l.375-2.5C9.799 24.694 8.5 25.375 7 26.875c-.75.75-1.357 1.416-1.357 1.416C5.25 26.875 5.875 24.375 5.997 23.5 6.069 22.99 5.872 23 5.872 23c-.25 0-.997.765-1.372 1.156-1.159 1.206-1.895 2.584-2.31 4.208C2.112 28.672 2.063 29.063 2 29.375 2.024 29.383 2.625 28.5 3.125 28.5c.25 0 .265.383.257.518-.013.209-.084.418-.15.621C2.768 31.074 2.503 32.525 2.492 34c-.005.676.044 1.356.151 2.042.183 1.167.467 2.021.981 3.083.726 1.5 2.033 2.812 2.125 2.875-.063-.214-.188-.505-.209-.67-.042-.319-.107-.647-.072-.962.044-.396.39-.486.678-.206.129.126 1.545 1.465 2.38 2.011 1.893 1.236 3.89 1.82 5.974 1.827 1.083.004 2.189-.148 3.317-.444 1.632-.429 3.072-1.223 4.356-2.295 1.645-1.372 2.912-3.132 3.921-4.989C26.028 36.205 25.969 36.137 25.891 36.073zM31.32 22.083c-1.992 1.314-3.654 3.497-5.105 5.364-.01.013-.016.027-.023.04.451.164.881.4 1.28.725.533.434 1.067.865 1.601 1.298.043-.087.083-.166.118-.239.989-2.037 2.183-4.476 3.696-6.181 1.478-1.666 4.073-2.181 5.999-1.251.24.116.434.167.624.16.194-.007.384-.073.615-.193 1.506-.778 3.133-1.17 4.829-1.159C45.288 20.65 46 20.75 46 20.75c-.625-.625-1.444-1.26-2.156-1.661C42.519 18.344 41.157 18 39.75 18c-2 0-3 .624-3.535.624-.215 0-.32-.058-.394-.156-.065-.085-.04-.276.01-.395C36.125 17.5 36.934 17.045 37 17c-.625 0-2.003.741-2.796 1.355-.533.412-1.062.829-1.599 1.236-.108.082-.238.147-.368.185-.353.103-.533-.071-.429-.414.047-.154.119-.304.199-.444.129-.227.275-.445.425-.683-3.807 2.391-4.459 5.671-4.432 5.641 1.118-1.216 2.382-2.165 3.875-2.875 1.495-.711 3.125-1.125 5-1.125 0 0 .125.101.125.125 0 0-.75 0-1.545.237C33.954 20.583 32.592 21.243 31.32 22.083z\" /><path d=\"M16.75,11.25c0,0.5,0.132,0.997,0.275,1.413c0.372,1.086,1.086,1.964,1.899,2.76 c0.802,0.785,1.649,1.525,2.467,2.294c0.825,0.775,1.542,1.63,1.968,2.686c0.241,0.597,0.36,1.216,0.266,1.858 c-0.026,0.179,0.04,0.265,0.199,0.333c0.406,0.173,0.664,0.46,0.686,0.915c0.01,0.215,0.144,0.181,0.273,0.114 c0.716-0.372,1.045-0.935,1.091-0.997c0.082,0.171,0.127,0.383,0.125,0.625c-0.012,1.346-1.205,3.555-2.328,3.995 c0.015-0.098,0.026-0.177,0.04-0.256c0.158-0.888-0.284-1.616-1.153-1.906c-0.587-0.196-1.072-0.2-1.685-0.209 c-0.094-0.001-0.357,0-0.5,0c0.047-0.108,0.393-0.823,0.47-1.101c0.11-0.395-0.034-0.677-0.439-0.766 c-0.439-0.097-0.896-0.158-1.345-0.156c-1.032,0.005-2.055,0.129-3.059,0.372c-0.14,0.034-0.366,0.106-0.503,0.151 c0.875,0,2,0.375,2,0.375s-0.5,1-0.5,1.625c0,0.5,0.25,0.875,0.5,0.875S17.886,26.082,18,26c-0.023,0.136-0.161,0.855-0.18,1.193 C17.791,27.724,18,28,18.625,28c0.125,0,0.25,0,0.375,0c-0.25,0.875-2.132,2.027-3.25,2c-0.074-0.002-0.143-0.009-0.208-0.022 C16,29.75,16.69,28.875,16.69,28.501l-1.492,0.19c0,0,0.509-0.635,0.672-0.954c0.423-0.825,0.47-1.668-0.09-2.456 c-0.473-0.666-1.239-0.951-2.03-1.03c-1.25,0-1.9,0.35-2,0.375c0.569-1.24,1.381-2.005,2.625-2.625c-1-0.5-2-0.625-2-0.625 c1-0.625,2.5-1.125,3.625-1.375c-0.125,0-0.437,0.004-0.5,0c-3.75,0-5.219,1.938-5.25,2c0.605,0.104,1,0.125,1.75,0.375 c0,0-2,0.375-5,2.625c0.02-0.113,0.375-0.875,0.375-1.625c0-2.625-3.324-2.099-3.375-2.125c0.081-0.073,0.75-0.625,2.863-1.645 c0.396-0.214,1.512-0.73,1.512-1.355c0-0.875-1.735-2.15-1.875-2.25c1.375,0,2.147,0.129,3.25,0.375 c-0.588-1.004-0.752-2.05-0.486-3.088c0.426,0.8,1.038,1.428,1.784,1.92c0.686,0.453,1.409,0.852,2.111,1.282 c0.532,0.326,1.084,0.628,1.576,1.005c0.378,0.29,0.677,0.681,1.008,1.028c0.055,0.058,0.099,0.126,0.149,0.189 c0.029-0.014,0.057-0.028,0.086-0.042c-0.079-0.197-0.142-0.402-0.239-0.591c-0.393-0.765-0.974-1.378-1.693-1.852 c-0.295-0.195-0.456-0.426-0.513-0.753c-0.171-0.969-0.175-1.919,0.011-2.85C13.645,12.121,14.25,11,14.25,11v0.125 c0.034,1.325,0.538,2.386,1.375,3.375c0.878,1.037,2.027,1.805,3.017,2.73c1.733,1.645,2.471,2.568,2.608,2.77 c0,0-0.051-0.214-0.082-0.283c-0.476-1.091-1.247-1.97-2.11-2.778c-0.75-0.702-1.512-1.393-2.275-2.082 c-0.276-0.25-0.439-0.547-0.483-0.91C16.125,12.5,16.737,11.259,16.75,11.25z M19,20c0,0,0.08,0.497,0.199,0.743 C19.75,21.875,21,22,21,22s0-0.875-1.25-1.75C19.381,19.992,19,20,19,20z\" /><path d=\"M8,12.625C8.25,11.375,9,10,9,10s0.463,1.573,1.25,2.625c0.389,0.52,0.909,1.098,1.514,1.497 c0.114,0.075,0.229,0.149,0.346,0.222c-0.022-0.674,0.031-1.334,0.159-1.974c0.109-0.545,0.492-1.328,0.73-1.784V10.5 C13,8.567,14.343,7,16,7s3,1.567,3,3.5c0,1.377-0.111,2.059-0.271,2.5c-0.014,0.037-0.028,0.071-0.042,0.106 c0.131,0.212,0.287,0.426,0.465,0.645c0.011,0.013,0.02,0.026,0.031,0.039c0.187,0.226,0.4,0.459,0.65,0.704 c0.471,0.461,0.976,0.922,1.463,1.367c0.33,0.301,0.66,0.602,0.985,0.908c0.079,0.074,0.142,0.147,0.217,0.221 C24.042,15.314,25,13.142,25,11c0-5-4.029-8-9-8s-9,3.125-9,8c0,1.216,0.318,2.439,0.865,3.58C7.829,14.041,7.892,13.167,8,12.625z\" />\r\n            </g>\r\n        </svg>\r\n    );\r\n}","import { Home } from './Home';\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { SlidingIconButton } from '../misc/SlidingIconButton';\r\nimport { DnDAndSVG } from '../svg/DnDAndSVG';\r\n\r\nexport const Home: React.FC = () => {\r\n    /*\r\n        TODO: Rework these to be sliding icon buttons\r\n    */\r\n    return (\r\n        <div className='center-content home' style={{ height: '100vh', gridColumn: '1/-1' }}>\r\n            <DnDAndSVG size='50vh' stroke='black' style={{ animationDuration: '1s' }} fill='#E40712' strokeWidth='0.5' />\r\n            <div className='home-button-container flex-between color-off-light '>\r\n                <Link to='/create' className='no-decoration color-off-primary-hover fill'>\r\n                    <SlidingIconButton icon='fas fa-user-plus'>Create Character</SlidingIconButton>\r\n                </Link>\r\n                <Link to='/load' className='no-decoration color-off-primary-hover fill'>\r\n                    <SlidingIconButton iconSide='right' icon='fas fa-file-upload'>\r\n                        Load Character\r\n                    </SlidingIconButton>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","// import { useDice } from \"../../models/dice/dice\";\r\nimport { CharacterProps } from \"../CreateCharacter\";\r\nimport { SaveUploadCharacter } from \"../SaveUploadCharacter\";\r\n\r\nexport const LoadCharacter: React.FC<CharacterProps> = ({ character }) => {\r\n    // const { roll, DiceRoller } = useDice(character);\r\n    return (\r\n        <>\r\n            <div>\r\n                <SaveUploadCharacter character={character} />\r\n            </div>\r\n            <main className=\"page-main\" style={{ gridColumn: \"2/-1\" }}>\r\n                <div className=\"load-page-container\">\r\n                    {/* \r\n                        I need to design this page properly. It should be\r\n                        streamlined in such a way that the information is\r\n                        interactive, easy to read, and easily accessible.\r\n                    */}\r\n\r\n                    <div className=\"load-character-grid\">\r\n                        <div className=\"load-character-main\">\r\n                            <header className=\"load-player-header\" style={{ backgroundColor: 'hotpink' }}>\r\n                                Header\r\n                            </header>\r\n                            main\r\n                        </div>\r\n                        <aside className=\"load-character-sidebar\">\r\n                            aside\r\n                        </aside>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </>\r\n    );\r\n\r\n}","import { useCallback, useState } from 'react';\r\nimport { iCharacter, iSerializable } from './character';\r\nimport { iStatModel } from './stats';\r\nexport enum ProficiencyLevels {\r\n    none = 0,\r\n    single = 1,\r\n    double = 2,\r\n}\r\n\r\nexport interface iSavingThrowModel {\r\n    [key: string]: ProficiencyLevels;\r\n}\r\n\r\nexport interface iSavingThrows extends iSerializable<iSavingThrowModel> {\r\n    savingThrows: iSavingThrowModel;\r\n    setProficiencyLevel: (name: string, proficiencyLevel: ProficiencyLevels) => void;\r\n    getProficiencyLevel: (name: string) => ProficiencyLevels;\r\n    getProficiencyValue: (name: string, character: iCharacter) => number;\r\n}\r\n\r\nexport const useSavingThrows = (stats: iStatModel[]): iSavingThrows => {\r\n    const incoming: iSavingThrowModel = {};\r\n    stats.forEach((stat) => {\r\n        incoming[stat.name] = 0;\r\n    });\r\n    //Variables\r\n    const [savingThrows, _setSavingThrows] = useState<iSavingThrowModel>(incoming);\r\n\r\n    //Functions\r\n    const setProficiencyLevel = useCallback(\r\n        (name: string, proficiencyLevel: ProficiencyLevels) => {\r\n            _setSavingThrows((oldSavingThrows) => {\r\n                return { ...oldSavingThrows, [name]: proficiencyLevel };\r\n            });\r\n        },\r\n        [_setSavingThrows]\r\n    );\r\n\r\n    const getProficiencyLevel = useCallback(\r\n        (name: keyof iSavingThrowModel): ProficiencyLevels => {\r\n            let found;\r\n            if (savingThrows !== undefined) found = savingThrows[name];\r\n            return found || ProficiencyLevels.none;\r\n        },\r\n        [savingThrows]\r\n    );\r\n\r\n    const getProficiencyValue = useCallback(\r\n        (name: string, character: iCharacter) => {\r\n            const { stats, proficiency } = character;\r\n            const statFound = stats.modifier(name);\r\n            return statFound + proficiency * getProficiencyLevel(name);\r\n        },\r\n        [getProficiencyLevel]\r\n    );\r\n\r\n    //Serialization\r\n    const serialize = useCallback(() => savingThrows, [savingThrows]);\r\n    const deserialize = useCallback(\r\n        (incomingSavingThrows: iSavingThrowModel) => {\r\n            _setSavingThrows((oldThrows) => ({ ...oldThrows, ...incomingSavingThrows }));\r\n        },\r\n        [_setSavingThrows]\r\n    );\r\n\r\n    //Assemble Object\r\n    const outputSavingThrows: iSavingThrows = {\r\n        savingThrows,\r\n        setProficiencyLevel,\r\n        getProficiencyLevel,\r\n        getProficiencyValue,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n\r\n    return outputSavingThrows;\r\n};\r\n","import { useCallback, useState } from 'react';\r\nimport { iSerializable } from './character';\r\nimport { ProficiencyLevels } from './savingThrows';\r\nexport const blankProficiencies = () => {\r\n    const names: iProficienciesModel = {\r\n        Acrobatics: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Dexterity',\r\n        },\r\n        'Animal Handling': {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Wisdom',\r\n        },\r\n        Arcana: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Intelligence',\r\n        },\r\n        Athletics: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Strength',\r\n        },\r\n        Deception: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Charisma',\r\n        },\r\n        History: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Intelligence',\r\n        },\r\n        Insight: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Wisdom',\r\n        },\r\n        Intimidation: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Charisma',\r\n        },\r\n        Investigation: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Intelligence',\r\n        },\r\n        Medicine: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Wisdom',\r\n        },\r\n        Nature: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Intelligence',\r\n        },\r\n        Perception: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Wisdom',\r\n        },\r\n        Performance: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Charisma',\r\n        },\r\n        Persuasion: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Charisma',\r\n        },\r\n        Religion: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Intelligence',\r\n        },\r\n        'Sleight of Hand': {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Dexterity',\r\n        },\r\n        Stealth: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Dexterity',\r\n        },\r\n        Survival: {\r\n            proficiencyLevel: ProficiencyLevels.none,\r\n            governingSkill: 'Wisdom',\r\n        },\r\n    };\r\n    return names;\r\n};\r\n\r\ninterface ProficiencyModel {\r\n    proficiencyLevel: ProficiencyLevels;\r\n    governingSkill?: string;\r\n}\r\nexport interface iProficienciesModel {\r\n    [key: string]: ProficiencyModel;\r\n}\r\n\r\nexport interface iProficiencies extends iSerializable<iProficienciesModel> {\r\n    proficiencies: iProficienciesModel;\r\n    setProficiencyLevel: (key: keyof iProficienciesModel, value: ProficiencyLevels) => void;\r\n    addProficiency: (prof: keyof iProficienciesModel) => void;\r\n    removeProficiency: (name: string) => void;\r\n}\r\nexport const useProficiencies = (profs: iProficienciesModel = blankProficiencies()) => {\r\n    const [proficiencies, _setProficiencies] = useState<iProficienciesModel>(profs);\r\n\r\n    const removeProficiency = useCallback(\r\n        (name: string) => {\r\n            _setProficiencies((oldProfs) => {\r\n                delete oldProfs[name];\r\n                return oldProfs;\r\n            });\r\n        },\r\n        [_setProficiencies]\r\n    );\r\n\r\n    const addProficiency = useCallback(\r\n        (prof: keyof iProficienciesModel) => {\r\n            _setProficiencies((oldProfs) => ({ ...oldProfs, [prof]: { proficiencyLevel: 1 } }));\r\n        },\r\n        [_setProficiencies]\r\n    );\r\n    const setProficiencyLevel = useCallback(\r\n        (key: keyof iProficienciesModel, value: ProficiencyLevels) => {\r\n            _setProficiencies((profs) => {\r\n                return {\r\n                    ...profs,\r\n                    [key]: {\r\n                        ...profs[key],\r\n                        proficiencyLevel: value,\r\n                    },\r\n                };\r\n            });\r\n        },\r\n        [_setProficiencies]\r\n    );\r\n\r\n    // eslint-disable-next-line\r\n    const serialize = useCallback(() => proficiencies, [proficiencies]);\r\n    const deserialize = useCallback((incomingProficiencies: iProficienciesModel) => _setProficiencies(incomingProficiencies), [_setProficiencies]);\r\n\r\n    const exportedProficiencies: iProficiencies = {\r\n        proficiencies,\r\n        setProficiencyLevel,\r\n        addProficiency,\r\n        removeProficiency,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n    return exportedProficiencies;\r\n};\r\n","import { useCallback, useState } from 'react';\r\nimport { iClassModel, useClasses } from './classes';\r\nimport { iFeatModel, useFeats } from './feats/feats';\r\nimport { iItemModel, useItems } from './items/items';\r\nimport { iMoney, iMoneyModel, useMoney } from './money';\r\nimport { blankProficiencies, iProficienciesModel, useProficiencies } from './proficiencies';\r\nimport { iSavingThrowModel, useSavingThrows } from './savingThrows';\r\nimport { blankSpells, iSpellModel, useSpells } from './spells';\r\nimport { iStatModel, useStats } from './stats';\r\nexport interface iSerializable<T> {\r\n    serialize: () => T;\r\n    deserialize: (model: T) => void;\r\n}\r\n\r\nexport interface Description {\r\n    [key: string]: string;\r\n}\r\n\r\nconst blankDescription = (): Description => ({\r\n    age: '',\r\n    height: '',\r\n    weight: '',\r\n    eyes: '',\r\n    skin: '',\r\n    hair: '',\r\n});\r\n\r\nexport interface iCharacterModel {\r\n    name: string;\r\n    race: string;\r\n    background: string;\r\n    alignment: string;\r\n    backstory: string;\r\n    money: iMoneyModel;\r\n    description: Description;\r\n    hp: number;\r\n    feats: iFeatModel[];\r\n    spells: iSpellModel[][];\r\n    items: iItemModel[];\r\n    stats: iStatModel[];\r\n    classes: iClassModel[];\r\n    savingThrows: iSavingThrowModel;\r\n    proficiencies: iProficienciesModel;\r\n    otherProficiencies: iProficienciesModel;\r\n}\r\nexport type iCharacter = ReturnType<typeof useCharacter> & iSerializable<iCharacterModel>;\r\nexport const blankCharacter = (): iCharacterModel => {\r\n    const char: iCharacterModel = {\r\n        name: '',\r\n        race: '',\r\n        background: '',\r\n        alignment: '',\r\n        backstory: '',\r\n        money: [0, 0, 0, 0, 0],\r\n        items: [],\r\n        feats: [],\r\n        spells: blankSpells,\r\n        description: blankDescription(),\r\n        hp: 0,\r\n        stats: [\r\n            {\r\n                name: 'Strength',\r\n                short_name: 'Str',\r\n                value: 0,\r\n            },\r\n            {\r\n                name: 'Dexterity',\r\n                short_name: 'Dex',\r\n                value: 0,\r\n            },\r\n            {\r\n                name: 'Constitution',\r\n                short_name: 'Con',\r\n                value: 0,\r\n            },\r\n            {\r\n                name: 'Intelligence',\r\n                short_name: 'Int',\r\n                value: 0,\r\n            },\r\n            {\r\n                name: 'Wisdom',\r\n                short_name: 'Wis',\r\n                value: 0,\r\n            },\r\n            {\r\n                name: 'Charisma',\r\n                short_name: 'Cha',\r\n                value: 0,\r\n            },\r\n        ],\r\n        savingThrows: {},\r\n        proficiencies: blankProficiencies(),\r\n        otherProficiencies: {},\r\n        classes: [],\r\n    };\r\n\r\n    return char;\r\n};\r\n\r\nexport const useCharacter = (char: iCharacterModel) => {\r\n    const [background, setBackground] = useState(char.background);\r\n    const [backstory, setBackstory] = useState(char.backstory);\r\n    const [alignment, setAlignment] = useState(char.alignment);\r\n    const [description, setDescription] = useState(char.description);\r\n    const [name, setName] = useState(char.name);\r\n    const [hp, setHP] = useState(char.hp);\r\n    const [race, setRace] = useState(char.race);\r\n    const classes = useClasses(char.classes);\r\n    const stats = useStats(char.stats);\r\n    const feats = useFeats(char.feats);\r\n    const savingThrows = useSavingThrows(char.stats);\r\n    const proficiencies = useProficiencies(char.proficiencies);\r\n    const otherProficiencies = useProficiencies(char.otherProficiencies);\r\n    const money: iMoney = useMoney(char.money);\r\n    const items = useItems(char);\r\n    const spells = useSpells(char.spells);\r\n    const _proficiency = useCallback(() => {\r\n        return 1 + Math.ceil(classes.totalLevel() / 4);\r\n    }, [classes]);\r\n\r\n    const serialize = useCallback(() => {\r\n        const char: iCharacterModel = {\r\n            name,\r\n            hp,\r\n            race,\r\n            alignment,\r\n            backstory,\r\n            description,\r\n            stats: stats.stats,\r\n            feats: feats.serialize(),\r\n            classes: classes.serialize(),\r\n            savingThrows: savingThrows.serialize(),\r\n            proficiencies: proficiencies.serialize(),\r\n            otherProficiencies: otherProficiencies.serialize(),\r\n            spells: spells.serialize(),\r\n            items: items.serialize(),\r\n            money: money.serialize(),\r\n            background,\r\n        };\r\n        return char;\r\n    }, [savingThrows, name, spells, description, race, money, items, hp, classes, stats, proficiencies, background, otherProficiencies, alignment, backstory, items, items.items]);\r\n\r\n    const deserialize = useCallback(\r\n        (char: iCharacterModel) => {\r\n            setName(char.name);\r\n            setHP(char.hp);\r\n            setAlignment(char.alignment);\r\n            stats.deserialize(char.stats);\r\n            classes.deserialize(char.classes);\r\n            items.deserialize(char.items);\r\n            setRace(char.race);\r\n            setDescription(char.description);\r\n            setBackstory(char.backstory);\r\n            spells.deserialize(char.spells);\r\n            savingThrows.deserialize(char.savingThrows);\r\n            proficiencies.deserialize(char.proficiencies);\r\n            otherProficiencies.deserialize(char.otherProficiencies);\r\n            money.deserialize(char.money);\r\n            setBackground(char.background);\r\n            feats.deserialize(char.feats);\r\n        },\r\n        [savingThrows, otherProficiencies, feats, spells, proficiencies, setName, stats, classes, setDescription, setAlignment, setBackstory]\r\n    );\r\n\r\n    const character = {\r\n        name,\r\n        hp,\r\n        alignment,\r\n        background,\r\n        backstory,\r\n        description,\r\n        setDescription,\r\n        setBackstory,\r\n        setBackground,\r\n        feats,\r\n        items,\r\n        spells,\r\n        setAlignment,\r\n        setName,\r\n        setHP,\r\n        stats,\r\n        race,\r\n        savingThrows,\r\n        get proficiency() {\r\n            return _proficiency();\r\n        },\r\n        get level() {\r\n            return classes.totalLevel();\r\n        },\r\n        proficiencies,\r\n        otherProficiencies,\r\n        setRace,\r\n        classes,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n    return character;\r\n};\r\n","import { useCallback, useState } from 'react';\r\nimport { iSerializable } from './character';\r\nexport interface iClassModel {\r\n    name: string;\r\n    level?: number;\r\n    hitDice?: number;\r\n}\r\nexport interface iClass extends iSerializable<iClassModel[]> {\r\n    classes: iClassModel[];\r\n    addClass: (c: string) => void;\r\n    removeClass: (c: string) => void;\r\n    toggleClass: (c: string) => void;\r\n    setDice: (name: string, hitDice: number) => void;\r\n    setLevel: (name: string, level: number) => void;\r\n    totalLevel: () => number;\r\n    includes: (name: string) => boolean;\r\n}\r\n\r\nexport const useClasses = (_classes: iClassModel[]): iClass => {\r\n    //Variables\r\n    const [classes, _setClasses] = useState<iClassModel[]>(_classes);\r\n\r\n    const includes = useCallback((name: string) => classes.some((oc) => oc.name === name), [classes]);\r\n    const _setClassProperty = useCallback(\r\n        (className: string, key: keyof iClassModel, value: iClassModel[keyof iClassModel]) => {\r\n            _setClasses((oldClasses) =>\r\n                oldClasses.map((c) => {\r\n                    return c.name === className ? { ...c, [key]: value } : c;\r\n                })\r\n            );\r\n        },\r\n        [_setClasses]\r\n    );\r\n    const setDice = useCallback((name: string, hitDice: number) => _setClassProperty(name, 'hitDice', hitDice), [_setClassProperty]);\r\n    const setLevel = useCallback((name: string, level: number) => _setClassProperty(name, 'level', level), [_setClassProperty]);\r\n\r\n    //Functions\r\n    const addClass = useCallback(\r\n        (c: string) => {\r\n            _setClasses((oldClasses) => (!oldClasses.some((oc) => oc.name === c) ? [...oldClasses, { name: c, level: 1 }] : oldClasses));\r\n        },\r\n        [_setClasses]\r\n    );\r\n    const removeClass = useCallback(\r\n        (c: string) => {\r\n            _setClasses((oldClasses) => oldClasses.filter((cl) => cl.name.toLowerCase() !== c.toLowerCase()));\r\n        },\r\n        [_setClasses]\r\n    );\r\n\r\n    const deserialize = useCallback(\r\n        (c: iClassModel[]) => {\r\n            _setClasses(c);\r\n        },\r\n        [_setClasses]\r\n    );\r\n\r\n    const totalLevel = useCallback(() => {\r\n        let level = 0;\r\n        classes.forEach((c) => (level += c.level || 0));\r\n        return level;\r\n    }, [classes]);\r\n\r\n    const serialize = useCallback(() => {\r\n        console.log('SERIALIZED CLASSES', classes);\r\n        return classes;\r\n    }, [classes]);\r\n\r\n    const toggleClass = useCallback(\r\n        (c: string) => {\r\n            if (includes(c)) {\r\n                removeClass(c);\r\n            } else {\r\n                addClass(c);\r\n            }\r\n        },\r\n        [includes, addClass, removeClass]\r\n    );\r\n\r\n    const cl: iClass = {\r\n        classes,\r\n        addClass,\r\n        removeClass,\r\n        toggleClass,\r\n        includes,\r\n        setDice,\r\n        setLevel,\r\n        totalLevel,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n\r\n    return cl;\r\n};\r\n","import { useCallback, useState } from 'react';\r\nexport interface iStatModel {\r\n    name: string;\r\n    short_name?: string;\r\n    value: number;\r\n}\r\n\r\nexport interface iStats {\r\n    stats: iStatModel[];\r\n    modifier: (index: string) => number;\r\n    setValue: (incomingStat: iStatModel) => void;\r\n    deserialize: (stats: iStatModel[]) => void;\r\n}\r\n\r\nexport const useStats = (statModels: iStatModel[]) => {\r\n    const [stats, _setStats] = useState(statModels);\r\n\r\n    const setValue = useCallback(\r\n        (incomingStat: iStatModel) => {\r\n            //find this name in the index array, splice it out and insert it back changed in that place\r\n\r\n            _setStats((oldStats) =>\r\n                oldStats.map((s) => {\r\n                    return s.name === incomingStat.name ? { ...s, ...incomingStat } : s;\r\n                })\r\n            );\r\n        },\r\n        [_setStats]\r\n    );\r\n    const deserialize = useCallback(\r\n        (stats: iStatModel[]) => {\r\n            _setStats(stats);\r\n        },\r\n        [_setStats]\r\n    );\r\n\r\n    const modifier = useCallback(\r\n        (name: string) => {\r\n            const stat = stats.find((stat) => stat.name.toLowerCase().startsWith(name.toLowerCase()));\r\n            if (stat) {\r\n                return Math.floor((stat.value - 10) / 2);\r\n            }\r\n            return 0;\r\n        },\r\n        [stats]\r\n    );\r\n    const stat: iStats = {\r\n        stats,\r\n        setValue,\r\n        modifier,\r\n        deserialize,\r\n    };\r\n\r\n    return stat;\r\n};\r\n","import { useCallback, useState } from 'react';\r\nimport { iCharacterModel } from '../character';\r\nimport { ItemType } from './ItemType';\r\nimport { mapRarity, Rarity } from './Rarity';\r\n/* \r\n    Authored by:\r\n        Trevor Brown\r\n\r\n    The goal of the useItems hook is to contain all of the info repated to\r\n    a users items. This will be done by creating a robust set of interfaces for items\r\n*/\r\n\r\nexport interface RollableProperty {\r\n    name: string;\r\n    magnitude: string;\r\n    magnitudeType?: string; // ? What the fuck does this mean? - It means the damage type (fire, slashing,... etc)\r\n}\r\n\r\n/* \r\n    An item will contain the barebones set of properties needed to encapsulate everything needed to\r\n    define a weapon. A name, description, rarity and a set of rollable properties.\r\n*/\r\n\r\n/* \r\nRollable Properties:\r\nA rollable property is an additional property added onto an item, this could be like the dice for a weapon or\r\nsome sort of effect. Defining rollable properties allows them to be automatically rolled at the click of a button\r\n\r\nTODO: Add \"+- mod\" to useDice ex: + con to add constitution modifier.\r\n*/\r\nexport interface Rollable {\r\n    rollableProps: RollableProperty[];\r\n}\r\nexport interface iItemModel extends Rollable {\r\n    name: string;\r\n    rarity?: Rarity;\r\n    description?: string;\r\n    cost?: string;\r\n    weight?: string;\r\n    type?: ItemType;\r\n}\r\n\r\nexport const useItems = (character: iCharacterModel) => {\r\n    const [items, setItems] = useState<iItemModel[]>([]);\r\n    const addItem = useCallback(\r\n        (item: iItemModel) => {\r\n            setItems((items) => [...items, item]);\r\n        },\r\n        [setItems]\r\n    );\r\n\r\n    const removeItem = useCallback(\r\n        (id: string | number) => {\r\n            let index = typeof id === 'string' ? items.findIndex((item) => item.name === id) : id;\r\n\r\n            setItems((items) => {\r\n                items.splice(index, 1);\r\n                return items;\r\n            });\r\n        },\r\n        [setItems, items]\r\n    );\r\n    const serialize = useCallback(() => items, [items]);\r\n    const deserialize = useCallback((items: iItemModel[]) => setItems(items), [setItems]);\r\n\r\n    const obj = {\r\n        items,\r\n        addItem,\r\n        removeItem,\r\n        mapRarity,\r\n        serialize,\r\n        deserialize,\r\n    };\r\n\r\n    return obj;\r\n};\r\n\r\nexport type iItems = ReturnType<typeof useItems>;\r\n","import { useState, useCallback } from \"react\";\r\n\r\ninterface NotificationProps {\r\n    message: string;\r\n    setVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n    timeout: NodeJS.Timeout | undefined;\r\n    setCurrentTimeout: React.Dispatch<React.SetStateAction<NodeJS.Timeout | undefined>>;\r\n}\r\nexport const usePopup = (message: string) => {\r\n    const [visible, _setVisible] = useState(false);\r\n    const [currentTimeout, setCurrentTimeout] = useState<NodeJS.Timeout>();\r\n    const setVisible = useCallback(() => {\r\n        if (currentTimeout) return;\r\n        _setVisible(true);\r\n        clearTimeout(currentTimeout);\r\n        setCurrentTimeout(setTimeout(() => {\r\n            _setVisible(false)\r\n            setCurrentTimeout(undefined);\r\n        }, 3500));\r\n    }, [_setVisible, currentTimeout])\r\n    const Popup = () => {\r\n        return (visible && <Notification message={message} setVisible={_setVisible} setCurrentTimeout={setCurrentTimeout} timeout={currentTimeout} />)\r\n    }\r\n\r\n    return [setVisible, Popup];\r\n}\r\nconst Notification: React.FC<NotificationProps> = ({ message, setVisible, timeout, setCurrentTimeout }) => {\r\n    return (\r\n        <div className=\"notification pointer\" onClick={() => {\r\n            setVisible(false);\r\n            timeout && clearTimeout(timeout);\r\n            setCurrentTimeout(undefined);\r\n        }}>\r\n            <div className=\"fill\"></div>\r\n            <div className=\"content\">\r\n                {message}\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { FeatCard } from './components/CreateCharacter/Feats/FeatCard';\r\nimport { SpellCard } from './components/CreateCharacter/Spells/SpellCard';\r\nimport { usePopup } from './components/misc/Notification';\r\nimport { SlidingIconButton } from './components/misc/SlidingIconButton';\r\nimport { blankCharacter, useCharacter } from './models/character';\r\nimport { iSpellModel } from './models/spells';\r\nimport { SPELL_LEVEL } from './models/spells/SpellLevel';\r\nimport { SPELL_SCHOOL } from './models/spells/SpellSchool';\r\n/* \r\n    TODO: Rework the RollableProp form to be used twice.\r\n    TODO: Rework the RollableProp modal to be used twice.\r\n\r\n*/\r\ninterface SpellRegistry {\r\n    [key: string]: iSpellModel;\r\n}\r\nconst spells: SpellRegistry = {\r\n    'Acid Splash': {\r\n        name: 'Acid Splash',\r\n        casting_time: 'instant',\r\n        school: SPELL_SCHOOL.CONJURATION,\r\n        level: SPELL_LEVEL.CANTRIP,\r\n        component: 'V, S',\r\n        duration: 'Instantaneous',\r\n        description:\r\n            'You hurl a bubble of acid. Choose one creature within range, or choose two creatures within range that are within 5 feet of each other. A target must succeed on a Dexterity saving throw or take 1d6 acid damage.',\r\n        range: '60 feet',\r\n        rollableProps: [],\r\n    },\r\n};\r\n\r\nexport const Testing: React.FC = () => {\r\n    const char = useCharacter(blankCharacter());\r\n    const [setVisible, Popup] = usePopup('Hello There!');\r\n    return (\r\n        <div\r\n            style={{\r\n                background: 'white',\r\n                height: '100vh',\r\n                gridColumn: '1/-1',\r\n            }}\r\n        >\r\n            <FeatCard character={char} feat={{ name: 'Test', notes: 'Test desc', rollableProps: [] }} />\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport CreateCharacter from './components/CreateCharacter';\r\n//Pages\r\nimport Home from './components/Home';\r\nimport { LoadCharacter } from './components/LoadCharacter/LoadCharacter';\r\nimport { blankCharacter, iCharacter, iCharacterModel, useCharacter } from './models/character';\r\nimport './styles/faall.min.css';\r\nimport './styles/style.css';\r\nimport { Testing } from './Testing';\r\n\r\n/*\r\n  GOAL:\r\n  The app will serve as an interactive character sheet for dnd 5e.\r\n  There will be a number of sections. All of the logic for the app will be contained on a single page\r\n\r\n\r\n  PAGES:\r\n    Character Select:\r\n      Here they can load their character json data into the app or create a new one\r\n    Character Create?:\r\n      Possibly unessicarry\r\n\r\n    Character View:\r\n      This is the main page of the app all of the apps logic will be here\r\n\r\n*/\r\n\r\nconst App: React.FC = (props) => {\r\n    const char: iCharacterModel = blankCharacter();\r\n    const character: iCharacter = useCharacter(char);\r\n    return (\r\n        <Router>\r\n            <div className='page-container'>\r\n                <Switch>\r\n                    {/* Create Character Page */}\r\n                    <Route path='/create' exact>\r\n                        <CreateCharacter character={character} />\r\n                    </Route>\r\n\r\n                    <Route path='/load' exact>\r\n                        <LoadCharacter character={character} />\r\n                    </Route>\r\n\r\n                    {/* Home Page */}\r\n                    <Route path='/' exact>\r\n                        <Home />\r\n                    </Route>\r\n                    <Route path='/testing' exact>\r\n                        <Testing />\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <div className=\"theme\">\n      <App />\n    </div>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nserviceWorkerRegistration.register();\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}